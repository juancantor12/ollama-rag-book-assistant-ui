var Lk=Object.defineProperty;var X1=a=>{throw TypeError(a)};var Ok=(a,t,e)=>t in a?Lk(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var Mt=(a,t,e)=>Ok(a,typeof t!="symbol"?t+"":t,e),Sb=(a,t,e)=>t.has(a)||X1("Cannot "+e);var d=(a,t,e)=>(Sb(a,t,"read from private field"),e?e.call(a):t.get(a)),k=(a,t,e)=>t.has(a)?X1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(a):t.set(a,e),x=(a,t,e,i)=>(Sb(a,t,"write to private field"),i?i.call(a,e):t.set(a,e),e),w=(a,t,e)=>(Sb(a,t,"access private method"),e);var On=(a,t,e,i)=>({set _(r){x(a,t,r,e)},get _(){return d(a,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function x0(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Eb={exports:{}},Rh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y1;function Nk(){if(Y1)return Rh;Y1=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var u=null;if(o!==void 0&&(u=""+o),r.key!==void 0&&(u=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:a,type:i,key:u,ref:r!==void 0?r:null,props:o}}return Rh.Fragment=t,Rh.jsx=e,Rh.jsxs=e,Rh}var K1;function Pk(){return K1||(K1=1,Eb.exports=Nk()),Eb.exports}var ct=Pk(),_b={exports:{}},Pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q1;function zk(){if(Q1)return Pt;Q1=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.iterator;function v(_){return _===null||typeof _!="object"?null:(_=b&&_[b]||_["@@iterator"],typeof _=="function"?_:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function D(_,Y,rt){this.props=_,this.context=Y,this.refs=T,this.updater=rt||A}D.prototype.isReactComponent={},D.prototype.setState=function(_,Y){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,Y,"setState")},D.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function C(){}C.prototype=D.prototype;function P(_,Y,rt){this.props=_,this.context=Y,this.refs=T,this.updater=rt||A}var N=P.prototype=new C;N.constructor=P,E(N,D.prototype),N.isPureReactComponent=!0;var I=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function q(_,Y,rt,M,pt,xt){return rt=xt.ref,{$$typeof:a,type:_,key:Y,ref:rt!==void 0?rt:null,props:xt}}function K(_,Y){return q(_.type,Y,void 0,void 0,void 0,_.props)}function tt(_){return typeof _=="object"&&_!==null&&_.$$typeof===a}function ot(_){var Y={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(rt){return Y[rt]})}var Q=/\/+/g;function it(_,Y){return typeof _=="object"&&_!==null&&_.key!=null?ot(""+_.key):Y.toString(36)}function st(){}function J(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(st,st):(_.status="pending",_.then(function(Y){_.status==="pending"&&(_.status="fulfilled",_.value=Y)},function(Y){_.status==="pending"&&(_.status="rejected",_.reason=Y)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function at(_,Y,rt,M,pt){var xt=typeof _;(xt==="undefined"||xt==="boolean")&&(_=null);var ht=!1;if(_===null)ht=!0;else switch(xt){case"bigint":case"string":case"number":ht=!0;break;case"object":switch(_.$$typeof){case a:case t:ht=!0;break;case g:return ht=_._init,at(ht(_._payload),Y,rt,M,pt)}}if(ht)return pt=pt(_),ht=M===""?"."+it(_,0):M,I(pt)?(rt="",ht!=null&&(rt=ht.replace(Q,"$&/")+"/"),at(pt,Y,rt,"",function(de){return de})):pt!=null&&(tt(pt)&&(pt=K(pt,rt+(pt.key==null||_&&_.key===pt.key?"":(""+pt.key).replace(Q,"$&/")+"/")+ht)),Y.push(pt)),1;ht=0;var Tt=M===""?".":M+":";if(I(_))for(var Lt=0;Lt<_.length;Lt++)M=_[Lt],xt=Tt+it(M,Lt),ht+=at(M,Y,rt,xt,pt);else if(Lt=v(_),typeof Lt=="function")for(_=Lt.call(_),Lt=0;!(M=_.next()).done;)M=M.value,xt=Tt+it(M,Lt++),ht+=at(M,Y,rt,xt,pt);else if(xt==="object"){if(typeof _.then=="function")return at(J(_),Y,rt,M,pt);throw Y=String(_),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ht}function H(_,Y,rt){if(_==null)return _;var M=[],pt=0;return at(_,M,"","",function(xt){return Y.call(rt,xt,pt++)}),M}function G(_){if(_._status===-1){var Y=_._result;Y=Y(),Y.then(function(rt){(_._status===0||_._status===-1)&&(_._status=1,_._result=rt)},function(rt){(_._status===0||_._status===-1)&&(_._status=2,_._result=rt)}),_._status===-1&&(_._status=0,_._result=Y)}if(_._status===1)return _._result.default;throw _._result}var et=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)};function St(){}return Pt.Children={map:H,forEach:function(_,Y,rt){H(_,function(){Y.apply(this,arguments)},rt)},count:function(_){var Y=0;return H(_,function(){Y++}),Y},toArray:function(_){return H(_,function(Y){return Y})||[]},only:function(_){if(!tt(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},Pt.Component=D,Pt.Fragment=e,Pt.Profiler=r,Pt.PureComponent=P,Pt.StrictMode=i,Pt.Suspense=f,Pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Pt.__COMPILER_RUNTIME={__proto__:null,c:function(_){return F.H.useMemoCache(_)}},Pt.cache=function(_){return function(){return _.apply(null,arguments)}},Pt.cloneElement=function(_,Y,rt){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var M=E({},_.props),pt=_.key,xt=void 0;if(Y!=null)for(ht in Y.ref!==void 0&&(xt=void 0),Y.key!==void 0&&(pt=""+Y.key),Y)!L.call(Y,ht)||ht==="key"||ht==="__self"||ht==="__source"||ht==="ref"&&Y.ref===void 0||(M[ht]=Y[ht]);var ht=arguments.length-2;if(ht===1)M.children=rt;else if(1<ht){for(var Tt=Array(ht),Lt=0;Lt<ht;Lt++)Tt[Lt]=arguments[Lt+2];M.children=Tt}return q(_.type,pt,void 0,void 0,xt,M)},Pt.createContext=function(_){return _={$$typeof:u,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:o,_context:_},_},Pt.createElement=function(_,Y,rt){var M,pt={},xt=null;if(Y!=null)for(M in Y.key!==void 0&&(xt=""+Y.key),Y)L.call(Y,M)&&M!=="key"&&M!=="__self"&&M!=="__source"&&(pt[M]=Y[M]);var ht=arguments.length-2;if(ht===1)pt.children=rt;else if(1<ht){for(var Tt=Array(ht),Lt=0;Lt<ht;Lt++)Tt[Lt]=arguments[Lt+2];pt.children=Tt}if(_&&_.defaultProps)for(M in ht=_.defaultProps,ht)pt[M]===void 0&&(pt[M]=ht[M]);return q(_,xt,void 0,void 0,null,pt)},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(_){return{$$typeof:h,render:_}},Pt.isValidElement=tt,Pt.lazy=function(_){return{$$typeof:g,_payload:{_status:-1,_result:_},_init:G}},Pt.memo=function(_,Y){return{$$typeof:p,type:_,compare:Y===void 0?null:Y}},Pt.startTransition=function(_){var Y=F.T,rt={};F.T=rt;try{var M=_(),pt=F.S;pt!==null&&pt(rt,M),typeof M=="object"&&M!==null&&typeof M.then=="function"&&M.then(St,et)}catch(xt){et(xt)}finally{F.T=Y}},Pt.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Pt.use=function(_){return F.H.use(_)},Pt.useActionState=function(_,Y,rt){return F.H.useActionState(_,Y,rt)},Pt.useCallback=function(_,Y){return F.H.useCallback(_,Y)},Pt.useContext=function(_){return F.H.useContext(_)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(_,Y){return F.H.useDeferredValue(_,Y)},Pt.useEffect=function(_,Y,rt){var M=F.H;if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return M.useEffect(_,Y)},Pt.useId=function(){return F.H.useId()},Pt.useImperativeHandle=function(_,Y,rt){return F.H.useImperativeHandle(_,Y,rt)},Pt.useInsertionEffect=function(_,Y){return F.H.useInsertionEffect(_,Y)},Pt.useLayoutEffect=function(_,Y){return F.H.useLayoutEffect(_,Y)},Pt.useMemo=function(_,Y){return F.H.useMemo(_,Y)},Pt.useOptimistic=function(_,Y){return F.H.useOptimistic(_,Y)},Pt.useReducer=function(_,Y,rt){return F.H.useReducer(_,Y,rt)},Pt.useRef=function(_){return F.H.useRef(_)},Pt.useState=function(_){return F.H.useState(_)},Pt.useSyncExternalStore=function(_,Y,rt){return F.H.useSyncExternalStore(_,Y,rt)},Pt.useTransition=function(){return F.H.useTransition()},Pt.version="19.1.0",Pt}var W1;function w0(){return W1||(W1=1,_b.exports=zk()),_b.exports}var dt=w0(),xb={exports:{}},kh={},wb={exports:{}},Tb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $1;function Ik(){return $1||($1=1,function(a){function t(H,G){var et=H.length;H.push(G);t:for(;0<et;){var St=et-1>>>1,_=H[St];if(0<r(_,G))H[St]=G,H[et]=_,et=St;else break t}}function e(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var G=H[0],et=H.pop();if(et!==G){H[0]=et;t:for(var St=0,_=H.length,Y=_>>>1;St<Y;){var rt=2*(St+1)-1,M=H[rt],pt=rt+1,xt=H[pt];if(0>r(M,et))pt<_&&0>r(xt,M)?(H[St]=xt,H[pt]=et,St=pt):(H[St]=M,H[rt]=et,St=rt);else if(pt<_&&0>r(xt,et))H[St]=xt,H[pt]=et,St=pt;else break t}}return G}function r(H,G){var et=H.sortIndex-G.sortIndex;return et!==0?et:H.id-G.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;a.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();a.unstable_now=function(){return u.now()-h}}var f=[],p=[],g=1,b=null,v=3,A=!1,E=!1,T=!1,D=!1,C=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function I(H){for(var G=e(p);G!==null;){if(G.callback===null)i(p);else if(G.startTime<=H)i(p),G.sortIndex=G.expirationTime,t(f,G);else break;G=e(p)}}function F(H){if(T=!1,I(H),!E)if(e(f)!==null)E=!0,L||(L=!0,it());else{var G=e(p);G!==null&&at(F,G.startTime-H)}}var L=!1,q=-1,K=5,tt=-1;function ot(){return D?!0:!(a.unstable_now()-tt<K)}function Q(){if(D=!1,L){var H=a.unstable_now();tt=H;var G=!0;try{t:{E=!1,T&&(T=!1,P(q),q=-1),A=!0;var et=v;try{e:{for(I(H),b=e(f);b!==null&&!(b.expirationTime>H&&ot());){var St=b.callback;if(typeof St=="function"){b.callback=null,v=b.priorityLevel;var _=St(b.expirationTime<=H);if(H=a.unstable_now(),typeof _=="function"){b.callback=_,I(H),G=!0;break e}b===e(f)&&i(f),I(H)}else i(f);b=e(f)}if(b!==null)G=!0;else{var Y=e(p);Y!==null&&at(F,Y.startTime-H),G=!1}}break t}finally{b=null,v=et,A=!1}G=void 0}}finally{G?it():L=!1}}}var it;if(typeof N=="function")it=function(){N(Q)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,J=st.port2;st.port1.onmessage=Q,it=function(){J.postMessage(null)}}else it=function(){C(Q,0)};function at(H,G){q=C(function(){H(a.unstable_now())},G)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return v},a.unstable_next=function(H){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var et=v;v=G;try{return H()}finally{v=et}},a.unstable_requestPaint=function(){D=!0},a.unstable_runWithPriority=function(H,G){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var et=v;v=H;try{return G()}finally{v=et}},a.unstable_scheduleCallback=function(H,G,et){var St=a.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?St+et:St):et=St,H){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=et+_,H={id:g++,callback:G,priorityLevel:H,startTime:et,expirationTime:_,sortIndex:-1},et>St?(H.sortIndex=et,t(p,H),e(f)===null&&H===e(p)&&(T?(P(q),q=-1):T=!0,at(F,et-St))):(H.sortIndex=_,t(f,H),E||A||(E=!0,L||(L=!0,it()))),H},a.unstable_shouldYield=ot,a.unstable_wrapCallback=function(H){var G=v;return function(){var et=v;v=G;try{return H.apply(this,arguments)}finally{v=et}}}}(Tb)),Tb}var Z1;function Fk(){return Z1||(Z1=1,wb.exports=Ik()),wb.exports}var Cb={exports:{}},Sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J1;function Hk(){if(J1)return Sn;J1=1;var a=w0();function t(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,p,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:f,containerInfo:p,implementation:g}}var u=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Sn.createPortal=function(f,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return o(f,p,null,g)},Sn.flushSync=function(f){var p=u.T,g=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=p,i.p=g,i.d.f()}},Sn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(f,p))},Sn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Sn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var g=p.as,b=h(g,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?i.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:A}):g==="script"&&i.d.X(f,{crossOrigin:b,integrity:v,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Sn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(f)},Sn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,b=h(g,p.crossOrigin);i.d.L(f,g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Sn.preloadModule=function(f,p){if(typeof f=="string")if(p){var g=h(p.as,p.crossOrigin);i.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(f)},Sn.requestFormReset=function(f){i.d.r(f)},Sn.unstable_batchedUpdates=function(f,p){return f(p)},Sn.useFormState=function(f,p,g){return u.H.useFormState(f,p,g)},Sn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Sn.version="19.1.0",Sn}var t_;function Bk(){if(t_)return Cb.exports;t_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Cb.exports=Hk(),Cb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function Uk(){if(e_)return kh;e_=1;var a=Fk(),t=w0(),e=Bk();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function u(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(o(n)!==n)throw Error(i(188))}function f(n){var s=n.alternate;if(!s){if(s=o(n),s===null)throw Error(i(188));return s!==n?null:n}for(var l=n,c=s;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return h(m),n;if(y===c)return h(m),s;y=y.sibling}throw Error(i(188))}if(l.return!==c.return)l=m,c=y;else{for(var S=!1,R=m.child;R;){if(R===l){S=!0,l=m,c=y;break}if(R===c){S=!0,c=m,l=y;break}R=R.sibling}if(!S){for(R=y.child;R;){if(R===l){S=!0,l=y,c=m;break}if(R===c){S=!0,c=y,l=m;break}R=R.sibling}if(!S)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:s}function p(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=p(n),s!==null)return s;n=n.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),N=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),tt=Symbol.for("react.activity"),ot=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function it(n){return n===null||typeof n!="object"?null:(n=Q&&n[Q]||n["@@iterator"],typeof n=="function"?n:null)}var st=Symbol.for("react.client.reference");function J(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===st?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case E:return"Fragment";case D:return"Profiler";case T:return"StrictMode";case F:return"Suspense";case L:return"SuspenseList";case tt:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case A:return"Portal";case N:return(n.displayName||"Context")+".Provider";case P:return(n._context.displayName||"Context")+".Consumer";case I:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case q:return s=n.displayName||null,s!==null?s:J(n.type)||"Memo";case K:s=n._payload,n=n._init;try{return J(n(s))}catch{}}return null}var at=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},St=[],_=-1;function Y(n){return{current:n}}function rt(n){0>_||(n.current=St[_],St[_]=null,_--)}function M(n,s){_++,St[_]=n.current,n.current=s}var pt=Y(null),xt=Y(null),ht=Y(null),Tt=Y(null);function Lt(n,s){switch(M(ht,s),M(xt,n),M(pt,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?A1(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=A1(s),n=S1(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}rt(pt),M(pt,n)}function de(){rt(pt),rt(xt),rt(ht)}function Xt(n){n.memoizedState!==null&&M(Tt,n);var s=pt.current,l=S1(s,n.type);s!==l&&(M(xt,n),M(pt,l))}function Dn(n){xt.current===n&&(rt(pt),rt(xt)),Tt.current===n&&(rt(Tt),_h._currentValue=et)}var Xi=Object.prototype.hasOwnProperty,Wt=a.unstable_scheduleCallback,ge=a.unstable_cancelCallback,Oe=a.unstable_shouldYield,_e=a.unstable_requestPaint,Fe=a.unstable_now,js=a.unstable_getCurrentPriorityLevel,Xr=a.unstable_ImmediatePriority,Yr=a.unstable_UserBlockingPriority,Yi=a.unstable_NormalPriority,Mc=a.unstable_LowPriority,wo=a.unstable_IdlePriority,Dc=a.log,Lc=a.unstable_setDisableYieldValue,W=null,lt=null;function vt(n){if(typeof Dc=="function"&&Lc(n),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(W,n)}catch{}}var Et=Math.clz32?Math.clz32:qs,Qt=Math.log,ni=Math.LN2;function qs(n){return n>>>=0,n===0?32:31-(Qt(n)/ni|0)|0}var Bn=256,ps=4194304;function ii(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Je(n,s,l){var c=n.pendingLanes;if(c===0)return 0;var m=0,y=n.suspendedLanes,S=n.pingedLanes;n=n.warmLanes;var R=c&134217727;return R!==0?(c=R&~y,c!==0?m=ii(c):(S&=R,S!==0?m=ii(S):l||(l=R&~n,l!==0&&(m=ii(l))))):(R=c&~y,R!==0?m=ii(R):S!==0?m=ii(S):l||(l=c&~n,l!==0&&(m=ii(l)))),m===0?0:s!==0&&s!==m&&(s&y)===0&&(y=m&-m,l=s&-s,y>=l||y===32&&(l&4194048)!==0)?s:m}function wi(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Ki(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iA(){var n=Bn;return Bn<<=1,(Bn&4194048)===0&&(Bn=256),n}function sA(){var n=ps;return ps<<=1,(ps&62914560)===0&&(ps=4194304),n}function cm(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function Oc(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function AC(n,s,l,c,m,y){var S=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var R=n.entanglements,O=n.expirationTimes,j=n.hiddenUpdates;for(l=S&~l;0<l;){var $=31-Et(l),nt=1<<$;R[$]=0,O[$]=-1;var V=j[$];if(V!==null)for(j[$]=null,$=0;$<V.length;$++){var X=V[$];X!==null&&(X.lane&=-536870913)}l&=~nt}c!==0&&aA(n,c,0),y!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=y&~(S&~s))}function aA(n,s,l){n.pendingLanes|=s,n.suspendedLanes&=~s;var c=31-Et(s);n.entangledLanes|=s,n.entanglements[c]=n.entanglements[c]|1073741824|l&4194090}function rA(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var c=31-Et(l),m=1<<c;m&s|n[c]&s&&(n[c]|=s),l&=~m}}function hm(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function dm(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function lA(){var n=G.p;return n!==0?n:(n=window.event,n===void 0?32:B1(n.type))}function SC(n,s){var l=G.p;try{return G.p=n,s()}finally{G.p=l}}var Ba=Math.random().toString(36).slice(2),vn="__reactFiber$"+Ba,Un="__reactProps$"+Ba,To="__reactContainer$"+Ba,fm="__reactEvents$"+Ba,EC="__reactListeners$"+Ba,_C="__reactHandles$"+Ba,oA="__reactResources$"+Ba,Nc="__reactMarker$"+Ba;function pm(n){delete n[vn],delete n[Un],delete n[fm],delete n[EC],delete n[_C]}function Co(n){var s=n[vn];if(s)return s;for(var l=n.parentNode;l;){if(s=l[To]||l[vn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=w1(n);n!==null;){if(l=n[vn])return l;n=w1(n)}return s}n=l,l=n.parentNode}return null}function Ro(n){if(n=n[vn]||n[To]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function Pc(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function ko(n){var s=n[oA];return s||(s=n[oA]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function tn(n){n[Nc]=!0}var uA=new Set,cA={};function Kr(n,s){Mo(n,s),Mo(n+"Capture",s)}function Mo(n,s){for(cA[n]=s,n=0;n<s.length;n++)uA.add(s[n])}var xC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hA={},dA={};function wC(n){return Xi.call(dA,n)?!0:Xi.call(hA,n)?!1:xC.test(n)?dA[n]=!0:(hA[n]=!0,!1)}function kf(n,s,l){if(wC(s))if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+l)}}function Mf(n,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+l)}}function Gs(n,s,l,c){if(c===null)n.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(s,l,""+c)}}var gm,fA;function Do(n){if(gm===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);gm=s&&s[1]||"",fA=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gm+n+fA}var mm=!1;function ym(n,s){if(!n||mm)return"";mm=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(X){var V=X}Reflect.construct(n,[],nt)}else{try{nt.call()}catch(X){V=X}n.call(nt.prototype)}}else{try{throw Error()}catch(X){V=X}(nt=n())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(X){if(X&&V&&typeof X.stack=="string")return[X.stack,V.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),S=y[0],R=y[1];if(S&&R){var O=S.split(`
`),j=R.split(`
`);for(m=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;m<j.length&&!j[m].includes("DetermineComponentFrameRoot");)m++;if(c===O.length||m===j.length)for(c=O.length-1,m=j.length-1;1<=c&&0<=m&&O[c]!==j[m];)m--;for(;1<=c&&0<=m;c--,m--)if(O[c]!==j[m]){if(c!==1||m!==1)do if(c--,m--,0>m||O[c]!==j[m]){var $=`
`+O[c].replace(" at new "," at ");return n.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",n.displayName)),$}while(1<=c&&0<=m);break}}}finally{mm=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?Do(l):""}function TC(n){switch(n.tag){case 26:case 27:case 5:return Do(n.type);case 16:return Do("Lazy");case 13:return Do("Suspense");case 19:return Do("SuspenseList");case 0:case 15:return ym(n.type,!1);case 11:return ym(n.type.render,!1);case 1:return ym(n.type,!0);case 31:return Do("Activity");default:return""}}function pA(n){try{var s="";do s+=TC(n),n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Ti(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function gA(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function CC(n){var s=gA(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),c=""+n[s];if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return m.call(this)},set:function(S){c=""+S,y.call(this,S)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Df(n){n._valueTracker||(n._valueTracker=CC(n))}function mA(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return n&&(c=gA(n)?n.checked?"true":"false":n.value),n=c,n!==l?(s.setValue(n),!0):!1}function Lf(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var RC=/[\n"\\]/g;function Ci(n){return n.replace(RC,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function bm(n,s,l,c,m,y,S,R){n.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.type=S:n.removeAttribute("type"),s!=null?S==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Ti(s)):n.value!==""+Ti(s)&&(n.value=""+Ti(s)):S!=="submit"&&S!=="reset"||n.removeAttribute("value"),s!=null?vm(n,S,Ti(s)):l!=null?vm(n,S,Ti(l)):c!=null&&n.removeAttribute("value"),m==null&&y!=null&&(n.defaultChecked=!!y),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.name=""+Ti(R):n.removeAttribute("name")}function yA(n,s,l,c,m,y,S,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),s!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;l=l!=null?""+Ti(l):"",s=s!=null?""+Ti(s):l,R||s===n.value||(n.value=s),n.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=R?n.checked:!!c,n.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(n.name=S)}function vm(n,s,l){s==="number"&&Lf(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Lo(n,s,l,c){if(n=n.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<n.length;l++)m=s.hasOwnProperty("$"+n[l].value),n[l].selected!==m&&(n[l].selected=m),m&&c&&(n[l].defaultSelected=!0)}else{for(l=""+Ti(l),s=null,m=0;m<n.length;m++){if(n[m].value===l){n[m].selected=!0,c&&(n[m].defaultSelected=!0);return}s!==null||n[m].disabled||(s=n[m])}s!==null&&(s.selected=!0)}}function bA(n,s,l){if(s!=null&&(s=""+Ti(s),s!==n.value&&(n.value=s),l==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=l!=null?""+Ti(l):""}function vA(n,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(i(92));if(at(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=Ti(s),n.defaultValue=l,c=n.textContent,c===l&&c!==""&&c!==null&&(n.value=c)}function Oo(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var kC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function AA(n,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":c?n.setProperty(s,l):typeof l!="number"||l===0||kC.has(s)?s==="float"?n.cssFloat=l:n[s]=(""+l).trim():n[s]=l+"px"}function SA(n,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&l[m]!==c&&AA(n,m,c)}else for(var y in s)s.hasOwnProperty(y)&&AA(n,y,s[y])}function Am(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var MC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),DC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Of(n){return DC.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Sm=null;function Em(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var No=null,Po=null;function EA(n){var s=Ro(n);if(s&&(n=s.stateNode)){var l=n[Un]||null;t:switch(n=s.stateNode,s.type){case"input":if(bm(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ci(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==n&&c.form===n.form){var m=c[Un]||null;if(!m)throw Error(i(90));bm(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===n.form&&mA(c)}break t;case"textarea":bA(n,l.value,l.defaultValue);break t;case"select":s=l.value,s!=null&&Lo(n,!!l.multiple,s,!1)}}}var _m=!1;function _A(n,s,l){if(_m)return n(s,l);_m=!0;try{var c=n(s);return c}finally{if(_m=!1,(No!==null||Po!==null)&&(bp(),No&&(s=No,n=Po,Po=No=null,EA(s),n)))for(s=0;s<n.length;s++)EA(n[s])}}function zc(n,s){var l=n.stateNode;if(l===null)return null;var c=l[Un]||null;if(c===null)return null;l=c[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break t;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var Vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xm=!1;if(Vs)try{var Ic={};Object.defineProperty(Ic,"passive",{get:function(){xm=!0}}),window.addEventListener("test",Ic,Ic),window.removeEventListener("test",Ic,Ic)}catch{xm=!1}var Ua=null,wm=null,Nf=null;function xA(){if(Nf)return Nf;var n,s=wm,l=s.length,c,m="value"in Ua?Ua.value:Ua.textContent,y=m.length;for(n=0;n<l&&s[n]===m[n];n++);var S=l-n;for(c=1;c<=S&&s[l-c]===m[y-c];c++);return Nf=m.slice(n,1<c?1-c:void 0)}function Pf(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function zf(){return!0}function wA(){return!1}function jn(n){function s(l,c,m,y,S){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(l=n[R],this[R]=l?l(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?zf:wA,this.isPropagationStopped=wA,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=zf)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=zf)},persist:function(){},isPersistent:zf}),s}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},If=jn(Qr),Fc=g({},Qr,{view:0,detail:0}),LC=jn(Fc),Tm,Cm,Hc,Ff=g({},Fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:km,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Hc&&(Hc&&n.type==="mousemove"?(Tm=n.screenX-Hc.screenX,Cm=n.screenY-Hc.screenY):Cm=Tm=0,Hc=n),Tm)},movementY:function(n){return"movementY"in n?n.movementY:Cm}}),TA=jn(Ff),OC=g({},Ff,{dataTransfer:0}),NC=jn(OC),PC=g({},Fc,{relatedTarget:0}),Rm=jn(PC),zC=g({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),IC=jn(zC),FC=g({},Qr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),HC=jn(FC),BC=g({},Qr,{data:0}),CA=jn(BC),UC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GC(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=qC[n])?!!s[n]:!1}function km(){return GC}var VC=g({},Fc,{key:function(n){if(n.key){var s=UC[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Pf(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?jC[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:km,charCode:function(n){return n.type==="keypress"?Pf(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Pf(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),XC=jn(VC),YC=g({},Ff,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),RA=jn(YC),KC=g({},Fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:km}),QC=jn(KC),WC=g({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),$C=jn(WC),ZC=g({},Ff,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),JC=jn(ZC),tR=g({},Qr,{newState:0,oldState:0}),eR=jn(tR),nR=[9,13,27,32],Mm=Vs&&"CompositionEvent"in window,Bc=null;Vs&&"documentMode"in document&&(Bc=document.documentMode);var iR=Vs&&"TextEvent"in window&&!Bc,kA=Vs&&(!Mm||Bc&&8<Bc&&11>=Bc),MA=" ",DA=!1;function LA(n,s){switch(n){case"keyup":return nR.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OA(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var zo=!1;function sR(n,s){switch(n){case"compositionend":return OA(s);case"keypress":return s.which!==32?null:(DA=!0,MA);case"textInput":return n=s.data,n===MA&&DA?null:n;default:return null}}function aR(n,s){if(zo)return n==="compositionend"||!Mm&&LA(n,s)?(n=xA(),Nf=wm=Ua=null,zo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return kA&&s.locale!=="ko"?null:s.data;default:return null}}var rR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NA(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!rR[n.type]:s==="textarea"}function PA(n,s,l,c){No?Po?Po.push(c):Po=[c]:No=c,s=xp(s,"onChange"),0<s.length&&(l=new If("onChange","change",null,l,c),n.push({event:l,listeners:s}))}var Uc=null,jc=null;function lR(n){g1(n,0)}function Hf(n){var s=Pc(n);if(mA(s))return n}function zA(n,s){if(n==="change")return s}var IA=!1;if(Vs){var Dm;if(Vs){var Lm="oninput"in document;if(!Lm){var FA=document.createElement("div");FA.setAttribute("oninput","return;"),Lm=typeof FA.oninput=="function"}Dm=Lm}else Dm=!1;IA=Dm&&(!document.documentMode||9<document.documentMode)}function HA(){Uc&&(Uc.detachEvent("onpropertychange",BA),jc=Uc=null)}function BA(n){if(n.propertyName==="value"&&Hf(jc)){var s=[];PA(s,jc,n,Em(n)),_A(lR,s)}}function oR(n,s,l){n==="focusin"?(HA(),Uc=s,jc=l,Uc.attachEvent("onpropertychange",BA)):n==="focusout"&&HA()}function uR(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Hf(jc)}function cR(n,s){if(n==="click")return Hf(s)}function hR(n,s){if(n==="input"||n==="change")return Hf(s)}function dR(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var si=typeof Object.is=="function"?Object.is:dR;function qc(n,s){if(si(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!Xi.call(s,m)||!si(n[m],s[m]))return!1}return!0}function UA(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function jA(n,s){var l=UA(n);n=0;for(var c;l;){if(l.nodeType===3){if(c=n+l.textContent.length,n<=s&&c>=s)return{node:l,offset:s-n};n=c}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=UA(l)}}function qA(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?qA(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function GA(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Lf(n.document);s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=Lf(n.document)}return s}function Om(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var fR=Vs&&"documentMode"in document&&11>=document.documentMode,Io=null,Nm=null,Gc=null,Pm=!1;function VA(n,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Pm||Io==null||Io!==Lf(c)||(c=Io,"selectionStart"in c&&Om(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Gc&&qc(Gc,c)||(Gc=c,c=xp(Nm,"onSelect"),0<c.length&&(s=new If("onSelect","select",null,s,l),n.push({event:s,listeners:c}),s.target=Io)))}function Wr(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var Fo={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionrun:Wr("Transition","TransitionRun"),transitionstart:Wr("Transition","TransitionStart"),transitioncancel:Wr("Transition","TransitionCancel"),transitionend:Wr("Transition","TransitionEnd")},zm={},XA={};Vs&&(XA=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function $r(n){if(zm[n])return zm[n];if(!Fo[n])return n;var s=Fo[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in XA)return zm[n]=s[l];return n}var YA=$r("animationend"),KA=$r("animationiteration"),QA=$r("animationstart"),pR=$r("transitionrun"),gR=$r("transitionstart"),mR=$r("transitioncancel"),WA=$r("transitionend"),$A=new Map,Im="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Im.push("scrollEnd");function Qi(n,s){$A.set(n,s),Kr(s,[n])}var ZA=new WeakMap;function Ri(n,s){if(typeof n=="object"&&n!==null){var l=ZA.get(n);return l!==void 0?l:(s={value:n,source:s,stack:pA(s)},ZA.set(n,s),s)}return{value:n,source:s,stack:pA(s)}}var ki=[],Ho=0,Fm=0;function Bf(){for(var n=Ho,s=Fm=Ho=0;s<n;){var l=ki[s];ki[s++]=null;var c=ki[s];ki[s++]=null;var m=ki[s];ki[s++]=null;var y=ki[s];if(ki[s++]=null,c!==null&&m!==null){var S=c.pending;S===null?m.next=m:(m.next=S.next,S.next=m),c.pending=m}y!==0&&JA(l,m,y)}}function Uf(n,s,l,c){ki[Ho++]=n,ki[Ho++]=s,ki[Ho++]=l,ki[Ho++]=c,Fm|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Hm(n,s,l,c){return Uf(n,s,l,c),jf(n)}function Bo(n,s){return Uf(n,null,null,s),jf(n)}function JA(n,s,l){n.lanes|=l;var c=n.alternate;c!==null&&(c.lanes|=l);for(var m=!1,y=n.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(m=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,m&&s!==null&&(m=31-Et(l),n=y.hiddenUpdates,c=n[m],c===null?n[m]=[s]:c.push(s),s.lane=l|536870912),y):null}function jf(n){if(50<gh)throw gh=0,Vy=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Uo={};function yR(n,s,l,c){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(n,s,l,c){return new yR(n,s,l,c)}function Bm(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Xs(n,s){var l=n.alternate;return l===null?(l=ai(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function tS(n,s){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,s=l.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function qf(n,s,l,c,m,y){var S=0;if(c=n,typeof n=="function")Bm(n)&&(S=1);else if(typeof n=="string")S=vk(n,l,pt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case tt:return n=ai(31,l,s,m),n.elementType=tt,n.lanes=y,n;case E:return Zr(l.children,m,y,s);case T:S=8,m|=24;break;case D:return n=ai(12,l,s,m|2),n.elementType=D,n.lanes=y,n;case F:return n=ai(13,l,s,m),n.elementType=F,n.lanes=y,n;case L:return n=ai(19,l,s,m),n.elementType=L,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case C:case N:S=10;break t;case P:S=9;break t;case I:S=11;break t;case q:S=14;break t;case K:S=16,c=null;break t}S=29,l=Error(i(130,n===null?"null":typeof n,"")),c=null}return s=ai(S,l,s,m),s.elementType=n,s.type=c,s.lanes=y,s}function Zr(n,s,l,c){return n=ai(7,n,c,s),n.lanes=l,n}function Um(n,s,l){return n=ai(6,n,null,s),n.lanes=l,n}function jm(n,s,l){return s=ai(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var jo=[],qo=0,Gf=null,Vf=0,Mi=[],Di=0,Jr=null,Ys=1,Ks="";function tl(n,s){jo[qo++]=Vf,jo[qo++]=Gf,Gf=n,Vf=s}function eS(n,s,l){Mi[Di++]=Ys,Mi[Di++]=Ks,Mi[Di++]=Jr,Jr=n;var c=Ys;n=Ks;var m=32-Et(c)-1;c&=~(1<<m),l+=1;var y=32-Et(s)+m;if(30<y){var S=m-m%5;y=(c&(1<<S)-1).toString(32),c>>=S,m-=S,Ys=1<<32-Et(s)+m|l<<m|c,Ks=y+n}else Ys=1<<y|l<<m|c,Ks=n}function qm(n){n.return!==null&&(tl(n,1),eS(n,1,0))}function Gm(n){for(;n===Gf;)Gf=jo[--qo],jo[qo]=null,Vf=jo[--qo],jo[qo]=null;for(;n===Jr;)Jr=Mi[--Di],Mi[Di]=null,Ks=Mi[--Di],Mi[Di]=null,Ys=Mi[--Di],Mi[Di]=null}var Ln=null,ke=null,Zt=!1,el=null,gs=!1,Vm=Error(i(519));function nl(n){var s=Error(i(418,""));throw Yc(Ri(s,n)),Vm}function nS(n){var s=n.stateNode,l=n.type,c=n.memoizedProps;switch(s[vn]=n,s[Un]=c,l){case"dialog":Gt("cancel",s),Gt("close",s);break;case"iframe":case"object":case"embed":Gt("load",s);break;case"video":case"audio":for(l=0;l<yh.length;l++)Gt(yh[l],s);break;case"source":Gt("error",s);break;case"img":case"image":case"link":Gt("error",s),Gt("load",s);break;case"details":Gt("toggle",s);break;case"input":Gt("invalid",s),yA(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Df(s);break;case"select":Gt("invalid",s);break;case"textarea":Gt("invalid",s),vA(s,c.value,c.defaultValue,c.children),Df(s)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||v1(s.textContent,l)?(c.popover!=null&&(Gt("beforetoggle",s),Gt("toggle",s)),c.onScroll!=null&&Gt("scroll",s),c.onScrollEnd!=null&&Gt("scrollend",s),c.onClick!=null&&(s.onclick=wp),s=!0):s=!1,s||nl(n)}function iS(n){for(Ln=n.return;Ln;)switch(Ln.tag){case 5:case 13:gs=!1;return;case 27:case 3:gs=!0;return;default:Ln=Ln.return}}function Vc(n){if(n!==Ln)return!1;if(!Zt)return iS(n),Zt=!0,!1;var s=n.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||lb(n.type,n.memoizedProps)),l=!l),l&&ke&&nl(n),iS(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));t:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(s===0){ke=$i(n.nextSibling);break t}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;n=n.nextSibling}ke=null}}else s===27?(s=ke,ir(n.type)?(n=hb,hb=null,ke=n):ke=s):ke=Ln?$i(n.stateNode.nextSibling):null;return!0}function Xc(){ke=Ln=null,Zt=!1}function sS(){var n=el;return n!==null&&(Vn===null?Vn=n:Vn.push.apply(Vn,n),el=null),n}function Yc(n){el===null?el=[n]:el.push(n)}var Xm=Y(null),il=null,Qs=null;function ja(n,s,l){M(Xm,s._currentValue),s._currentValue=l}function Ws(n){n._currentValue=Xm.current,rt(Xm)}function Ym(n,s,l){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===l)break;n=n.return}}function Km(n,s,l,c){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var y=m.dependencies;if(y!==null){var S=m.child;y=y.firstContext;t:for(;y!==null;){var R=y;y=m;for(var O=0;O<s.length;O++)if(R.context===s[O]){y.lanes|=l,R=y.alternate,R!==null&&(R.lanes|=l),Ym(y.return,l,n),c||(S=null);break t}y=R.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(i(341));S.lanes|=l,y=S.alternate,y!==null&&(y.lanes|=l),Ym(S,l,n),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===n){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function Kc(n,s,l,c){n=null;for(var m=s,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var R=m.type;si(m.pendingProps.value,S.value)||(n!==null?n.push(R):n=[R])}}else if(m===Tt.current){if(S=m.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(_h):n=[_h])}m=m.return}n!==null&&Km(s,n,l,c),s.flags|=262144}function Xf(n){for(n=n.firstContext;n!==null;){if(!si(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function sl(n){il=n,Qs=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function An(n){return aS(il,n)}function Yf(n,s){return il===null&&sl(n),aS(n,s)}function aS(n,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Qs===null){if(n===null)throw Error(i(308));Qs=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Qs=Qs.next=s;return l}var bR=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(l,c){n.push(c)}};this.abort=function(){s.aborted=!0,n.forEach(function(l){return l()})}},vR=a.unstable_scheduleCallback,AR=a.unstable_NormalPriority,Ve={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qm(){return{controller:new bR,data:new Map,refCount:0}}function Qc(n){n.refCount--,n.refCount===0&&vR(AR,function(){n.controller.abort()})}var Wc=null,Wm=0,Go=0,Vo=null;function SR(n,s){if(Wc===null){var l=Wc=[];Wm=0,Go=Zy(),Vo={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Wm++,s.then(rS,rS),s}function rS(){if(--Wm===0&&Wc!==null){Vo!==null&&(Vo.status="fulfilled");var n=Wc;Wc=null,Go=0,Vo=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function ER(n,s){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return n.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<l.length;m++)(0,l[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var lS=H.S;H.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&SR(n,s),lS!==null&&lS(n,s)};var al=Y(null);function $m(){var n=al.current;return n!==null?n:me.pooledCache}function Kf(n,s){s===null?M(al,al.current):M(al,s.pool)}function oS(){var n=$m();return n===null?null:{parent:Ve._currentValue,pool:n}}var $c=Error(i(460)),uS=Error(i(474)),Qf=Error(i(542)),Zm={then:function(){}};function cS(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Wf(){}function hS(n,s,l){switch(l=n[l],l===void 0?n.push(s):l!==s&&(s.then(Wf,Wf),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,fS(n),n;default:if(typeof s.status=="string")s.then(Wf,Wf);else{if(n=me,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,fS(n),n}throw Zc=s,$c}}var Zc=null;function dS(){if(Zc===null)throw Error(i(459));var n=Zc;return Zc=null,n}function fS(n){if(n===$c||n===Qf)throw Error(i(483))}var qa=!1;function Jm(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ty(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ga(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Va(n,s,l){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(ne&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=jf(n),JA(n,null,l),s}return Uf(n,c,s,l),jf(n)}function Jc(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=n.pendingLanes,l|=c,s.lanes=l,rA(n,l)}}function ey(n,s){var l=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=S:y=y.next=S,l=l.next}while(l!==null);y===null?m=y=s:y=y.next=s}else m=y=s;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}var ny=!1;function th(){if(ny){var n=Vo;if(n!==null)throw n}}function eh(n,s,l,c){ny=!1;var m=n.updateQueue;qa=!1;var y=m.firstBaseUpdate,S=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var O=R,j=O.next;O.next=null,S===null?y=j:S.next=j,S=O;var $=n.alternate;$!==null&&($=$.updateQueue,R=$.lastBaseUpdate,R!==S&&(R===null?$.firstBaseUpdate=j:R.next=j,$.lastBaseUpdate=O))}if(y!==null){var nt=m.baseState;S=0,$=j=O=null,R=y;do{var V=R.lane&-536870913,X=V!==R.lane;if(X?(Kt&V)===V:(c&V)===V){V!==0&&V===Go&&(ny=!0),$!==null&&($=$.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var Rt=n,wt=R;V=s;var ue=l;switch(wt.tag){case 1:if(Rt=wt.payload,typeof Rt=="function"){nt=Rt.call(ue,nt,V);break t}nt=Rt;break t;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=wt.payload,V=typeof Rt=="function"?Rt.call(ue,nt,V):Rt,V==null)break t;nt=g({},nt,V);break t;case 2:qa=!0}}V=R.callback,V!==null&&(n.flags|=64,X&&(n.flags|=8192),X=m.callbacks,X===null?m.callbacks=[V]:X.push(V))}else X={lane:V,tag:R.tag,payload:R.payload,callback:R.callback,next:null},$===null?(j=$=X,O=nt):$=$.next=X,S|=V;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;X=R,R=X.next,X.next=null,m.lastBaseUpdate=X,m.shared.pending=null}}while(!0);$===null&&(O=nt),m.baseState=O,m.firstBaseUpdate=j,m.lastBaseUpdate=$,y===null&&(m.shared.lanes=0),Ja|=S,n.lanes=S,n.memoizedState=nt}}function pS(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function gS(n,s){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)pS(l[n],s)}var Xo=Y(null),$f=Y(0);function mS(n,s){n=ia,M($f,n),M(Xo,s),ia=n|s.baseLanes}function iy(){M($f,ia),M(Xo,Xo.current)}function sy(){ia=$f.current,rt(Xo),rt($f)}var Xa=0,Ht=null,le=null,He=null,Zf=!1,Yo=!1,rl=!1,Jf=0,nh=0,Ko=null,_R=0;function Ne(){throw Error(i(321))}function ay(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!si(n[l],s[l]))return!1;return!0}function ry(n,s,l,c,m,y){return Xa=y,Ht=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=n===null||n.memoizedState===null?JS:tE,rl=!1,y=l(c,m),rl=!1,Yo&&(y=bS(s,l,c,m)),yS(n),y}function yS(n){H.H=ap;var s=le!==null&&le.next!==null;if(Xa=0,He=le=Ht=null,Zf=!1,nh=0,Ko=null,s)throw Error(i(300));n===null||en||(n=n.dependencies,n!==null&&Xf(n)&&(en=!0))}function bS(n,s,l,c){Ht=n;var m=0;do{if(Yo&&(Ko=null),nh=0,Yo=!1,25<=m)throw Error(i(301));if(m+=1,He=le=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=MR,y=s(l,c)}while(Yo);return y}function xR(){var n=H.H,s=n.useState()[0];return s=typeof s.then=="function"?ih(s):s,n=n.useState()[0],(le!==null?le.memoizedState:null)!==n&&(Ht.flags|=1024),s}function ly(){var n=Jf!==0;return Jf=0,n}function oy(n,s,l){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~l}function uy(n){if(Zf){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Zf=!1}Xa=0,He=le=Ht=null,Yo=!1,nh=Jf=0,Ko=null}function qn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Ht.memoizedState=He=n:He=He.next=n,He}function Be(){if(le===null){var n=Ht.alternate;n=n!==null?n.memoizedState:null}else n=le.next;var s=He===null?Ht.memoizedState:He.next;if(s!==null)He=s,le=n;else{if(n===null)throw Ht.alternate===null?Error(i(467)):Error(i(310));le=n,n={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},He===null?Ht.memoizedState=He=n:He=He.next=n}return He}function cy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ih(n){var s=nh;return nh+=1,Ko===null&&(Ko=[]),n=hS(Ko,n,s),s=Ht,(He===null?s.memoizedState:He.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?JS:tE),n}function tp(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ih(n);if(n.$$typeof===N)return An(n)}throw Error(i(438,String(n)))}function hy(n){var s=null,l=Ht.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Ht.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=cy(),Ht.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(n),c=0;c<n;c++)l[c]=ot;return s.index++,l}function $s(n,s){return typeof s=="function"?s(n):s}function ep(n){var s=Be();return dy(s,le,n)}function dy(n,s,l){var c=n.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var m=n.baseQueue,y=c.pending;if(y!==null){if(m!==null){var S=m.next;m.next=y.next,y.next=S}s.baseQueue=m=y,c.pending=null}if(y=n.baseState,m===null)n.memoizedState=y;else{s=m.next;var R=S=null,O=null,j=s,$=!1;do{var nt=j.lane&-536870913;if(nt!==j.lane?(Kt&nt)===nt:(Xa&nt)===nt){var V=j.revertLane;if(V===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),nt===Go&&($=!0);else if((Xa&V)===V){j=j.next,V===Go&&($=!0);continue}else nt={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},O===null?(R=O=nt,S=y):O=O.next=nt,Ht.lanes|=V,Ja|=V;nt=j.action,rl&&l(y,nt),y=j.hasEagerState?j.eagerState:l(y,nt)}else V={lane:nt,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},O===null?(R=O=V,S=y):O=O.next=V,Ht.lanes|=nt,Ja|=nt;j=j.next}while(j!==null&&j!==s);if(O===null?S=y:O.next=R,!si(y,n.memoizedState)&&(en=!0,$&&(l=Vo,l!==null)))throw l;n.memoizedState=y,n.baseState=S,n.baseQueue=O,c.lastRenderedState=y}return m===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function fy(n){var s=Be(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var c=l.dispatch,m=l.pending,y=s.memoizedState;if(m!==null){l.pending=null;var S=m=m.next;do y=n(y,S.action),S=S.next;while(S!==m);si(y,s.memoizedState)||(en=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,c]}function vS(n,s,l){var c=Ht,m=Be(),y=Zt;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=s();var S=!si((le||m).memoizedState,l);S&&(m.memoizedState=l,en=!0),m=m.queue;var R=ES.bind(null,c,m,n);if(sh(2048,8,R,[n]),m.getSnapshot!==s||S||He!==null&&He.memoizedState.tag&1){if(c.flags|=2048,Qo(9,np(),SS.bind(null,c,m,l,s),null),me===null)throw Error(i(349));y||(Xa&124)!==0||AS(c,s,l)}return l}function AS(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=Ht.updateQueue,s===null?(s=cy(),Ht.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function SS(n,s,l,c){s.value=l,s.getSnapshot=c,_S(s)&&xS(n)}function ES(n,s,l){return l(function(){_S(s)&&xS(n)})}function _S(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!si(n,l)}catch{return!0}}function xS(n){var s=Bo(n,2);s!==null&&ci(s,n,2)}function py(n){var s=qn();if(typeof n=="function"){var l=n;if(n=l(),rl){vt(!0);try{l()}finally{vt(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:n},s}function wS(n,s,l,c){return n.baseState=l,dy(n,le,typeof c=="function"?c:$s)}function wR(n,s,l,c,m){if(sp(n))throw Error(i(485));if(n=s.action,n!==null){var y={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};H.T!==null?l(!0):y.isTransition=!1,c(y),l=s.pending,l===null?(y.next=s.pending=y,TS(s,y)):(y.next=l.next,s.pending=l.next=y)}}function TS(n,s){var l=s.action,c=s.payload,m=n.state;if(s.isTransition){var y=H.T,S={};H.T=S;try{var R=l(m,c),O=H.S;O!==null&&O(S,R),CS(n,s,R)}catch(j){gy(n,s,j)}finally{H.T=y}}else try{y=l(m,c),CS(n,s,y)}catch(j){gy(n,s,j)}}function CS(n,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){RS(n,s,c)},function(c){return gy(n,s,c)}):RS(n,s,l)}function RS(n,s,l){s.status="fulfilled",s.value=l,kS(s),n.state=l,s=n.pending,s!==null&&(l=s.next,l===s?n.pending=null:(l=l.next,s.next=l,TS(n,l)))}function gy(n,s,l){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,kS(s),s=s.next;while(s!==c)}n.action=null}function kS(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function MS(n,s){return s}function DS(n,s){if(Zt){var l=me.formState;if(l!==null){t:{var c=Ht;if(Zt){if(ke){e:{for(var m=ke,y=gs;m.nodeType!==8;){if(!y){m=null;break e}if(m=$i(m.nextSibling),m===null){m=null;break e}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){ke=$i(m.nextSibling),c=m.data==="F!";break t}}nl(c)}c=!1}c&&(s=l[0])}}return l=qn(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:MS,lastRenderedState:s},l.queue=c,l=WS.bind(null,Ht,c),c.dispatch=l,c=py(!1),y=Ay.bind(null,Ht,!1,c.queue),c=qn(),m={state:s,dispatch:null,action:n,pending:null},c.queue=m,l=wR.bind(null,Ht,m,y,l),m.dispatch=l,c.memoizedState=n,[s,l,!1]}function LS(n){var s=Be();return OS(s,le,n)}function OS(n,s,l){if(s=dy(n,s,MS)[0],n=ep($s)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=ih(s)}catch(S){throw S===$c?Qf:S}else c=s;s=Be();var m=s.queue,y=m.dispatch;return l!==s.memoizedState&&(Ht.flags|=2048,Qo(9,np(),TR.bind(null,m,l),null)),[c,y,n]}function TR(n,s){n.action=s}function NS(n){var s=Be(),l=le;if(l!==null)return OS(s,l,n);Be(),s=s.memoizedState,l=Be();var c=l.queue.dispatch;return l.memoizedState=n,[s,c,!1]}function Qo(n,s,l,c){return n={tag:n,create:l,deps:c,inst:s,next:null},s=Ht.updateQueue,s===null&&(s=cy(),Ht.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=n.next=n:(c=l.next,l.next=n,n.next=c,s.lastEffect=n),n}function np(){return{destroy:void 0,resource:void 0}}function PS(){return Be().memoizedState}function ip(n,s,l,c){var m=qn();c=c===void 0?null:c,Ht.flags|=n,m.memoizedState=Qo(1|s,np(),l,c)}function sh(n,s,l,c){var m=Be();c=c===void 0?null:c;var y=m.memoizedState.inst;le!==null&&c!==null&&ay(c,le.memoizedState.deps)?m.memoizedState=Qo(s,y,l,c):(Ht.flags|=n,m.memoizedState=Qo(1|s,y,l,c))}function zS(n,s){ip(8390656,8,n,s)}function IS(n,s){sh(2048,8,n,s)}function FS(n,s){return sh(4,2,n,s)}function HS(n,s){return sh(4,4,n,s)}function BS(n,s){if(typeof s=="function"){n=n();var l=s(n);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function US(n,s,l){l=l!=null?l.concat([n]):null,sh(4,4,BS.bind(null,s,n),l)}function my(){}function jS(n,s){var l=Be();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&ay(s,c[1])?c[0]:(l.memoizedState=[n,s],n)}function qS(n,s){var l=Be();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&ay(s,c[1]))return c[0];if(c=n(),rl){vt(!0);try{n()}finally{vt(!1)}}return l.memoizedState=[c,s],c}function yy(n,s,l){return l===void 0||(Xa&1073741824)!==0?n.memoizedState=s:(n.memoizedState=l,n=XE(),Ht.lanes|=n,Ja|=n,l)}function GS(n,s,l,c){return si(l,s)?l:Xo.current!==null?(n=yy(n,l,c),si(n,s)||(en=!0),n):(Xa&42)===0?(en=!0,n.memoizedState=l):(n=XE(),Ht.lanes|=n,Ja|=n,s)}function VS(n,s,l,c,m){var y=G.p;G.p=y!==0&&8>y?y:8;var S=H.T,R={};H.T=R,Ay(n,!1,s,l);try{var O=m(),j=H.S;if(j!==null&&j(R,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var $=ER(O,c);ah(n,s,$,ui(n))}else ah(n,s,c,ui(n))}catch(nt){ah(n,s,{then:function(){},status:"rejected",reason:nt},ui())}finally{G.p=y,H.T=S}}function CR(){}function by(n,s,l,c){if(n.tag!==5)throw Error(i(476));var m=XS(n).queue;VS(n,m,s,et,l===null?CR:function(){return YS(n),l(c)})}function XS(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:et},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:l},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function YS(n){var s=XS(n).next.queue;ah(n,s,{},ui())}function vy(){return An(_h)}function KS(){return Be().memoizedState}function QS(){return Be().memoizedState}function RR(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var l=ui();n=Ga(l);var c=Va(s,n,l);c!==null&&(ci(c,s,l),Jc(c,s,l)),s={cache:Qm()},n.payload=s;return}s=s.return}}function kR(n,s,l){var c=ui();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},sp(n)?$S(s,l):(l=Hm(n,s,l,c),l!==null&&(ci(l,n,c),ZS(l,s,c)))}function WS(n,s,l){var c=ui();ah(n,s,l,c)}function ah(n,s,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(sp(n))$S(s,m);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var S=s.lastRenderedState,R=y(S,l);if(m.hasEagerState=!0,m.eagerState=R,si(R,S))return Uf(n,s,m,0),me===null&&Bf(),!1}catch{}finally{}if(l=Hm(n,s,m,c),l!==null)return ci(l,n,c),ZS(l,s,c),!0}return!1}function Ay(n,s,l,c){if(c={lane:2,revertLane:Zy(),action:c,hasEagerState:!1,eagerState:null,next:null},sp(n)){if(s)throw Error(i(479))}else s=Hm(n,l,c,2),s!==null&&ci(s,n,2)}function sp(n){var s=n.alternate;return n===Ht||s!==null&&s===Ht}function $S(n,s){Yo=Zf=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function ZS(n,s,l){if((l&4194048)!==0){var c=s.lanes;c&=n.pendingLanes,l|=c,s.lanes=l,rA(n,l)}}var ap={readContext:An,use:tp,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useLayoutEffect:Ne,useInsertionEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useSyncExternalStore:Ne,useId:Ne,useHostTransitionStatus:Ne,useFormState:Ne,useActionState:Ne,useOptimistic:Ne,useMemoCache:Ne,useCacheRefresh:Ne},JS={readContext:An,use:tp,useCallback:function(n,s){return qn().memoizedState=[n,s===void 0?null:s],n},useContext:An,useEffect:zS,useImperativeHandle:function(n,s,l){l=l!=null?l.concat([n]):null,ip(4194308,4,BS.bind(null,s,n),l)},useLayoutEffect:function(n,s){return ip(4194308,4,n,s)},useInsertionEffect:function(n,s){ip(4,2,n,s)},useMemo:function(n,s){var l=qn();s=s===void 0?null:s;var c=n();if(rl){vt(!0);try{n()}finally{vt(!1)}}return l.memoizedState=[c,s],c},useReducer:function(n,s,l){var c=qn();if(l!==void 0){var m=l(s);if(rl){vt(!0);try{l(s)}finally{vt(!1)}}}else m=s;return c.memoizedState=c.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},c.queue=n,n=n.dispatch=kR.bind(null,Ht,n),[c.memoizedState,n]},useRef:function(n){var s=qn();return n={current:n},s.memoizedState=n},useState:function(n){n=py(n);var s=n.queue,l=WS.bind(null,Ht,s);return s.dispatch=l,[n.memoizedState,l]},useDebugValue:my,useDeferredValue:function(n,s){var l=qn();return yy(l,n,s)},useTransition:function(){var n=py(!1);return n=VS.bind(null,Ht,n.queue,!0,!1),qn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,l){var c=Ht,m=qn();if(Zt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),me===null)throw Error(i(349));(Kt&124)!==0||AS(c,s,l)}m.memoizedState=l;var y={value:l,getSnapshot:s};return m.queue=y,zS(ES.bind(null,c,y,n),[n]),c.flags|=2048,Qo(9,np(),SS.bind(null,c,y,l,s),null),l},useId:function(){var n=qn(),s=me.identifierPrefix;if(Zt){var l=Ks,c=Ys;l=(c&~(1<<32-Et(c)-1)).toString(32)+l,s=""+s+"R"+l,l=Jf++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=_R++,s=""+s+"r"+l.toString(32)+"";return n.memoizedState=s},useHostTransitionStatus:vy,useFormState:DS,useActionState:DS,useOptimistic:function(n){var s=qn();s.memoizedState=s.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Ay.bind(null,Ht,!0,l),l.dispatch=s,[n,s]},useMemoCache:hy,useCacheRefresh:function(){return qn().memoizedState=RR.bind(null,Ht)}},tE={readContext:An,use:tp,useCallback:jS,useContext:An,useEffect:IS,useImperativeHandle:US,useInsertionEffect:FS,useLayoutEffect:HS,useMemo:qS,useReducer:ep,useRef:PS,useState:function(){return ep($s)},useDebugValue:my,useDeferredValue:function(n,s){var l=Be();return GS(l,le.memoizedState,n,s)},useTransition:function(){var n=ep($s)[0],s=Be().memoizedState;return[typeof n=="boolean"?n:ih(n),s]},useSyncExternalStore:vS,useId:KS,useHostTransitionStatus:vy,useFormState:LS,useActionState:LS,useOptimistic:function(n,s){var l=Be();return wS(l,le,n,s)},useMemoCache:hy,useCacheRefresh:QS},MR={readContext:An,use:tp,useCallback:jS,useContext:An,useEffect:IS,useImperativeHandle:US,useInsertionEffect:FS,useLayoutEffect:HS,useMemo:qS,useReducer:fy,useRef:PS,useState:function(){return fy($s)},useDebugValue:my,useDeferredValue:function(n,s){var l=Be();return le===null?yy(l,n,s):GS(l,le.memoizedState,n,s)},useTransition:function(){var n=fy($s)[0],s=Be().memoizedState;return[typeof n=="boolean"?n:ih(n),s]},useSyncExternalStore:vS,useId:KS,useHostTransitionStatus:vy,useFormState:NS,useActionState:NS,useOptimistic:function(n,s){var l=Be();return le!==null?wS(l,le,n,s):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:hy,useCacheRefresh:QS},Wo=null,rh=0;function rp(n){var s=rh;return rh+=1,Wo===null&&(Wo=[]),hS(Wo,n,s)}function lh(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function lp(n,s){throw s.$$typeof===b?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function eE(n){var s=n._init;return s(n._payload)}function nE(n){function s(B,z){if(n){var U=B.deletions;U===null?(B.deletions=[z],B.flags|=16):U.push(z)}}function l(B,z){if(!n)return null;for(;z!==null;)s(B,z),z=z.sibling;return null}function c(B){for(var z=new Map;B!==null;)B.key!==null?z.set(B.key,B):z.set(B.index,B),B=B.sibling;return z}function m(B,z){return B=Xs(B,z),B.index=0,B.sibling=null,B}function y(B,z,U){return B.index=U,n?(U=B.alternate,U!==null?(U=U.index,U<z?(B.flags|=67108866,z):U):(B.flags|=67108866,z)):(B.flags|=1048576,z)}function S(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function R(B,z,U,Z){return z===null||z.tag!==6?(z=Um(U,B.mode,Z),z.return=B,z):(z=m(z,U),z.return=B,z)}function O(B,z,U,Z){var yt=U.type;return yt===E?$(B,z,U.props.children,Z,U.key):z!==null&&(z.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===K&&eE(yt)===z.type)?(z=m(z,U.props),lh(z,U),z.return=B,z):(z=qf(U.type,U.key,U.props,null,B.mode,Z),lh(z,U),z.return=B,z)}function j(B,z,U,Z){return z===null||z.tag!==4||z.stateNode.containerInfo!==U.containerInfo||z.stateNode.implementation!==U.implementation?(z=jm(U,B.mode,Z),z.return=B,z):(z=m(z,U.children||[]),z.return=B,z)}function $(B,z,U,Z,yt){return z===null||z.tag!==7?(z=Zr(U,B.mode,Z,yt),z.return=B,z):(z=m(z,U),z.return=B,z)}function nt(B,z,U){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Um(""+z,B.mode,U),z.return=B,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case v:return U=qf(z.type,z.key,z.props,null,B.mode,U),lh(U,z),U.return=B,U;case A:return z=jm(z,B.mode,U),z.return=B,z;case K:var Z=z._init;return z=Z(z._payload),nt(B,z,U)}if(at(z)||it(z))return z=Zr(z,B.mode,U,null),z.return=B,z;if(typeof z.then=="function")return nt(B,rp(z),U);if(z.$$typeof===N)return nt(B,Yf(B,z),U);lp(B,z)}return null}function V(B,z,U,Z){var yt=z!==null?z.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return yt!==null?null:R(B,z,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case v:return U.key===yt?O(B,z,U,Z):null;case A:return U.key===yt?j(B,z,U,Z):null;case K:return yt=U._init,U=yt(U._payload),V(B,z,U,Z)}if(at(U)||it(U))return yt!==null?null:$(B,z,U,Z,null);if(typeof U.then=="function")return V(B,z,rp(U),Z);if(U.$$typeof===N)return V(B,z,Yf(B,U),Z);lp(B,U)}return null}function X(B,z,U,Z,yt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return B=B.get(U)||null,R(z,B,""+Z,yt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return B=B.get(Z.key===null?U:Z.key)||null,O(z,B,Z,yt);case A:return B=B.get(Z.key===null?U:Z.key)||null,j(z,B,Z,yt);case K:var Ut=Z._init;return Z=Ut(Z._payload),X(B,z,U,Z,yt)}if(at(Z)||it(Z))return B=B.get(U)||null,$(z,B,Z,yt,null);if(typeof Z.then=="function")return X(B,z,U,rp(Z),yt);if(Z.$$typeof===N)return X(B,z,U,Yf(z,Z),yt);lp(z,Z)}return null}function Rt(B,z,U,Z){for(var yt=null,Ut=null,At=z,Ct=z=0,sn=null;At!==null&&Ct<U.length;Ct++){At.index>Ct?(sn=At,At=null):sn=At.sibling;var $t=V(B,At,U[Ct],Z);if($t===null){At===null&&(At=sn);break}n&&At&&$t.alternate===null&&s(B,At),z=y($t,z,Ct),Ut===null?yt=$t:Ut.sibling=$t,Ut=$t,At=sn}if(Ct===U.length)return l(B,At),Zt&&tl(B,Ct),yt;if(At===null){for(;Ct<U.length;Ct++)At=nt(B,U[Ct],Z),At!==null&&(z=y(At,z,Ct),Ut===null?yt=At:Ut.sibling=At,Ut=At);return Zt&&tl(B,Ct),yt}for(At=c(At);Ct<U.length;Ct++)sn=X(At,B,Ct,U[Ct],Z),sn!==null&&(n&&sn.alternate!==null&&At.delete(sn.key===null?Ct:sn.key),z=y(sn,z,Ct),Ut===null?yt=sn:Ut.sibling=sn,Ut=sn);return n&&At.forEach(function(or){return s(B,or)}),Zt&&tl(B,Ct),yt}function wt(B,z,U,Z){if(U==null)throw Error(i(151));for(var yt=null,Ut=null,At=z,Ct=z=0,sn=null,$t=U.next();At!==null&&!$t.done;Ct++,$t=U.next()){At.index>Ct?(sn=At,At=null):sn=At.sibling;var or=V(B,At,$t.value,Z);if(or===null){At===null&&(At=sn);break}n&&At&&or.alternate===null&&s(B,At),z=y(or,z,Ct),Ut===null?yt=or:Ut.sibling=or,Ut=or,At=sn}if($t.done)return l(B,At),Zt&&tl(B,Ct),yt;if(At===null){for(;!$t.done;Ct++,$t=U.next())$t=nt(B,$t.value,Z),$t!==null&&(z=y($t,z,Ct),Ut===null?yt=$t:Ut.sibling=$t,Ut=$t);return Zt&&tl(B,Ct),yt}for(At=c(At);!$t.done;Ct++,$t=U.next())$t=X(At,B,Ct,$t.value,Z),$t!==null&&(n&&$t.alternate!==null&&At.delete($t.key===null?Ct:$t.key),z=y($t,z,Ct),Ut===null?yt=$t:Ut.sibling=$t,Ut=$t);return n&&At.forEach(function(Dk){return s(B,Dk)}),Zt&&tl(B,Ct),yt}function ue(B,z,U,Z){if(typeof U=="object"&&U!==null&&U.type===E&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case v:t:{for(var yt=U.key;z!==null;){if(z.key===yt){if(yt=U.type,yt===E){if(z.tag===7){l(B,z.sibling),Z=m(z,U.props.children),Z.return=B,B=Z;break t}}else if(z.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===K&&eE(yt)===z.type){l(B,z.sibling),Z=m(z,U.props),lh(Z,U),Z.return=B,B=Z;break t}l(B,z);break}else s(B,z);z=z.sibling}U.type===E?(Z=Zr(U.props.children,B.mode,Z,U.key),Z.return=B,B=Z):(Z=qf(U.type,U.key,U.props,null,B.mode,Z),lh(Z,U),Z.return=B,B=Z)}return S(B);case A:t:{for(yt=U.key;z!==null;){if(z.key===yt)if(z.tag===4&&z.stateNode.containerInfo===U.containerInfo&&z.stateNode.implementation===U.implementation){l(B,z.sibling),Z=m(z,U.children||[]),Z.return=B,B=Z;break t}else{l(B,z);break}else s(B,z);z=z.sibling}Z=jm(U,B.mode,Z),Z.return=B,B=Z}return S(B);case K:return yt=U._init,U=yt(U._payload),ue(B,z,U,Z)}if(at(U))return Rt(B,z,U,Z);if(it(U)){if(yt=it(U),typeof yt!="function")throw Error(i(150));return U=yt.call(U),wt(B,z,U,Z)}if(typeof U.then=="function")return ue(B,z,rp(U),Z);if(U.$$typeof===N)return ue(B,z,Yf(B,U),Z);lp(B,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,z!==null&&z.tag===6?(l(B,z.sibling),Z=m(z,U),Z.return=B,B=Z):(l(B,z),Z=Um(U,B.mode,Z),Z.return=B,B=Z),S(B)):l(B,z)}return function(B,z,U,Z){try{rh=0;var yt=ue(B,z,U,Z);return Wo=null,yt}catch(At){if(At===$c||At===Qf)throw At;var Ut=ai(29,At,null,B.mode);return Ut.lanes=Z,Ut.return=B,Ut}finally{}}}var $o=nE(!0),iE=nE(!1),Li=Y(null),ms=null;function Ya(n){var s=n.alternate;M(Xe,Xe.current&1),M(Li,n),ms===null&&(s===null||Xo.current!==null||s.memoizedState!==null)&&(ms=n)}function sE(n){if(n.tag===22){if(M(Xe,Xe.current),M(Li,n),ms===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(ms=n)}}else Ka()}function Ka(){M(Xe,Xe.current),M(Li,Li.current)}function Zs(n){rt(Li),ms===n&&(ms=null),rt(Xe)}var Xe=Y(0);function op(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||cb(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Sy(n,s,l,c){s=n.memoizedState,l=l(c,s),l=l==null?s:g({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Ey={enqueueSetState:function(n,s,l){n=n._reactInternals;var c=ui(),m=Ga(c);m.payload=s,l!=null&&(m.callback=l),s=Va(n,m,c),s!==null&&(ci(s,n,c),Jc(s,n,c))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var c=ui(),m=Ga(c);m.tag=1,m.payload=s,l!=null&&(m.callback=l),s=Va(n,m,c),s!==null&&(ci(s,n,c),Jc(s,n,c))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=ui(),c=Ga(l);c.tag=2,s!=null&&(c.callback=s),s=Va(n,c,l),s!==null&&(ci(s,n,l),Jc(s,n,l))}};function aE(n,s,l,c,m,y,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,y,S):s.prototype&&s.prototype.isPureReactComponent?!qc(l,c)||!qc(m,y):!0}function rE(n,s,l,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==n&&Ey.enqueueReplaceState(s,s.state,null)}function ll(n,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(n=n.defaultProps){l===s&&(l=g({},l));for(var m in n)l[m]===void 0&&(l[m]=n[m])}return l}var up=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function lE(n){up(n)}function oE(n){console.error(n)}function uE(n){up(n)}function cp(n,s){try{var l=n.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function cE(n,s,l){try{var c=n.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function _y(n,s,l){return l=Ga(l),l.tag=3,l.payload={element:null},l.callback=function(){cp(n,s)},l}function hE(n){return n=Ga(n),n.tag=3,n}function dE(n,s,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;n.payload=function(){return m(y)},n.callback=function(){cE(s,l,c)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(n.callback=function(){cE(s,l,c),typeof m!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function DR(n,s,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&Kc(s,l,m,!0),l=Li.current,l!==null){switch(l.tag){case 13:return ms===null?Yy():l.alternate===null&&Me===0&&(Me=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===Zm?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),Qy(n,c,m)),!1;case 22:return l.flags|=65536,c===Zm?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),Qy(n,c,m)),!1}throw Error(i(435,l.tag))}return Qy(n,c,m),Yy(),!1}if(Zt)return s=Li.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==Vm&&(n=Error(i(422),{cause:c}),Yc(Ri(n,l)))):(c!==Vm&&(s=Error(i(423),{cause:c}),Yc(Ri(s,l))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,c=Ri(c,l),m=_y(n.stateNode,c,m),ey(n,m),Me!==4&&(Me=2)),!1;var y=Error(i(520),{cause:c});if(y=Ri(y,l),ph===null?ph=[y]:ph.push(y),Me!==4&&(Me=2),s===null)return!0;c=Ri(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,n=m&-m,l.lanes|=n,n=_y(l.stateNode,c,n),ey(l,n),!1;case 1:if(s=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(tr===null||!tr.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=hE(m),dE(m,n,l,c),ey(l,m),!1}l=l.return}while(l!==null);return!1}var fE=Error(i(461)),en=!1;function hn(n,s,l,c){s.child=n===null?iE(s,null,l,c):$o(s,n.child,l,c)}function pE(n,s,l,c,m){l=l.render;var y=s.ref;if("ref"in c){var S={};for(var R in c)R!=="ref"&&(S[R]=c[R])}else S=c;return sl(s),c=ry(n,s,l,S,y,m),R=ly(),n!==null&&!en?(oy(n,s,m),Js(n,s,m)):(Zt&&R&&qm(s),s.flags|=1,hn(n,s,c,m),s.child)}function gE(n,s,l,c,m){if(n===null){var y=l.type;return typeof y=="function"&&!Bm(y)&&y.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=y,mE(n,s,y,c,m)):(n=qf(l.type,null,c,s,s.mode,m),n.ref=s.ref,n.return=s,s.child=n)}if(y=n.child,!Dy(n,m)){var S=y.memoizedProps;if(l=l.compare,l=l!==null?l:qc,l(S,c)&&n.ref===s.ref)return Js(n,s,m)}return s.flags|=1,n=Xs(y,c),n.ref=s.ref,n.return=s,s.child=n}function mE(n,s,l,c,m){if(n!==null){var y=n.memoizedProps;if(qc(y,c)&&n.ref===s.ref)if(en=!1,s.pendingProps=c=y,Dy(n,m))(n.flags&131072)!==0&&(en=!0);else return s.lanes=n.lanes,Js(n,s,m)}return xy(n,s,l,c,m)}function yE(n,s,l){var c=s.pendingProps,m=c.children,y=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,n!==null){for(m=s.child=n.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;s.childLanes=y&~c}else s.childLanes=0,s.child=null;return bE(n,s,c,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Kf(s,y!==null?y.cachePool:null),y!==null?mS(s,y):iy(),sE(s);else return s.lanes=s.childLanes=536870912,bE(n,s,y!==null?y.baseLanes|l:l,l)}else y!==null?(Kf(s,y.cachePool),mS(s,y),Ka(),s.memoizedState=null):(n!==null&&Kf(s,null),iy(),Ka());return hn(n,s,m,l),s.child}function bE(n,s,l,c){var m=$m();return m=m===null?null:{parent:Ve._currentValue,pool:m},s.memoizedState={baseLanes:l,cachePool:m},n!==null&&Kf(s,null),iy(),sE(s),n!==null&&Kc(n,s,c,!0),null}function hp(n,s){var l=s.ref;if(l===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(s.flags|=4194816)}}function xy(n,s,l,c,m){return sl(s),l=ry(n,s,l,c,void 0,m),c=ly(),n!==null&&!en?(oy(n,s,m),Js(n,s,m)):(Zt&&c&&qm(s),s.flags|=1,hn(n,s,l,m),s.child)}function vE(n,s,l,c,m,y){return sl(s),s.updateQueue=null,l=bS(s,c,l,m),yS(n),c=ly(),n!==null&&!en?(oy(n,s,y),Js(n,s,y)):(Zt&&c&&qm(s),s.flags|=1,hn(n,s,l,y),s.child)}function AE(n,s,l,c,m){if(sl(s),s.stateNode===null){var y=Uo,S=l.contextType;typeof S=="object"&&S!==null&&(y=An(S)),y=new l(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Ey,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},Jm(s),S=l.contextType,y.context=typeof S=="object"&&S!==null?An(S):Uo,y.state=s.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Sy(s,l,S,c),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Ey.enqueueReplaceState(y,y.state,null),eh(s,c,y,m),th(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(n===null){y=s.stateNode;var R=s.memoizedProps,O=ll(l,R);y.props=O;var j=y.context,$=l.contextType;S=Uo,typeof $=="object"&&$!==null&&(S=An($));var nt=l.getDerivedStateFromProps;$=typeof nt=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,$||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||j!==S)&&rE(s,y,c,S),qa=!1;var V=s.memoizedState;y.state=V,eh(s,c,y,m),th(),j=s.memoizedState,R||V!==j||qa?(typeof nt=="function"&&(Sy(s,l,nt,c),j=s.memoizedState),(O=qa||aE(s,l,O,c,V,j,S))?($||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=j),y.props=c,y.state=j,y.context=S,c=O):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,ty(n,s),S=s.memoizedProps,$=ll(l,S),y.props=$,nt=s.pendingProps,V=y.context,j=l.contextType,O=Uo,typeof j=="object"&&j!==null&&(O=An(j)),R=l.getDerivedStateFromProps,(j=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==nt||V!==O)&&rE(s,y,c,O),qa=!1,V=s.memoizedState,y.state=V,eh(s,c,y,m),th();var X=s.memoizedState;S!==nt||V!==X||qa||n!==null&&n.dependencies!==null&&Xf(n.dependencies)?(typeof R=="function"&&(Sy(s,l,R,c),X=s.memoizedState),($=qa||aE(s,l,$,c,V,X,O)||n!==null&&n.dependencies!==null&&Xf(n.dependencies))?(j||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,X,O),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,X,O)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===n.memoizedProps&&V===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&V===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=X),y.props=c,y.state=X,y.context=O,c=$):(typeof y.componentDidUpdate!="function"||S===n.memoizedProps&&V===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&V===n.memoizedState||(s.flags|=1024),c=!1)}return y=c,hp(n,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,n!==null&&c?(s.child=$o(s,n.child,null,m),s.child=$o(s,null,l,m)):hn(n,s,l,m),s.memoizedState=y.state,n=s.child):n=Js(n,s,m),n}function SE(n,s,l,c){return Xc(),s.flags|=256,hn(n,s,l,c),s.child}var wy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ty(n){return{baseLanes:n,cachePool:oS()}}function Cy(n,s,l){return n=n!==null?n.childLanes&~l:0,s&&(n|=Oi),n}function EE(n,s,l){var c=s.pendingProps,m=!1,y=(s.flags&128)!==0,S;if((S=y)||(S=n!==null&&n.memoizedState===null?!1:(Xe.current&2)!==0),S&&(m=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,n===null){if(Zt){if(m?Ya(s):Ka(),Zt){var R=ke,O;if(O=R){t:{for(O=R,R=gs;O.nodeType!==8;){if(!R){R=null;break t}if(O=$i(O.nextSibling),O===null){R=null;break t}}R=O}R!==null?(s.memoizedState={dehydrated:R,treeContext:Jr!==null?{id:Ys,overflow:Ks}:null,retryLane:536870912,hydrationErrors:null},O=ai(18,null,null,0),O.stateNode=R,O.return=s,s.child=O,Ln=s,ke=null,O=!0):O=!1}O||nl(s)}if(R=s.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return cb(R)?s.lanes=32:s.lanes=536870912,null;Zs(s)}return R=c.children,c=c.fallback,m?(Ka(),m=s.mode,R=dp({mode:"hidden",children:R},m),c=Zr(c,m,l,null),R.return=s,c.return=s,R.sibling=c,s.child=R,m=s.child,m.memoizedState=Ty(l),m.childLanes=Cy(n,S,l),s.memoizedState=wy,c):(Ya(s),Ry(s,R))}if(O=n.memoizedState,O!==null&&(R=O.dehydrated,R!==null)){if(y)s.flags&256?(Ya(s),s.flags&=-257,s=ky(n,s,l)):s.memoizedState!==null?(Ka(),s.child=n.child,s.flags|=128,s=null):(Ka(),m=c.fallback,R=s.mode,c=dp({mode:"visible",children:c.children},R),m=Zr(m,R,l,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,$o(s,n.child,null,l),c=s.child,c.memoizedState=Ty(l),c.childLanes=Cy(n,S,l),s.memoizedState=wy,s=m);else if(Ya(s),cb(R)){if(S=R.nextSibling&&R.nextSibling.dataset,S)var j=S.dgst;S=j,c=Error(i(419)),c.stack="",c.digest=S,Yc({value:c,source:null,stack:null}),s=ky(n,s,l)}else if(en||Kc(n,s,l,!1),S=(l&n.childLanes)!==0,en||S){if(S=me,S!==null&&(c=l&-l,c=(c&42)!==0?1:hm(c),c=(c&(S.suspendedLanes|l))!==0?0:c,c!==0&&c!==O.retryLane))throw O.retryLane=c,Bo(n,c),ci(S,n,c),fE;R.data==="$?"||Yy(),s=ky(n,s,l)}else R.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=O.treeContext,ke=$i(R.nextSibling),Ln=s,Zt=!0,el=null,gs=!1,n!==null&&(Mi[Di++]=Ys,Mi[Di++]=Ks,Mi[Di++]=Jr,Ys=n.id,Ks=n.overflow,Jr=s),s=Ry(s,c.children),s.flags|=4096);return s}return m?(Ka(),m=c.fallback,R=s.mode,O=n.child,j=O.sibling,c=Xs(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,j!==null?m=Xs(j,m):(m=Zr(m,R,l,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,R=n.child.memoizedState,R===null?R=Ty(l):(O=R.cachePool,O!==null?(j=Ve._currentValue,O=O.parent!==j?{parent:j,pool:j}:O):O=oS(),R={baseLanes:R.baseLanes|l,cachePool:O}),m.memoizedState=R,m.childLanes=Cy(n,S,l),s.memoizedState=wy,c):(Ya(s),l=n.child,n=l.sibling,l=Xs(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,n!==null&&(S=s.deletions,S===null?(s.deletions=[n],s.flags|=16):S.push(n)),s.child=l,s.memoizedState=null,l)}function Ry(n,s){return s=dp({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function dp(n,s){return n=ai(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function ky(n,s,l){return $o(s,n.child,null,l),n=Ry(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function _E(n,s,l){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),Ym(n.return,s,l)}function My(n,s,l,c,m){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=m)}function xE(n,s,l){var c=s.pendingProps,m=c.revealOrder,y=c.tail;if(hn(n,s,c.children,l),c=Xe.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&_E(n,l,s);else if(n.tag===19)_E(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(M(Xe,c),m){case"forwards":for(l=s.child,m=null;l!==null;)n=l.alternate,n!==null&&op(n)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),My(s,!1,m,l,y);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(n=m.alternate,n!==null&&op(n)===null){s.child=m;break}n=m.sibling,m.sibling=l,l=m,m=n}My(s,!0,l,null,y);break;case"together":My(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Js(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),Ja|=s.lanes,(l&s.childLanes)===0)if(n!==null){if(Kc(n,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,l=Xs(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=Xs(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function Dy(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Xf(n)))}function LR(n,s,l){switch(s.tag){case 3:Lt(s,s.stateNode.containerInfo),ja(s,Ve,n.memoizedState.cache),Xc();break;case 27:case 5:Xt(s);break;case 4:Lt(s,s.stateNode.containerInfo);break;case 10:ja(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Ya(s),s.flags|=128,null):(l&s.child.childLanes)!==0?EE(n,s,l):(Ya(s),n=Js(n,s,l),n!==null?n.sibling:null);Ya(s);break;case 19:var m=(n.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(Kc(n,s,l,!1),c=(l&s.childLanes)!==0),m){if(c)return xE(n,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),M(Xe,Xe.current),c)break;return null;case 22:case 23:return s.lanes=0,yE(n,s,l);case 24:ja(s,Ve,n.memoizedState.cache)}return Js(n,s,l)}function wE(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps)en=!0;else{if(!Dy(n,l)&&(s.flags&128)===0)return en=!1,LR(n,s,l);en=(n.flags&131072)!==0}else en=!1,Zt&&(s.flags&1048576)!==0&&eS(s,Vf,s.index);switch(s.lanes=0,s.tag){case 16:t:{n=s.pendingProps;var c=s.elementType,m=c._init;if(c=m(c._payload),s.type=c,typeof c=="function")Bm(c)?(n=ll(c,n),s.tag=1,s=AE(null,s,c,n,l)):(s.tag=0,s=xy(null,s,c,n,l));else{if(c!=null){if(m=c.$$typeof,m===I){s.tag=11,s=pE(null,s,c,n,l);break t}else if(m===q){s.tag=14,s=gE(null,s,c,n,l);break t}}throw s=J(c)||c,Error(i(306,s,""))}}return s;case 0:return xy(n,s,s.type,s.pendingProps,l);case 1:return c=s.type,m=ll(c,s.pendingProps),AE(n,s,c,m,l);case 3:t:{if(Lt(s,s.stateNode.containerInfo),n===null)throw Error(i(387));c=s.pendingProps;var y=s.memoizedState;m=y.element,ty(n,s),eh(s,c,null,l);var S=s.memoizedState;if(c=S.cache,ja(s,Ve,c),c!==y.cache&&Km(s,[Ve],l,!0),th(),c=S.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=SE(n,s,c,l);break t}else if(c!==m){m=Ri(Error(i(424)),s),Yc(m),s=SE(n,s,c,l);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ke=$i(n.firstChild),Ln=s,Zt=!0,el=null,gs=!0,l=iE(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Xc(),c===m){s=Js(n,s,l);break t}hn(n,s,c,l)}s=s.child}return s;case 26:return hp(n,s),n===null?(l=k1(s.type,null,s.pendingProps,null))?s.memoizedState=l:Zt||(l=s.type,n=s.pendingProps,c=Tp(ht.current).createElement(l),c[vn]=s,c[Un]=n,fn(c,l,n),tn(c),s.stateNode=c):s.memoizedState=k1(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Xt(s),n===null&&Zt&&(c=s.stateNode=T1(s.type,s.pendingProps,ht.current),Ln=s,gs=!0,m=ke,ir(s.type)?(hb=m,ke=$i(c.firstChild)):ke=m),hn(n,s,s.pendingProps.children,l),hp(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Zt&&((m=c=ke)&&(c=rk(c,s.type,s.pendingProps,gs),c!==null?(s.stateNode=c,Ln=s,ke=$i(c.firstChild),gs=!1,m=!0):m=!1),m||nl(s)),Xt(s),m=s.type,y=s.pendingProps,S=n!==null?n.memoizedProps:null,c=y.children,lb(m,y)?c=null:S!==null&&lb(m,S)&&(s.flags|=32),s.memoizedState!==null&&(m=ry(n,s,xR,null,null,l),_h._currentValue=m),hp(n,s),hn(n,s,c,l),s.child;case 6:return n===null&&Zt&&((n=l=ke)&&(l=lk(l,s.pendingProps,gs),l!==null?(s.stateNode=l,Ln=s,ke=null,n=!0):n=!1),n||nl(s)),null;case 13:return EE(n,s,l);case 4:return Lt(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=$o(s,null,c,l):hn(n,s,c,l),s.child;case 11:return pE(n,s,s.type,s.pendingProps,l);case 7:return hn(n,s,s.pendingProps,l),s.child;case 8:return hn(n,s,s.pendingProps.children,l),s.child;case 12:return hn(n,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,ja(s,s.type,c.value),hn(n,s,c.children,l),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,sl(s),m=An(m),c=c(m),s.flags|=1,hn(n,s,c,l),s.child;case 14:return gE(n,s,s.type,s.pendingProps,l);case 15:return mE(n,s,s.type,s.pendingProps,l);case 19:return xE(n,s,l);case 31:return c=s.pendingProps,l=s.mode,c={mode:c.mode,children:c.children},n===null?(l=dp(c,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=Xs(n.child,c),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return yE(n,s,l);case 24:return sl(s),c=An(Ve),n===null?(m=$m(),m===null&&(m=me,y=Qm(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),s.memoizedState={parent:c,cache:m},Jm(s),ja(s,Ve,m)):((n.lanes&l)!==0&&(ty(n,s),eh(s,null,null,l),th()),m=n.memoizedState,y=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),ja(s,Ve,c)):(c=y.cache,ja(s,Ve,c),c!==m.cache&&Km(s,[Ve],l,!0))),hn(n,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ta(n){n.flags|=4}function TE(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!N1(s)){if(s=Li.current,s!==null&&((Kt&4194048)===Kt?ms!==null:(Kt&62914560)!==Kt&&(Kt&536870912)===0||s!==ms))throw Zc=Zm,uS;n.flags|=8192}}function fp(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?sA():536870912,n.lanes|=s,eu|=s)}function oh(n,s){if(!Zt)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function xe(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,c=0;if(s)for(var m=n.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=c,n.childLanes=l,s}function OR(n,s,l){var c=s.pendingProps;switch(Gm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(s),null;case 1:return xe(s),null;case 3:return l=s.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ws(Ve),de(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(Vc(s)?ta(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,sS())),xe(s),null;case 26:return l=s.memoizedState,n===null?(ta(s),l!==null?(xe(s),TE(s,l)):(xe(s),s.flags&=-16777217)):l?l!==n.memoizedState?(ta(s),xe(s),TE(s,l)):(xe(s),s.flags&=-16777217):(n.memoizedProps!==c&&ta(s),xe(s),s.flags&=-16777217),null;case 27:Dn(s),l=ht.current;var m=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==c&&ta(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return xe(s),null}n=pt.current,Vc(s)?nS(s):(n=T1(m,c,l),s.stateNode=n,ta(s))}return xe(s),null;case 5:if(Dn(s),l=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&ta(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return xe(s),null}if(n=pt.current,Vc(s))nS(s);else{switch(m=Tp(ht.current),n){case 1:n=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=m.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}n[vn]=s,n[Un]=c;t:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)n.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break t;for(;m.sibling===null;){if(m.return===null||m.return===s)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=n;t:switch(fn(n,l,c),l){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&ta(s)}}return xe(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==c&&ta(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(n=ht.current,Vc(s)){if(n=s.stateNode,l=s.memoizedProps,c=null,m=Ln,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}n[vn]=s,n=!!(n.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||v1(n.nodeValue,l)),n||nl(s)}else n=Tp(n).createTextNode(c),n[vn]=s,s.stateNode=n}return xe(s),null;case 13:if(c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=Vc(s),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(i(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[vn]=s}else Xc(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;xe(s),m=!1}else m=sS(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Zs(s),s):(Zs(s),null)}if(Zs(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=c!==null,n=n!==null&&n.memoizedState!==null,l){c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return l!==n&&l&&(s.child.flags|=8192),fp(s,s.updateQueue),xe(s),null;case 4:return de(),n===null&&nb(s.stateNode.containerInfo),xe(s),null;case 10:return Ws(s.type),xe(s),null;case 19:if(rt(Xe),m=s.memoizedState,m===null)return xe(s),null;if(c=(s.flags&128)!==0,y=m.rendering,y===null)if(c)oh(m,!1);else{if(Me!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(y=op(n),y!==null){for(s.flags|=128,oh(m,!1),n=y.updateQueue,s.updateQueue=n,fp(s,n),s.subtreeFlags=0,n=l,l=s.child;l!==null;)tS(l,n),l=l.sibling;return M(Xe,Xe.current&1|2),s.child}n=n.sibling}m.tail!==null&&Fe()>mp&&(s.flags|=128,c=!0,oh(m,!1),s.lanes=4194304)}else{if(!c)if(n=op(y),n!==null){if(s.flags|=128,c=!0,n=n.updateQueue,s.updateQueue=n,fp(s,n),oh(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Zt)return xe(s),null}else 2*Fe()-m.renderingStartTime>mp&&l!==536870912&&(s.flags|=128,c=!0,oh(m,!1),s.lanes=4194304);m.isBackwards?(y.sibling=s.child,s.child=y):(n=m.last,n!==null?n.sibling=y:s.child=y,m.last=y)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Fe(),s.sibling=null,n=Xe.current,M(Xe,c?n&1|2:n&1),s):(xe(s),null);case 22:case 23:return Zs(s),sy(),c=s.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(xe(s),s.subtreeFlags&6&&(s.flags|=8192)):xe(s),l=s.updateQueue,l!==null&&fp(s,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),n!==null&&rt(al),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ws(Ve),xe(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function NR(n,s){switch(Gm(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Ws(Ve),de(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Dn(s),null;case 13:if(Zs(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Xc()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return rt(Xe),null;case 4:return de(),null;case 10:return Ws(s.type),null;case 22:case 23:return Zs(s),sy(),n!==null&&rt(al),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Ws(Ve),null;case 25:return null;default:return null}}function CE(n,s){switch(Gm(s),s.tag){case 3:Ws(Ve),de();break;case 26:case 27:case 5:Dn(s);break;case 4:de();break;case 13:Zs(s);break;case 19:rt(Xe);break;case 10:Ws(s.type);break;case 22:case 23:Zs(s),sy(),n!==null&&rt(al);break;case 24:Ws(Ve)}}function uh(n,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&n)===n){c=void 0;var y=l.create,S=l.inst;c=y(),S.destroy=c}l=l.next}while(l!==m)}}catch(R){fe(s,s.return,R)}}function Qa(n,s,l){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&n)===n){var S=c.inst,R=S.destroy;if(R!==void 0){S.destroy=void 0,m=s;var O=l,j=R;try{j()}catch($){fe(m,O,$)}}}c=c.next}while(c!==y)}}catch($){fe(s,s.return,$)}}function RE(n){var s=n.updateQueue;if(s!==null){var l=n.stateNode;try{gS(s,l)}catch(c){fe(n,n.return,c)}}}function kE(n,s,l){l.props=ll(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(c){fe(n,s,c)}}function ch(n,s){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof l=="function"?n.refCleanup=l(c):l.current=c}}catch(m){fe(n,s,m)}}function ys(n,s){var l=n.ref,c=n.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){fe(n,s,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){fe(n,s,m)}else l.current=null}function ME(n){var s=n.type,l=n.memoizedProps,c=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break t;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){fe(n,n.return,m)}}function Ly(n,s,l){try{var c=n.stateNode;ek(c,n.type,l,s),c[Un]=s}catch(m){fe(n,n.return,m)}}function DE(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ir(n.type)||n.tag===4}function Oy(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||DE(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ir(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ny(n,s,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(n),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=wp));else if(c!==4&&(c===27&&ir(n.type)&&(l=n.stateNode,s=null),n=n.child,n!==null))for(Ny(n,s,l),n=n.sibling;n!==null;)Ny(n,s,l),n=n.sibling}function pp(n,s,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(c!==4&&(c===27&&ir(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(pp(n,s,l),n=n.sibling;n!==null;)pp(n,s,l),n=n.sibling}function LE(n){var s=n.stateNode,l=n.memoizedProps;try{for(var c=n.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);fn(s,c,l),s[vn]=n,s[Un]=l}catch(y){fe(n,n.return,y)}}var ea=!1,Pe=!1,Py=!1,OE=typeof WeakSet=="function"?WeakSet:Set,nn=null;function PR(n,s){if(n=n.containerInfo,ab=Lp,n=GA(n),Om(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else t:{l=(l=n.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break t}var S=0,R=-1,O=-1,j=0,$=0,nt=n,V=null;e:for(;;){for(var X;nt!==l||m!==0&&nt.nodeType!==3||(R=S+m),nt!==y||c!==0&&nt.nodeType!==3||(O=S+c),nt.nodeType===3&&(S+=nt.nodeValue.length),(X=nt.firstChild)!==null;)V=nt,nt=X;for(;;){if(nt===n)break e;if(V===l&&++j===m&&(R=S),V===y&&++$===c&&(O=S),(X=nt.nextSibling)!==null)break;nt=V,V=nt.parentNode}nt=X}l=R===-1||O===-1?null:{start:R,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(rb={focusedElem:n,selectionRange:l},Lp=!1,nn=s;nn!==null;)if(s=nn,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,nn=n;else for(;nn!==null;){switch(s=nn,y=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,l=s,m=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Rt=ll(l.type,m,l.elementType===l.type);n=c.getSnapshotBeforeUpdate(Rt,y),c.__reactInternalSnapshotBeforeUpdate=n}catch(wt){fe(l,l.return,wt)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,l=n.nodeType,l===9)ub(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":ub(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,nn=n;break}nn=s.return}}function NE(n,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Wa(n,l),c&4&&uh(5,l);break;case 1:if(Wa(n,l),c&4)if(n=l.stateNode,s===null)try{n.componentDidMount()}catch(S){fe(l,l.return,S)}else{var m=ll(l.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(m,s,n.__reactInternalSnapshotBeforeUpdate)}catch(S){fe(l,l.return,S)}}c&64&&RE(l),c&512&&ch(l,l.return);break;case 3:if(Wa(n,l),c&64&&(n=l.updateQueue,n!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{gS(n,s)}catch(S){fe(l,l.return,S)}}break;case 27:s===null&&c&4&&LE(l);case 26:case 5:Wa(n,l),s===null&&c&4&&ME(l),c&512&&ch(l,l.return);break;case 12:Wa(n,l);break;case 13:Wa(n,l),c&4&&IE(n,l),c&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=GR.bind(null,l),ok(n,l))));break;case 22:if(c=l.memoizedState!==null||ea,!c){s=s!==null&&s.memoizedState!==null||Pe,m=ea;var y=Pe;ea=c,(Pe=s)&&!y?$a(n,l,(l.subtreeFlags&8772)!==0):Wa(n,l),ea=m,Pe=y}break;case 30:break;default:Wa(n,l)}}function PE(n){var s=n.alternate;s!==null&&(n.alternate=null,PE(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&pm(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Se=null,Gn=!1;function na(n,s,l){for(l=l.child;l!==null;)zE(n,s,l),l=l.sibling}function zE(n,s,l){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(W,l)}catch{}switch(l.tag){case 26:Pe||ys(l,s),na(n,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Pe||ys(l,s);var c=Se,m=Gn;ir(l.type)&&(Se=l.stateNode,Gn=!1),na(n,s,l),vh(l.stateNode),Se=c,Gn=m;break;case 5:Pe||ys(l,s);case 6:if(c=Se,m=Gn,Se=null,na(n,s,l),Se=c,Gn=m,Se!==null)if(Gn)try{(Se.nodeType===9?Se.body:Se.nodeName==="HTML"?Se.ownerDocument.body:Se).removeChild(l.stateNode)}catch(y){fe(l,s,y)}else try{Se.removeChild(l.stateNode)}catch(y){fe(l,s,y)}break;case 18:Se!==null&&(Gn?(n=Se,x1(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),Ch(n)):x1(Se,l.stateNode));break;case 4:c=Se,m=Gn,Se=l.stateNode.containerInfo,Gn=!0,na(n,s,l),Se=c,Gn=m;break;case 0:case 11:case 14:case 15:Pe||Qa(2,l,s),Pe||Qa(4,l,s),na(n,s,l);break;case 1:Pe||(ys(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&kE(l,s,c)),na(n,s,l);break;case 21:na(n,s,l);break;case 22:Pe=(c=Pe)||l.memoizedState!==null,na(n,s,l),Pe=c;break;default:na(n,s,l)}}function IE(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ch(n)}catch(l){fe(s,s.return,l)}}function zR(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new OE),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new OE),s;default:throw Error(i(435,n.tag))}}function zy(n,s){var l=zR(n);s.forEach(function(c){var m=VR.bind(null,n,c);l.has(c)||(l.add(c),c.then(m,m))})}function ri(n,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],y=n,S=s,R=S;t:for(;R!==null;){switch(R.tag){case 27:if(ir(R.type)){Se=R.stateNode,Gn=!1;break t}break;case 5:Se=R.stateNode,Gn=!1;break t;case 3:case 4:Se=R.stateNode.containerInfo,Gn=!0;break t}R=R.return}if(Se===null)throw Error(i(160));zE(y,S,m),Se=null,Gn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)FE(s,n),s=s.sibling}var Wi=null;function FE(n,s){var l=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:ri(s,n),li(n),c&4&&(Qa(3,n,n.return),uh(3,n),Qa(5,n,n.return));break;case 1:ri(s,n),li(n),c&512&&(Pe||l===null||ys(l,l.return)),c&64&&ea&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=Wi;if(ri(s,n),li(n),c&512&&(Pe||l===null||ys(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=n.memoizedState,l===null)if(c===null)if(n.stateNode===null){t:{c=n.type,l=n.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Nc]||y[vn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),fn(y,c,l),y[vn]=n,tn(y),c=y;break t;case"link":var S=L1("link","href",m).get(c+(l.href||""));if(S){for(var R=0;R<S.length;R++)if(y=S[R],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(R,1);break e}}y=m.createElement(c),fn(y,c,l),m.head.appendChild(y);break;case"meta":if(S=L1("meta","content",m).get(c+(l.content||""))){for(R=0;R<S.length;R++)if(y=S[R],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(R,1);break e}}y=m.createElement(c),fn(y,c,l),m.head.appendChild(y);break;default:throw Error(i(468,c))}y[vn]=n,tn(y),c=y}n.stateNode=c}else O1(m,n.type,n.stateNode);else n.stateNode=D1(m,c,n.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?O1(m,n.type,n.stateNode):D1(m,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Ly(n,n.memoizedProps,l.memoizedProps)}break;case 27:ri(s,n),li(n),c&512&&(Pe||l===null||ys(l,l.return)),l!==null&&c&4&&Ly(n,n.memoizedProps,l.memoizedProps);break;case 5:if(ri(s,n),li(n),c&512&&(Pe||l===null||ys(l,l.return)),n.flags&32){m=n.stateNode;try{Oo(m,"")}catch(X){fe(n,n.return,X)}}c&4&&n.stateNode!=null&&(m=n.memoizedProps,Ly(n,m,l!==null?l.memoizedProps:m)),c&1024&&(Py=!0);break;case 6:if(ri(s,n),li(n),c&4){if(n.stateNode===null)throw Error(i(162));c=n.memoizedProps,l=n.stateNode;try{l.nodeValue=c}catch(X){fe(n,n.return,X)}}break;case 3:if(kp=null,m=Wi,Wi=Cp(s.containerInfo),ri(s,n),Wi=m,li(n),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Ch(s.containerInfo)}catch(X){fe(n,n.return,X)}Py&&(Py=!1,HE(n));break;case 4:c=Wi,Wi=Cp(n.stateNode.containerInfo),ri(s,n),li(n),Wi=c;break;case 12:ri(s,n),li(n);break;case 13:ri(s,n),li(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(jy=Fe()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,zy(n,c)));break;case 22:m=n.memoizedState!==null;var O=l!==null&&l.memoizedState!==null,j=ea,$=Pe;if(ea=j||m,Pe=$||O,ri(s,n),Pe=$,ea=j,li(n),c&8192)t:for(s=n.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(l===null||O||ea||Pe||ol(n)),l=null,s=n;;){if(s.tag===5||s.tag===26){if(l===null){O=l=s;try{if(y=O.stateNode,m)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{R=O.stateNode;var nt=O.memoizedProps.style,V=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;R.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(X){fe(O,O.return,X)}}}else if(s.tag===6){if(l===null){O=s;try{O.stateNode.nodeValue=m?"":O.memoizedProps}catch(X){fe(O,O.return,X)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=n.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,zy(n,l))));break;case 19:ri(s,n),li(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,zy(n,c)));break;case 30:break;case 21:break;default:ri(s,n),li(n)}}function li(n){var s=n.flags;if(s&2){try{for(var l,c=n.return;c!==null;){if(DE(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,y=Oy(n);pp(n,y,m);break;case 5:var S=l.stateNode;l.flags&32&&(Oo(S,""),l.flags&=-33);var R=Oy(n);pp(n,R,S);break;case 3:case 4:var O=l.stateNode.containerInfo,j=Oy(n);Ny(n,j,O);break;default:throw Error(i(161))}}catch($){fe(n,n.return,$)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function HE(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;HE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Wa(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)NE(n,s.alternate,s),s=s.sibling}function ol(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Qa(4,s,s.return),ol(s);break;case 1:ys(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&kE(s,s.return,l),ol(s);break;case 27:vh(s.stateNode);case 26:case 5:ys(s,s.return),ol(s);break;case 22:s.memoizedState===null&&ol(s);break;case 30:ol(s);break;default:ol(s)}n=n.sibling}}function $a(n,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=n,y=s,S=y.flags;switch(y.tag){case 0:case 11:case 15:$a(m,y,l),uh(4,y);break;case 1:if($a(m,y,l),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(j){fe(c,c.return,j)}if(c=y,m=c.updateQueue,m!==null){var R=c.stateNode;try{var O=m.shared.hiddenCallbacks;if(O!==null)for(m.shared.hiddenCallbacks=null,m=0;m<O.length;m++)pS(O[m],R)}catch(j){fe(c,c.return,j)}}l&&S&64&&RE(y),ch(y,y.return);break;case 27:LE(y);case 26:case 5:$a(m,y,l),l&&c===null&&S&4&&ME(y),ch(y,y.return);break;case 12:$a(m,y,l);break;case 13:$a(m,y,l),l&&S&4&&IE(m,y);break;case 22:y.memoizedState===null&&$a(m,y,l),ch(y,y.return);break;case 30:break;default:$a(m,y,l)}s=s.sibling}}function Iy(n,s){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Qc(l))}function Fy(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Qc(n))}function bs(n,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)BE(n,s,l,c),s=s.sibling}function BE(n,s,l,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:bs(n,s,l,c),m&2048&&uh(9,s);break;case 1:bs(n,s,l,c);break;case 3:bs(n,s,l,c),m&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Qc(n)));break;case 12:if(m&2048){bs(n,s,l,c),n=s.stateNode;try{var y=s.memoizedProps,S=y.id,R=y.onPostCommit;typeof R=="function"&&R(S,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(O){fe(s,s.return,O)}}else bs(n,s,l,c);break;case 13:bs(n,s,l,c);break;case 23:break;case 22:y=s.stateNode,S=s.alternate,s.memoizedState!==null?y._visibility&2?bs(n,s,l,c):hh(n,s):y._visibility&2?bs(n,s,l,c):(y._visibility|=2,Zo(n,s,l,c,(s.subtreeFlags&10256)!==0)),m&2048&&Iy(S,s);break;case 24:bs(n,s,l,c),m&2048&&Fy(s.alternate,s);break;default:bs(n,s,l,c)}}function Zo(n,s,l,c,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=n,S=s,R=l,O=c,j=S.flags;switch(S.tag){case 0:case 11:case 15:Zo(y,S,R,O,m),uh(8,S);break;case 23:break;case 22:var $=S.stateNode;S.memoizedState!==null?$._visibility&2?Zo(y,S,R,O,m):hh(y,S):($._visibility|=2,Zo(y,S,R,O,m)),m&&j&2048&&Iy(S.alternate,S);break;case 24:Zo(y,S,R,O,m),m&&j&2048&&Fy(S.alternate,S);break;default:Zo(y,S,R,O,m)}s=s.sibling}}function hh(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=n,c=s,m=c.flags;switch(c.tag){case 22:hh(l,c),m&2048&&Iy(c.alternate,c);break;case 24:hh(l,c),m&2048&&Fy(c.alternate,c);break;default:hh(l,c)}s=s.sibling}}var dh=8192;function Jo(n){if(n.subtreeFlags&dh)for(n=n.child;n!==null;)UE(n),n=n.sibling}function UE(n){switch(n.tag){case 26:Jo(n),n.flags&dh&&n.memoizedState!==null&&Sk(Wi,n.memoizedState,n.memoizedProps);break;case 5:Jo(n);break;case 3:case 4:var s=Wi;Wi=Cp(n.stateNode.containerInfo),Jo(n),Wi=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=dh,dh=16777216,Jo(n),dh=s):Jo(n));break;default:Jo(n)}}function jE(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function fh(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];nn=c,GE(c,n)}jE(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qE(n),n=n.sibling}function qE(n){switch(n.tag){case 0:case 11:case 15:fh(n),n.flags&2048&&Qa(9,n,n.return);break;case 3:fh(n);break;case 12:fh(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,gp(n)):fh(n);break;default:fh(n)}}function gp(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];nn=c,GE(c,n)}jE(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Qa(8,s,s.return),gp(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,gp(s));break;default:gp(s)}n=n.sibling}}function GE(n,s){for(;nn!==null;){var l=nn;switch(l.tag){case 0:case 11:case 15:Qa(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Qc(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,nn=c;else t:for(l=n;nn!==null;){c=nn;var m=c.sibling,y=c.return;if(PE(c),c===l){nn=null;break t}if(m!==null){m.return=y,nn=m;break t}nn=y}}}var IR={getCacheForType:function(n){var s=An(Ve),l=s.data.get(n);return l===void 0&&(l=n(),s.data.set(n,l)),l}},FR=typeof WeakMap=="function"?WeakMap:Map,ne=0,me=null,qt=null,Kt=0,ie=0,oi=null,Za=!1,tu=!1,Hy=!1,ia=0,Me=0,Ja=0,ul=0,By=0,Oi=0,eu=0,ph=null,Vn=null,Uy=!1,jy=0,mp=1/0,yp=null,tr=null,dn=0,er=null,nu=null,iu=0,qy=0,Gy=null,VE=null,gh=0,Vy=null;function ui(){if((ne&2)!==0&&Kt!==0)return Kt&-Kt;if(H.T!==null){var n=Go;return n!==0?n:Zy()}return lA()}function XE(){Oi===0&&(Oi=(Kt&536870912)===0||Zt?iA():536870912);var n=Li.current;return n!==null&&(n.flags|=32),Oi}function ci(n,s,l){(n===me&&(ie===2||ie===9)||n.cancelPendingCommit!==null)&&(su(n,0),nr(n,Kt,Oi,!1)),Oc(n,l),((ne&2)===0||n!==me)&&(n===me&&((ne&2)===0&&(ul|=l),Me===4&&nr(n,Kt,Oi,!1)),vs(n))}function YE(n,s,l){if((ne&6)!==0)throw Error(i(327));var c=!l&&(s&124)===0&&(s&n.expiredLanes)===0||wi(n,s),m=c?UR(n,s):Ky(n,s,!0),y=c;do{if(m===0){tu&&!c&&nr(n,s,0,!1);break}else{if(l=n.current.alternate,y&&!HR(l)){m=Ky(n,s,!1),y=!1;continue}if(m===2){if(y=s,n.errorRecoveryDisabledLanes&y)var S=0;else S=n.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;t:{var R=n;m=ph;var O=R.current.memoizedState.isDehydrated;if(O&&(su(R,S).flags|=256),S=Ky(R,S,!1),S!==2){if(Hy&&!O){R.errorRecoveryDisabledLanes|=y,ul|=y,m=4;break t}y=Vn,Vn=m,y!==null&&(Vn===null?Vn=y:Vn.push.apply(Vn,y))}m=S}if(y=!1,m!==2)continue}}if(m===1){su(n,0),nr(n,s,0,!0);break}t:{switch(c=n,y=m,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:nr(c,s,Oi,!Za);break t;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(m=jy+300-Fe(),10<m)){if(nr(c,s,Oi,!Za),Je(c,0,!0)!==0)break t;c.timeoutHandle=E1(KE.bind(null,c,l,Vn,yp,Uy,s,Oi,ul,eu,Za,y,2,-0,0),m);break t}KE(c,l,Vn,yp,Uy,s,Oi,ul,eu,Za,y,0,-0,0)}}break}while(!0);vs(n)}function KE(n,s,l,c,m,y,S,R,O,j,$,nt,V,X){if(n.timeoutHandle=-1,nt=s.subtreeFlags,(nt&8192||(nt&16785408)===16785408)&&(Eh={stylesheets:null,count:0,unsuspend:Ak},UE(s),nt=Ek(),nt!==null)){n.cancelPendingCommit=nt(e1.bind(null,n,s,y,l,c,m,S,R,O,$,1,V,X)),nr(n,y,S,!j);return}e1(n,s,y,l,c,m,S,R,O)}function HR(n){for(var s=n;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],y=m.getSnapshot;m=m.value;try{if(!si(y(),m))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function nr(n,s,l,c){s&=~By,s&=~ul,n.suspendedLanes|=s,n.pingedLanes&=~s,c&&(n.warmLanes|=s),c=n.expirationTimes;for(var m=s;0<m;){var y=31-Et(m),S=1<<y;c[y]=-1,m&=~S}l!==0&&aA(n,l,s)}function bp(){return(ne&6)===0?(mh(0),!1):!0}function Xy(){if(qt!==null){if(ie===0)var n=qt.return;else n=qt,Qs=il=null,uy(n),Wo=null,rh=0,n=qt;for(;n!==null;)CE(n.alternate,n),n=n.return;qt=null}}function su(n,s){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,ik(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),Xy(),me=n,qt=l=Xs(n.current,null),Kt=s,ie=0,oi=null,Za=!1,tu=wi(n,s),Hy=!1,eu=Oi=By=ul=Ja=Me=0,Vn=ph=null,Uy=!1,(s&8)!==0&&(s|=s&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=s;0<c;){var m=31-Et(c),y=1<<m;s|=n[m],c&=~y}return ia=s,Bf(),l}function QE(n,s){Ht=null,H.H=ap,s===$c||s===Qf?(s=dS(),ie=3):s===uS?(s=dS(),ie=4):ie=s===fE?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,oi=s,qt===null&&(Me=1,cp(n,Ri(s,n.current)))}function WE(){var n=H.H;return H.H=ap,n===null?ap:n}function $E(){var n=H.A;return H.A=IR,n}function Yy(){Me=4,Za||(Kt&4194048)!==Kt&&Li.current!==null||(tu=!0),(Ja&134217727)===0&&(ul&134217727)===0||me===null||nr(me,Kt,Oi,!1)}function Ky(n,s,l){var c=ne;ne|=2;var m=WE(),y=$E();(me!==n||Kt!==s)&&(yp=null,su(n,s)),s=!1;var S=Me;t:do try{if(ie!==0&&qt!==null){var R=qt,O=oi;switch(ie){case 8:Xy(),S=6;break t;case 3:case 2:case 9:case 6:Li.current===null&&(s=!0);var j=ie;if(ie=0,oi=null,au(n,R,O,j),l&&tu){S=0;break t}break;default:j=ie,ie=0,oi=null,au(n,R,O,j)}}BR(),S=Me;break}catch($){QE(n,$)}while(!0);return s&&n.shellSuspendCounter++,Qs=il=null,ne=c,H.H=m,H.A=y,qt===null&&(me=null,Kt=0,Bf()),S}function BR(){for(;qt!==null;)ZE(qt)}function UR(n,s){var l=ne;ne|=2;var c=WE(),m=$E();me!==n||Kt!==s?(yp=null,mp=Fe()+500,su(n,s)):tu=wi(n,s);t:do try{if(ie!==0&&qt!==null){s=qt;var y=oi;e:switch(ie){case 1:ie=0,oi=null,au(n,s,y,1);break;case 2:case 9:if(cS(y)){ie=0,oi=null,JE(s);break}s=function(){ie!==2&&ie!==9||me!==n||(ie=7),vs(n)},y.then(s,s);break t;case 3:ie=7;break t;case 4:ie=5;break t;case 7:cS(y)?(ie=0,oi=null,JE(s)):(ie=0,oi=null,au(n,s,y,7));break;case 5:var S=null;switch(qt.tag){case 26:S=qt.memoizedState;case 5:case 27:var R=qt;if(!S||N1(S)){ie=0,oi=null;var O=R.sibling;if(O!==null)qt=O;else{var j=R.return;j!==null?(qt=j,vp(j)):qt=null}break e}}ie=0,oi=null,au(n,s,y,5);break;case 6:ie=0,oi=null,au(n,s,y,6);break;case 8:Xy(),Me=6;break t;default:throw Error(i(462))}}jR();break}catch($){QE(n,$)}while(!0);return Qs=il=null,H.H=c,H.A=m,ne=l,qt!==null?0:(me=null,Kt=0,Bf(),Me)}function jR(){for(;qt!==null&&!Oe();)ZE(qt)}function ZE(n){var s=wE(n.alternate,n,ia);n.memoizedProps=n.pendingProps,s===null?vp(n):qt=s}function JE(n){var s=n,l=s.alternate;switch(s.tag){case 15:case 0:s=vE(l,s,s.pendingProps,s.type,void 0,Kt);break;case 11:s=vE(l,s,s.pendingProps,s.type.render,s.ref,Kt);break;case 5:uy(s);default:CE(l,s),s=qt=tS(s,ia),s=wE(l,s,ia)}n.memoizedProps=n.pendingProps,s===null?vp(n):qt=s}function au(n,s,l,c){Qs=il=null,uy(s),Wo=null,rh=0;var m=s.return;try{if(DR(n,m,s,l,Kt)){Me=1,cp(n,Ri(l,n.current)),qt=null;return}}catch(y){if(m!==null)throw qt=m,y;Me=1,cp(n,Ri(l,n.current)),qt=null;return}s.flags&32768?(Zt||c===1?n=!0:tu||(Kt&536870912)!==0?n=!1:(Za=n=!0,(c===2||c===9||c===3||c===6)&&(c=Li.current,c!==null&&c.tag===13&&(c.flags|=16384))),t1(s,n)):vp(s)}function vp(n){var s=n;do{if((s.flags&32768)!==0){t1(s,Za);return}n=s.return;var l=OR(s.alternate,s,ia);if(l!==null){qt=l;return}if(s=s.sibling,s!==null){qt=s;return}qt=s=n}while(s!==null);Me===0&&(Me=5)}function t1(n,s){do{var l=NR(n.alternate,n);if(l!==null){l.flags&=32767,qt=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(n=n.sibling,n!==null)){qt=n;return}qt=n=l}while(n!==null);Me=6,qt=null}function e1(n,s,l,c,m,y,S,R,O){n.cancelPendingCommit=null;do Ap();while(dn!==0);if((ne&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=Fm,AC(n,l,y,S,R,O),n===me&&(qt=me=null,Kt=0),nu=s,er=n,iu=l,qy=y,Gy=m,VE=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,XR(Yi,function(){return r1(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=H.T,H.T=null,m=G.p,G.p=2,S=ne,ne|=4;try{PR(n,s,l)}finally{ne=S,G.p=m,H.T=c}}dn=1,n1(),i1(),s1()}}function n1(){if(dn===1){dn=0;var n=er,s=nu,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var c=G.p;G.p=2;var m=ne;ne|=4;try{FE(s,n);var y=rb,S=GA(n.containerInfo),R=y.focusedElem,O=y.selectionRange;if(S!==R&&R&&R.ownerDocument&&qA(R.ownerDocument.documentElement,R)){if(O!==null&&Om(R)){var j=O.start,$=O.end;if($===void 0&&($=j),"selectionStart"in R)R.selectionStart=j,R.selectionEnd=Math.min($,R.value.length);else{var nt=R.ownerDocument||document,V=nt&&nt.defaultView||window;if(V.getSelection){var X=V.getSelection(),Rt=R.textContent.length,wt=Math.min(O.start,Rt),ue=O.end===void 0?wt:Math.min(O.end,Rt);!X.extend&&wt>ue&&(S=ue,ue=wt,wt=S);var B=jA(R,wt),z=jA(R,ue);if(B&&z&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==z.node||X.focusOffset!==z.offset)){var U=nt.createRange();U.setStart(B.node,B.offset),X.removeAllRanges(),wt>ue?(X.addRange(U),X.extend(z.node,z.offset)):(U.setEnd(z.node,z.offset),X.addRange(U))}}}}for(nt=[],X=R;X=X.parentNode;)X.nodeType===1&&nt.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<nt.length;R++){var Z=nt[R];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Lp=!!ab,rb=ab=null}finally{ne=m,G.p=c,H.T=l}}n.current=s,dn=2}}function i1(){if(dn===2){dn=0;var n=er,s=nu,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var c=G.p;G.p=2;var m=ne;ne|=4;try{NE(n,s.alternate,s)}finally{ne=m,G.p=c,H.T=l}}dn=3}}function s1(){if(dn===4||dn===3){dn=0,_e();var n=er,s=nu,l=iu,c=VE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?dn=5:(dn=0,nu=er=null,a1(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(tr=null),dm(l),s=s.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(W,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=H.T,m=G.p,G.p=2,H.T=null;try{for(var y=n.onRecoverableError,S=0;S<c.length;S++){var R=c[S];y(R.value,{componentStack:R.stack})}}finally{H.T=s,G.p=m}}(iu&3)!==0&&Ap(),vs(n),m=n.pendingLanes,(l&4194090)!==0&&(m&42)!==0?n===Vy?gh++:(gh=0,Vy=n):gh=0,mh(0)}}function a1(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Qc(s)))}function Ap(n){return n1(),i1(),s1(),r1()}function r1(){if(dn!==5)return!1;var n=er,s=qy;qy=0;var l=dm(iu),c=H.T,m=G.p;try{G.p=32>l?32:l,H.T=null,l=Gy,Gy=null;var y=er,S=iu;if(dn=0,nu=er=null,iu=0,(ne&6)!==0)throw Error(i(331));var R=ne;if(ne|=4,qE(y.current),BE(y,y.current,S,l),ne=R,mh(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(W,y)}catch{}return!0}finally{G.p=m,H.T=c,a1(n,s)}}function l1(n,s,l){s=Ri(l,s),s=_y(n.stateNode,s,2),n=Va(n,s,2),n!==null&&(Oc(n,2),vs(n))}function fe(n,s,l){if(n.tag===3)l1(n,n,l);else for(;s!==null;){if(s.tag===3){l1(s,n,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(tr===null||!tr.has(c))){n=Ri(l,n),l=hE(2),c=Va(s,l,2),c!==null&&(dE(l,c,s,n),Oc(c,2),vs(c));break}}s=s.return}}function Qy(n,s,l){var c=n.pingCache;if(c===null){c=n.pingCache=new FR;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(l)||(Hy=!0,m.add(l),n=qR.bind(null,n,s,l),s.then(n,n))}function qR(n,s,l){var c=n.pingCache;c!==null&&c.delete(s),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,me===n&&(Kt&l)===l&&(Me===4||Me===3&&(Kt&62914560)===Kt&&300>Fe()-jy?(ne&2)===0&&su(n,0):By|=l,eu===Kt&&(eu=0)),vs(n)}function o1(n,s){s===0&&(s=sA()),n=Bo(n,s),n!==null&&(Oc(n,s),vs(n))}function GR(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),o1(n,l)}function VR(n,s){var l=0;switch(n.tag){case 13:var c=n.stateNode,m=n.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),o1(n,l)}function XR(n,s){return Wt(n,s)}var Sp=null,ru=null,Wy=!1,Ep=!1,$y=!1,cl=0;function vs(n){n!==ru&&n.next===null&&(ru===null?Sp=ru=n:ru=ru.next=n),Ep=!0,Wy||(Wy=!0,KR())}function mh(n,s){if(!$y&&Ep){$y=!0;do for(var l=!1,c=Sp;c!==null;){if(n!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var S=c.suspendedLanes,R=c.pingedLanes;y=(1<<31-Et(42|n)+1)-1,y&=m&~(S&~R),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,d1(c,y))}else y=Kt,y=Je(c,c===me?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||wi(c,y)||(l=!0,d1(c,y));c=c.next}while(l);$y=!1}}function YR(){u1()}function u1(){Ep=Wy=!1;var n=0;cl!==0&&(nk()&&(n=cl),cl=0);for(var s=Fe(),l=null,c=Sp;c!==null;){var m=c.next,y=c1(c,s);y===0?(c.next=null,l===null?Sp=m:l.next=m,m===null&&(ru=l)):(l=c,(n!==0||(y&3)!==0)&&(Ep=!0)),c=m}mh(n)}function c1(n,s){for(var l=n.suspendedLanes,c=n.pingedLanes,m=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var S=31-Et(y),R=1<<S,O=m[S];O===-1?((R&l)===0||(R&c)!==0)&&(m[S]=Ki(R,s)):O<=s&&(n.expiredLanes|=R),y&=~R}if(s=me,l=Kt,l=Je(n,n===s?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,l===0||n===s&&(ie===2||ie===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&ge(c),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||wi(n,l)){if(s=l&-l,s===n.callbackPriority)return s;switch(c!==null&&ge(c),dm(l)){case 2:case 8:l=Yr;break;case 32:l=Yi;break;case 268435456:l=wo;break;default:l=Yi}return c=h1.bind(null,n),l=Wt(l,c),n.callbackPriority=s,n.callbackNode=l,s}return c!==null&&c!==null&&ge(c),n.callbackPriority=2,n.callbackNode=null,2}function h1(n,s){if(dn!==0&&dn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Ap()&&n.callbackNode!==l)return null;var c=Kt;return c=Je(n,n===me?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(YE(n,c,s),c1(n,Fe()),n.callbackNode!=null&&n.callbackNode===l?h1.bind(null,n):null)}function d1(n,s){if(Ap())return null;YE(n,s,!0)}function KR(){sk(function(){(ne&6)!==0?Wt(Xr,YR):u1()})}function Zy(){return cl===0&&(cl=iA()),cl}function f1(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Of(""+n)}function p1(n,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,n.id&&l.setAttribute("form",n.id),s.parentNode.insertBefore(l,s),n=new FormData(n),l.parentNode.removeChild(l),n}function QR(n,s,l,c,m){if(s==="submit"&&l&&l.stateNode===m){var y=f1((m[Un]||null).action),S=c.submitter;S&&(s=(s=S[Un]||null)?f1(s.formAction):S.getAttribute("formAction"),s!==null&&(y=s,S=null));var R=new If("action","action",null,c,m);n.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(cl!==0){var O=S?p1(m,S):new FormData(m);by(l,{pending:!0,data:O,method:m.method,action:y},null,O)}}else typeof y=="function"&&(R.preventDefault(),O=S?p1(m,S):new FormData(m),by(l,{pending:!0,data:O,method:m.method,action:y},y,O))},currentTarget:m}]})}}for(var Jy=0;Jy<Im.length;Jy++){var tb=Im[Jy],WR=tb.toLowerCase(),$R=tb[0].toUpperCase()+tb.slice(1);Qi(WR,"on"+$R)}Qi(YA,"onAnimationEnd"),Qi(KA,"onAnimationIteration"),Qi(QA,"onAnimationStart"),Qi("dblclick","onDoubleClick"),Qi("focusin","onFocus"),Qi("focusout","onBlur"),Qi(pR,"onTransitionRun"),Qi(gR,"onTransitionStart"),Qi(mR,"onTransitionCancel"),Qi(WA,"onTransitionEnd"),Mo("onMouseEnter",["mouseout","mouseover"]),Mo("onMouseLeave",["mouseout","mouseover"]),Mo("onPointerEnter",["pointerout","pointerover"]),Mo("onPointerLeave",["pointerout","pointerover"]),Kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yh));function g1(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var c=n[l],m=c.event;c=c.listeners;t:{var y=void 0;if(s)for(var S=c.length-1;0<=S;S--){var R=c[S],O=R.instance,j=R.currentTarget;if(R=R.listener,O!==y&&m.isPropagationStopped())break t;y=R,m.currentTarget=j;try{y(m)}catch($){up($)}m.currentTarget=null,y=O}else for(S=0;S<c.length;S++){if(R=c[S],O=R.instance,j=R.currentTarget,R=R.listener,O!==y&&m.isPropagationStopped())break t;y=R,m.currentTarget=j;try{y(m)}catch($){up($)}m.currentTarget=null,y=O}}}}function Gt(n,s){var l=s[fm];l===void 0&&(l=s[fm]=new Set);var c=n+"__bubble";l.has(c)||(m1(s,n,2,!1),l.add(c))}function eb(n,s,l){var c=0;s&&(c|=4),m1(l,n,c,s)}var _p="_reactListening"+Math.random().toString(36).slice(2);function nb(n){if(!n[_p]){n[_p]=!0,uA.forEach(function(l){l!=="selectionchange"&&(ZR.has(l)||eb(l,!1,n),eb(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[_p]||(s[_p]=!0,eb("selectionchange",!1,s))}}function m1(n,s,l,c){switch(B1(s)){case 2:var m=wk;break;case 8:m=Tk;break;default:m=mb}l=m.bind(null,s,l,n),m=void 0,!xm||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?n.addEventListener(s,l,{capture:!0,passive:m}):n.addEventListener(s,l,!0):m!==void 0?n.addEventListener(s,l,{passive:m}):n.addEventListener(s,l,!1)}function ib(n,s,l,c,m){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)t:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var R=c.stateNode.containerInfo;if(R===m)break;if(S===4)for(S=c.return;S!==null;){var O=S.tag;if((O===3||O===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;R!==null;){if(S=Co(R),S===null)return;if(O=S.tag,O===5||O===6||O===26||O===27){c=y=S;continue t}R=R.parentNode}}c=c.return}_A(function(){var j=y,$=Em(l),nt=[];t:{var V=$A.get(n);if(V!==void 0){var X=If,Rt=n;switch(n){case"keypress":if(Pf(l)===0)break t;case"keydown":case"keyup":X=XC;break;case"focusin":Rt="focus",X=Rm;break;case"focusout":Rt="blur",X=Rm;break;case"beforeblur":case"afterblur":X=Rm;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=TA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=NC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=QC;break;case YA:case KA:case QA:X=IC;break;case WA:X=$C;break;case"scroll":case"scrollend":X=LC;break;case"wheel":X=JC;break;case"copy":case"cut":case"paste":X=HC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=RA;break;case"toggle":case"beforetoggle":X=eR}var wt=(s&4)!==0,ue=!wt&&(n==="scroll"||n==="scrollend"),B=wt?V!==null?V+"Capture":null:V;wt=[];for(var z=j,U;z!==null;){var Z=z;if(U=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||U===null||B===null||(Z=zc(z,B),Z!=null&&wt.push(bh(z,Z,U))),ue)break;z=z.return}0<wt.length&&(V=new X(V,Rt,null,l,$),nt.push({event:V,listeners:wt}))}}if((s&7)===0){t:{if(V=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",V&&l!==Sm&&(Rt=l.relatedTarget||l.fromElement)&&(Co(Rt)||Rt[To]))break t;if((X||V)&&(V=$.window===$?$:(V=$.ownerDocument)?V.defaultView||V.parentWindow:window,X?(Rt=l.relatedTarget||l.toElement,X=j,Rt=Rt?Co(Rt):null,Rt!==null&&(ue=o(Rt),wt=Rt.tag,Rt!==ue||wt!==5&&wt!==27&&wt!==6)&&(Rt=null)):(X=null,Rt=j),X!==Rt)){if(wt=TA,Z="onMouseLeave",B="onMouseEnter",z="mouse",(n==="pointerout"||n==="pointerover")&&(wt=RA,Z="onPointerLeave",B="onPointerEnter",z="pointer"),ue=X==null?V:Pc(X),U=Rt==null?V:Pc(Rt),V=new wt(Z,z+"leave",X,l,$),V.target=ue,V.relatedTarget=U,Z=null,Co($)===j&&(wt=new wt(B,z+"enter",Rt,l,$),wt.target=U,wt.relatedTarget=ue,Z=wt),ue=Z,X&&Rt)e:{for(wt=X,B=Rt,z=0,U=wt;U;U=lu(U))z++;for(U=0,Z=B;Z;Z=lu(Z))U++;for(;0<z-U;)wt=lu(wt),z--;for(;0<U-z;)B=lu(B),U--;for(;z--;){if(wt===B||B!==null&&wt===B.alternate)break e;wt=lu(wt),B=lu(B)}wt=null}else wt=null;X!==null&&y1(nt,V,X,wt,!1),Rt!==null&&ue!==null&&y1(nt,ue,Rt,wt,!0)}}t:{if(V=j?Pc(j):window,X=V.nodeName&&V.nodeName.toLowerCase(),X==="select"||X==="input"&&V.type==="file")var yt=zA;else if(NA(V))if(IA)yt=hR;else{yt=uR;var Ut=oR}else X=V.nodeName,!X||X.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?j&&Am(j.elementType)&&(yt=zA):yt=cR;if(yt&&(yt=yt(n,j))){PA(nt,yt,l,$);break t}Ut&&Ut(n,V,j),n==="focusout"&&j&&V.type==="number"&&j.memoizedProps.value!=null&&vm(V,"number",V.value)}switch(Ut=j?Pc(j):window,n){case"focusin":(NA(Ut)||Ut.contentEditable==="true")&&(Io=Ut,Nm=j,Gc=null);break;case"focusout":Gc=Nm=Io=null;break;case"mousedown":Pm=!0;break;case"contextmenu":case"mouseup":case"dragend":Pm=!1,VA(nt,l,$);break;case"selectionchange":if(fR)break;case"keydown":case"keyup":VA(nt,l,$)}var At;if(Mm)t:{switch(n){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else zo?LA(n,l)&&(Ct="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Ct="onCompositionStart");Ct&&(kA&&l.locale!=="ko"&&(zo||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&zo&&(At=xA()):(Ua=$,wm="value"in Ua?Ua.value:Ua.textContent,zo=!0)),Ut=xp(j,Ct),0<Ut.length&&(Ct=new CA(Ct,n,null,l,$),nt.push({event:Ct,listeners:Ut}),At?Ct.data=At:(At=OA(l),At!==null&&(Ct.data=At)))),(At=iR?sR(n,l):aR(n,l))&&(Ct=xp(j,"onBeforeInput"),0<Ct.length&&(Ut=new CA("onBeforeInput","beforeinput",null,l,$),nt.push({event:Ut,listeners:Ct}),Ut.data=At)),QR(nt,n,j,l,$)}g1(nt,s)})}function bh(n,s,l){return{instance:n,listener:s,currentTarget:l}}function xp(n,s){for(var l=s+"Capture",c=[];n!==null;){var m=n,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=zc(n,l),m!=null&&c.unshift(bh(n,m,y)),m=zc(n,s),m!=null&&c.push(bh(n,m,y))),n.tag===3)return c;n=n.return}return[]}function lu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function y1(n,s,l,c,m){for(var y=s._reactName,S=[];l!==null&&l!==c;){var R=l,O=R.alternate,j=R.stateNode;if(R=R.tag,O!==null&&O===c)break;R!==5&&R!==26&&R!==27||j===null||(O=j,m?(j=zc(l,y),j!=null&&S.unshift(bh(l,j,O))):m||(j=zc(l,y),j!=null&&S.push(bh(l,j,O)))),l=l.return}S.length!==0&&n.push({event:s,listeners:S})}var JR=/\r\n?/g,tk=/\u0000|\uFFFD/g;function b1(n){return(typeof n=="string"?n:""+n).replace(JR,`
`).replace(tk,"")}function v1(n,s){return s=b1(s),b1(n)===s}function wp(){}function oe(n,s,l,c,m,y){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Oo(n,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Oo(n,""+c);break;case"className":Mf(n,"class",c);break;case"tabIndex":Mf(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Mf(n,l,c);break;case"style":SA(n,c,y);break;case"data":if(s!=="object"){Mf(n,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){n.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(l);break}c=Of(""+c),n.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(s!=="input"&&oe(n,s,"name",m.name,m,null),oe(n,s,"formEncType",m.formEncType,m,null),oe(n,s,"formMethod",m.formMethod,m,null),oe(n,s,"formTarget",m.formTarget,m,null)):(oe(n,s,"encType",m.encType,m,null),oe(n,s,"method",m.method,m,null),oe(n,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(l);break}c=Of(""+c),n.setAttribute(l,c);break;case"onClick":c!=null&&(n.onclick=wp);break;case"onScroll":c!=null&&Gt("scroll",n);break;case"onScrollEnd":c!=null&&Gt("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}l=Of(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,""+c):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":c===!0?n.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,c):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(l,c):n.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(l):n.setAttribute(l,c);break;case"popover":Gt("beforetoggle",n),Gt("toggle",n),kf(n,"popover",c);break;case"xlinkActuate":Gs(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Gs(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Gs(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Gs(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Gs(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Gs(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Gs(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Gs(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Gs(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":kf(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=MC.get(l)||l,kf(n,l,c))}}function sb(n,s,l,c,m,y){switch(l){case"style":SA(n,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof c=="string"?Oo(n,c):(typeof c=="number"||typeof c=="bigint")&&Oo(n,""+c);break;case"onScroll":c!=null&&Gt("scroll",n);break;case"onScrollEnd":c!=null&&Gt("scrollend",n);break;case"onClick":c!=null&&(n.onclick=wp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cA.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),s=l.slice(2,m?l.length-7:void 0),y=n[Un]||null,y=y!=null?y[l]:null,typeof y=="function"&&n.removeEventListener(s,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(s,c,m);break t}l in n?n[l]=c:c===!0?n.setAttribute(l,""):kf(n,l,c)}}}function fn(n,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gt("error",n),Gt("load",n);var c=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var S=l[y];if(S!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:oe(n,s,y,S,l,null)}}m&&oe(n,s,"srcSet",l.srcSet,l,null),c&&oe(n,s,"src",l.src,l,null);return;case"input":Gt("invalid",n);var R=y=S=m=null,O=null,j=null;for(c in l)if(l.hasOwnProperty(c)){var $=l[c];if($!=null)switch(c){case"name":m=$;break;case"type":S=$;break;case"checked":O=$;break;case"defaultChecked":j=$;break;case"value":y=$;break;case"defaultValue":R=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,s));break;default:oe(n,s,c,$,l,null)}}yA(n,y,R,O,j,S,m,!1),Df(n);return;case"select":Gt("invalid",n),c=S=y=null;for(m in l)if(l.hasOwnProperty(m)&&(R=l[m],R!=null))switch(m){case"value":y=R;break;case"defaultValue":S=R;break;case"multiple":c=R;default:oe(n,s,m,R,l,null)}s=y,l=S,n.multiple=!!c,s!=null?Lo(n,!!c,s,!1):l!=null&&Lo(n,!!c,l,!0);return;case"textarea":Gt("invalid",n),y=m=c=null;for(S in l)if(l.hasOwnProperty(S)&&(R=l[S],R!=null))switch(S){case"value":c=R;break;case"defaultValue":m=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:oe(n,s,S,R,l,null)}vA(n,c,m,y),Df(n);return;case"option":for(O in l)if(l.hasOwnProperty(O)&&(c=l[O],c!=null))switch(O){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:oe(n,s,O,c,l,null)}return;case"dialog":Gt("beforetoggle",n),Gt("toggle",n),Gt("cancel",n),Gt("close",n);break;case"iframe":case"object":Gt("load",n);break;case"video":case"audio":for(c=0;c<yh.length;c++)Gt(yh[c],n);break;case"image":Gt("error",n),Gt("load",n);break;case"details":Gt("toggle",n);break;case"embed":case"source":case"link":Gt("error",n),Gt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in l)if(l.hasOwnProperty(j)&&(c=l[j],c!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:oe(n,s,j,c,l,null)}return;default:if(Am(s)){for($ in l)l.hasOwnProperty($)&&(c=l[$],c!==void 0&&sb(n,s,$,c,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(c=l[R],c!=null&&oe(n,s,R,c,l,null))}function ek(n,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,S=null,R=null,O=null,j=null,$=null;for(X in l){var nt=l[X];if(l.hasOwnProperty(X)&&nt!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":O=nt;default:c.hasOwnProperty(X)||oe(n,s,X,null,c,nt)}}for(var V in c){var X=c[V];if(nt=l[V],c.hasOwnProperty(V)&&(X!=null||nt!=null))switch(V){case"type":y=X;break;case"name":m=X;break;case"checked":j=X;break;case"defaultChecked":$=X;break;case"value":S=X;break;case"defaultValue":R=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:X!==nt&&oe(n,s,V,X,c,nt)}}bm(n,S,R,O,j,$,y,m);return;case"select":X=S=R=V=null;for(y in l)if(O=l[y],l.hasOwnProperty(y)&&O!=null)switch(y){case"value":break;case"multiple":X=O;default:c.hasOwnProperty(y)||oe(n,s,y,null,c,O)}for(m in c)if(y=c[m],O=l[m],c.hasOwnProperty(m)&&(y!=null||O!=null))switch(m){case"value":V=y;break;case"defaultValue":R=y;break;case"multiple":S=y;default:y!==O&&oe(n,s,m,y,c,O)}s=R,l=S,c=X,V!=null?Lo(n,!!l,V,!1):!!c!=!!l&&(s!=null?Lo(n,!!l,s,!0):Lo(n,!!l,l?[]:"",!1));return;case"textarea":X=V=null;for(R in l)if(m=l[R],l.hasOwnProperty(R)&&m!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:oe(n,s,R,null,c,m)}for(S in c)if(m=c[S],y=l[S],c.hasOwnProperty(S)&&(m!=null||y!=null))switch(S){case"value":V=m;break;case"defaultValue":X=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&oe(n,s,S,m,c,y)}bA(n,V,X);return;case"option":for(var Rt in l)if(V=l[Rt],l.hasOwnProperty(Rt)&&V!=null&&!c.hasOwnProperty(Rt))switch(Rt){case"selected":n.selected=!1;break;default:oe(n,s,Rt,null,c,V)}for(O in c)if(V=c[O],X=l[O],c.hasOwnProperty(O)&&V!==X&&(V!=null||X!=null))switch(O){case"selected":n.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:oe(n,s,O,V,c,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in l)V=l[wt],l.hasOwnProperty(wt)&&V!=null&&!c.hasOwnProperty(wt)&&oe(n,s,wt,null,c,V);for(j in c)if(V=c[j],X=l[j],c.hasOwnProperty(j)&&V!==X&&(V!=null||X!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,s));break;default:oe(n,s,j,V,c,X)}return;default:if(Am(s)){for(var ue in l)V=l[ue],l.hasOwnProperty(ue)&&V!==void 0&&!c.hasOwnProperty(ue)&&sb(n,s,ue,void 0,c,V);for($ in c)V=c[$],X=l[$],!c.hasOwnProperty($)||V===X||V===void 0&&X===void 0||sb(n,s,$,V,c,X);return}}for(var B in l)V=l[B],l.hasOwnProperty(B)&&V!=null&&!c.hasOwnProperty(B)&&oe(n,s,B,null,c,V);for(nt in c)V=c[nt],X=l[nt],!c.hasOwnProperty(nt)||V===X||V==null&&X==null||oe(n,s,nt,V,c,X)}var ab=null,rb=null;function Tp(n){return n.nodeType===9?n:n.ownerDocument}function A1(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S1(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function lb(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ob=null;function nk(){var n=window.event;return n&&n.type==="popstate"?n===ob?!1:(ob=n,!0):(ob=null,!1)}var E1=typeof setTimeout=="function"?setTimeout:void 0,ik=typeof clearTimeout=="function"?clearTimeout:void 0,_1=typeof Promise=="function"?Promise:void 0,sk=typeof queueMicrotask=="function"?queueMicrotask:typeof _1<"u"?function(n){return _1.resolve(null).then(n).catch(ak)}:E1;function ak(n){setTimeout(function(){throw n})}function ir(n){return n==="head"}function x1(n,s){var l=s,c=0,m=0;do{var y=l.nextSibling;if(n.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var S=n.ownerDocument;if(l&1&&vh(S.documentElement),l&2&&vh(S.body),l&4)for(l=S.head,vh(l),S=l.firstChild;S;){var R=S.nextSibling,O=S.nodeName;S[Nc]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=R}}if(m===0){n.removeChild(y),Ch(s);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);Ch(s)}function ub(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ub(l),pm(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function rk(n,s,l,c){for(;n.nodeType===1;){var m=l;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Nc])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=$i(n.nextSibling),n===null)break}return null}function lk(n,s,l){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=$i(n.nextSibling),n===null))return null;return n}function cb(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function ok(n,s){var l=n.ownerDocument;if(n.data!=="$?"||l.readyState==="complete")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function $i(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var hb=null;function w1(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return n;s--}else l==="/$"&&s++}n=n.previousSibling}return null}function T1(n,s,l){switch(s=Tp(l),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function vh(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);pm(n)}var Ni=new Map,C1=new Set;function Cp(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var sa=G.d;G.d={f:uk,r:ck,D:hk,C:dk,L:fk,m:pk,X:mk,S:gk,M:yk};function uk(){var n=sa.f(),s=bp();return n||s}function ck(n){var s=Ro(n);s!==null&&s.tag===5&&s.type==="form"?YS(s):sa.r(n)}var ou=typeof document>"u"?null:document;function R1(n,s,l){var c=ou;if(c&&typeof s=="string"&&s){var m=Ci(s);m='link[rel="'+n+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),C1.has(m)||(C1.add(m),n={rel:n,crossOrigin:l,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),fn(s,"link",n),tn(s),c.head.appendChild(s)))}}function hk(n){sa.D(n),R1("dns-prefetch",n,null)}function dk(n,s){sa.C(n,s),R1("preconnect",n,s)}function fk(n,s,l){sa.L(n,s,l);var c=ou;if(c&&n&&s){var m='link[rel="preload"][as="'+Ci(s)+'"]';s==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Ci(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Ci(l.imageSizes)+'"]')):m+='[href="'+Ci(n)+'"]';var y=m;switch(s){case"style":y=uu(n);break;case"script":y=cu(n)}Ni.has(y)||(n=g({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:n,as:s},l),Ni.set(y,n),c.querySelector(m)!==null||s==="style"&&c.querySelector(Ah(y))||s==="script"&&c.querySelector(Sh(y))||(s=c.createElement("link"),fn(s,"link",n),tn(s),c.head.appendChild(s)))}}function pk(n,s){sa.m(n,s);var l=ou;if(l&&n){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Ci(c)+'"][href="'+Ci(n)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=cu(n)}if(!Ni.has(y)&&(n=g({rel:"modulepreload",href:n},s),Ni.set(y,n),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Sh(y)))return}c=l.createElement("link"),fn(c,"link",n),tn(c),l.head.appendChild(c)}}}function gk(n,s,l){sa.S(n,s,l);var c=ou;if(c&&n){var m=ko(c).hoistableStyles,y=uu(n);s=s||"default";var S=m.get(y);if(!S){var R={loading:0,preload:null};if(S=c.querySelector(Ah(y)))R.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":s},l),(l=Ni.get(y))&&db(n,l);var O=S=c.createElement("link");tn(O),fn(O,"link",n),O._p=new Promise(function(j,$){O.onload=j,O.onerror=$}),O.addEventListener("load",function(){R.loading|=1}),O.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Rp(S,s,c)}S={type:"stylesheet",instance:S,count:1,state:R},m.set(y,S)}}}function mk(n,s){sa.X(n,s);var l=ou;if(l&&n){var c=ko(l).hoistableScripts,m=cu(n),y=c.get(m);y||(y=l.querySelector(Sh(m)),y||(n=g({src:n,async:!0},s),(s=Ni.get(m))&&fb(n,s),y=l.createElement("script"),tn(y),fn(y,"link",n),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function yk(n,s){sa.M(n,s);var l=ou;if(l&&n){var c=ko(l).hoistableScripts,m=cu(n),y=c.get(m);y||(y=l.querySelector(Sh(m)),y||(n=g({src:n,async:!0,type:"module"},s),(s=Ni.get(m))&&fb(n,s),y=l.createElement("script"),tn(y),fn(y,"link",n),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function k1(n,s,l,c){var m=(m=ht.current)?Cp(m):null;if(!m)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=uu(l.href),l=ko(m).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=uu(l.href);var y=ko(m).hoistableStyles,S=y.get(n);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,S),(y=m.querySelector(Ah(n)))&&!y._p&&(S.instance=y,S.state.loading=5),Ni.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ni.set(n,l),y||bk(m,n,l,S.state))),s&&c===null)throw Error(i(528,""));return S}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=cu(l),l=ko(m).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function uu(n){return'href="'+Ci(n)+'"'}function Ah(n){return'link[rel="stylesheet"]['+n+"]"}function M1(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function bk(n,s,l,c){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=n.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),fn(s,"link",l),tn(s),n.head.appendChild(s))}function cu(n){return'[src="'+Ci(n)+'"]'}function Sh(n){return"script[async]"+n}function D1(n,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=n.querySelector('style[data-href~="'+Ci(l.href)+'"]');if(c)return s.instance=c,tn(c),c;var m=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),tn(c),fn(c,"style",m),Rp(c,l.precedence,n),s.instance=c;case"stylesheet":m=uu(l.href);var y=n.querySelector(Ah(m));if(y)return s.state.loading|=4,s.instance=y,tn(y),y;c=M1(l),(m=Ni.get(m))&&db(c,m),y=(n.ownerDocument||n).createElement("link"),tn(y);var S=y;return S._p=new Promise(function(R,O){S.onload=R,S.onerror=O}),fn(y,"link",c),s.state.loading|=4,Rp(y,l.precedence,n),s.instance=y;case"script":return y=cu(l.src),(m=n.querySelector(Sh(y)))?(s.instance=m,tn(m),m):(c=l,(m=Ni.get(y))&&(c=g({},l),fb(c,m)),n=n.ownerDocument||n,m=n.createElement("script"),tn(m),fn(m,"link",c),n.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Rp(c,l.precedence,n));return s.instance}function Rp(n,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,S=0;S<c.length;S++){var R=c[S];if(R.dataset.precedence===s)y=R;else if(y!==m)break}y?y.parentNode.insertBefore(n,y.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(n,s.firstChild))}function db(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function fb(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var kp=null;function L1(n,s,l){if(kp===null){var c=new Map,m=kp=new Map;m.set(l,c)}else m=kp,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(n))return c;for(c.set(n,null),l=l.getElementsByTagName(n),m=0;m<l.length;m++){var y=l[m];if(!(y[Nc]||y[vn]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(s)||"";S=n+S;var R=c.get(S);R?R.push(y):c.set(S,[y])}}return c}function O1(n,s,l){n=n.ownerDocument||n,n.head.insertBefore(l,s==="title"?n.querySelector("head > title"):null)}function vk(n,s,l){if(l===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function N1(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Eh=null;function Ak(){}function Sk(n,s,l){if(Eh===null)throw Error(i(475));var c=Eh;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=uu(l.href),y=n.querySelector(Ah(m));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=Mp.bind(c),n.then(c,c)),s.state.loading|=4,s.instance=y,tn(y);return}y=n.ownerDocument||n,l=M1(l),(m=Ni.get(m))&&db(l,m),y=y.createElement("link"),tn(y);var S=y;S._p=new Promise(function(R,O){S.onload=R,S.onerror=O}),fn(y,"link",l),s.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Mp.bind(c),n.addEventListener("load",s),n.addEventListener("error",s))}}function Ek(){if(Eh===null)throw Error(i(475));var n=Eh;return n.stylesheets&&n.count===0&&pb(n,n.stylesheets),0<n.count?function(s){var l=setTimeout(function(){if(n.stylesheets&&pb(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(l)}}:null}function Mp(){if(this.count--,this.count===0){if(this.stylesheets)pb(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Dp=null;function pb(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Dp=new Map,s.forEach(_k,n),Dp=null,Mp.call(n))}function _k(n,s){if(!(s.state.loading&4)){var l=Dp.get(n);if(l)var c=l.get(null);else{l=new Map,Dp.set(n,l);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var S=m[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),c=S)}c&&l.set(null,c)}m=s.instance,S=m.getAttribute("data-precedence"),y=l.get(S)||c,y===c&&l.set(null,m),l.set(S,m),this.count++,c=Mp.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),s.state.loading|=4}}var _h={$$typeof:N,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function xk(n,s,l,c,m,y,S,R){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cm(0),this.hiddenUpdates=cm(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function P1(n,s,l,c,m,y,S,R,O,j,$,nt){return n=new xk(n,s,l,S,R,O,j,nt),s=1,y===!0&&(s|=24),y=ai(3,null,null,s),n.current=y,y.stateNode=n,s=Qm(),s.refCount++,n.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:s},Jm(y),n}function z1(n){return n?(n=Uo,n):Uo}function I1(n,s,l,c,m,y){m=z1(m),c.context===null?c.context=m:c.pendingContext=m,c=Ga(s),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=Va(n,c,s),l!==null&&(ci(l,n,s),Jc(l,n,s))}function F1(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function gb(n,s){F1(n,s),(n=n.alternate)&&F1(n,s)}function H1(n){if(n.tag===13){var s=Bo(n,67108864);s!==null&&ci(s,n,67108864),gb(n,67108864)}}var Lp=!0;function wk(n,s,l,c){var m=H.T;H.T=null;var y=G.p;try{G.p=2,mb(n,s,l,c)}finally{G.p=y,H.T=m}}function Tk(n,s,l,c){var m=H.T;H.T=null;var y=G.p;try{G.p=8,mb(n,s,l,c)}finally{G.p=y,H.T=m}}function mb(n,s,l,c){if(Lp){var m=yb(c);if(m===null)ib(n,s,c,Op,l),U1(n,c);else if(Rk(m,n,s,l,c))c.stopPropagation();else if(U1(n,c),s&4&&-1<Ck.indexOf(n)){for(;m!==null;){var y=Ro(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=ii(y.pendingLanes);if(S!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;S;){var O=1<<31-Et(S);R.entanglements[1]|=O,S&=~O}vs(y),(ne&6)===0&&(mp=Fe()+500,mh(0))}}break;case 13:R=Bo(y,2),R!==null&&ci(R,y,2),bp(),gb(y,2)}if(y=yb(c),y===null&&ib(n,s,c,Op,l),y===m)break;m=y}m!==null&&c.stopPropagation()}else ib(n,s,c,null,l)}}function yb(n){return n=Em(n),bb(n)}var Op=null;function bb(n){if(Op=null,n=Co(n),n!==null){var s=o(n);if(s===null)n=null;else{var l=s.tag;if(l===13){if(n=u(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Op=n,null}function B1(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(js()){case Xr:return 2;case Yr:return 8;case Yi:case Mc:return 32;case wo:return 268435456;default:return 32}default:return 32}}var vb=!1,sr=null,ar=null,rr=null,xh=new Map,wh=new Map,lr=[],Ck="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U1(n,s){switch(n){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":xh.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":wh.delete(s.pointerId)}}function Th(n,s,l,c,m,y){return n===null||n.nativeEvent!==y?(n={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},s!==null&&(s=Ro(s),s!==null&&H1(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),n)}function Rk(n,s,l,c,m){switch(s){case"focusin":return sr=Th(sr,n,s,l,c,m),!0;case"dragenter":return ar=Th(ar,n,s,l,c,m),!0;case"mouseover":return rr=Th(rr,n,s,l,c,m),!0;case"pointerover":var y=m.pointerId;return xh.set(y,Th(xh.get(y)||null,n,s,l,c,m)),!0;case"gotpointercapture":return y=m.pointerId,wh.set(y,Th(wh.get(y)||null,n,s,l,c,m)),!0}return!1}function j1(n){var s=Co(n.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){n.blockedOn=s,SC(n.priority,function(){if(l.tag===13){var c=ui();c=hm(c);var m=Bo(l,c);m!==null&&ci(m,l,c),gb(l,c)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Np(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=yb(n.nativeEvent);if(l===null){l=n.nativeEvent;var c=new l.constructor(l.type,l);Sm=c,l.target.dispatchEvent(c),Sm=null}else return s=Ro(l),s!==null&&H1(s),n.blockedOn=l,!1;s.shift()}return!0}function q1(n,s,l){Np(n)&&l.delete(s)}function kk(){vb=!1,sr!==null&&Np(sr)&&(sr=null),ar!==null&&Np(ar)&&(ar=null),rr!==null&&Np(rr)&&(rr=null),xh.forEach(q1),wh.forEach(q1)}function Pp(n,s){n.blockedOn===s&&(n.blockedOn=null,vb||(vb=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,kk)))}var zp=null;function G1(n){zp!==n&&(zp=n,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){zp===n&&(zp=null);for(var s=0;s<n.length;s+=3){var l=n[s],c=n[s+1],m=n[s+2];if(typeof c!="function"){if(bb(c||l)===null)continue;break}var y=Ro(l);y!==null&&(n.splice(s,3),s-=3,by(y,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function Ch(n){function s(O){return Pp(O,n)}sr!==null&&Pp(sr,n),ar!==null&&Pp(ar,n),rr!==null&&Pp(rr,n),xh.forEach(s),wh.forEach(s);for(var l=0;l<lr.length;l++){var c=lr[l];c.blockedOn===n&&(c.blockedOn=null)}for(;0<lr.length&&(l=lr[0],l.blockedOn===null);)j1(l),l.blockedOn===null&&lr.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],y=l[c+1],S=m[Un]||null;if(typeof y=="function")S||G1(l);else if(S){var R=null;if(y&&y.hasAttribute("formAction")){if(m=y,S=y[Un]||null)R=S.formAction;else if(bb(m)!==null)continue}else R=S.action;typeof R=="function"?l[c+1]=R:(l.splice(c,3),c-=3),G1(l)}}}function Ab(n){this._internalRoot=n}Ip.prototype.render=Ab.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,c=ui();I1(l,c,n,s,null,null)},Ip.prototype.unmount=Ab.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;I1(n.current,2,null,n,null,null),bp(),s[To]=null}};function Ip(n){this._internalRoot=n}Ip.prototype.unstable_scheduleHydration=function(n){if(n){var s=lA();n={blockedOn:null,target:n,priority:s};for(var l=0;l<lr.length&&s!==0&&s<lr[l].priority;l++);lr.splice(l,0,n),l===0&&j1(n)}};var V1=t.version;if(V1!=="19.1.0")throw Error(i(527,V1,"19.1.0"));G.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=f(s),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var Mk={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fp.isDisabled&&Fp.supportsFiber)try{W=Fp.inject(Mk),lt=Fp}catch{}}return kh.createRoot=function(n,s){if(!r(n))throw Error(i(299));var l=!1,c="",m=lE,y=oE,S=uE,R=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks)),s=P1(n,1,!1,null,null,l,c,m,y,S,R,null),n[To]=s.current,nb(n),new Ab(s)},kh.hydrateRoot=function(n,s,l){if(!r(n))throw Error(i(299));var c=!1,m="",y=lE,S=oE,R=uE,O=null,j=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(O=l.unstable_transitionCallbacks),l.formState!==void 0&&(j=l.formState)),s=P1(n,1,!0,s,l??null,c,m,y,S,R,O,j),s.context=z1(null),l=s.current,c=ui(),c=hm(c),m=Ga(c),m.callback=null,Va(l,m,c),l=c,s.current.lanes=l,Oc(s,l),vs(s),n[To]=s.current,nb(n),new Ip(s)},kh.version="19.1.0",kh}var n_;function jk(){if(n_)return xb.exports;n_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),xb.exports=Uk(),xb.exports}var qk=jk();const Gk="/ollama-rag-book-assistant-ui/assets/ollama_book-D-sYN3gp.png",hu=[{id:0,text:"",answer:"",references:[]},{id:1,text:"What is the Widrow Hoff rule?",answer:`The Widrow-Hoff rule, also known as the delta rule or the least mean squares (LMS) algorithm, is a method used in machine learning and neural networks for updating weights. It's an iterative procedure aimed at minimizing the error between the desired output and the actual output of the network.

Here are some key aspects:

1. **Objective**: The goal is to minimize the squared error between the predicted values (outputs) and the target values (desired outputs).

2. **Update Rule**: For a given training example \\((x, y)\\), where \\(x\\) is the input vector, \\(y\\) is the target output, \\(w\\) represents the weight vector, and \\(h_w(x) = w \\cdot x\\) is the hypothesis or predicted output:
   \\[
   w_i \\leftarrow w_i + \\alpha (y - h_w(x)) \\times x_i
   \\]
   Here, \\(i\\) indexes the components of the input vector \\(x\\), and \\(\\alpha\\) is the learning rate, a small positive constant that controls the size of weight updates.

3. **Gradient Descent**: The rule can be seen as performing gradient descent on the mean squared error cost function with respect to the weights.

4. **Applications**: Widrow-Hoff is commonly used in linear regression and perceptron models for binary classification.

5. **Convergence**: For linearly separable data, this update rule will converge to a solution where the model perfectly classifies all training examples, assuming an appropriate learning rate \\(\\alpha\\).

In essence, the Widrow-Hoff rule adjusts weights incrementally in response to errors observed during training, thereby improving the model's predictions iteratively.`,references:[{section:"23.4 Generalization in Reinforcement Learning.",pages:[854,855,856]},{section:"19.6 Linear Regression and Classification.",pages:[700,701,702]}]},{id:2,text:"What techniques are used when an agent sensors fail and cannot provide information?",answer:`When an agent's sensors fail, leading to a lack of information about the environment, several strategies and techniques can be employed to handle the uncertainty and maintain functionality:

1. **Redundancy**: Implementing redundant sensor systems allows for backup data collection if one sensor fails. This redundancy ensures that at least some level of environmental perception is maintained.

2. **Fallback Strategies**: Designing fallback or default behaviors helps an agent continue operating safely despite partial or complete loss of sensory input. These can include predefined actions like stopping, returning to a safe location, or entering a low-power state until normal operation resumes.

3. **Probabilistic Reasoning and Bayesian Inference**: Agents can use probabilistic models to make educated guesses about the environment based on prior knowledge and any available partial data. Techniques such as Bayesian inference help in updating beliefs about the world with new, albeit uncertain, information.

4. **Data Imputation and Estimation**: When sensor data is missing or incomplete, techniques like interpolation, extrapolation, or machine learning algorithms can estimate the missing information based on historical data or patterns observed from other functioning sensors.

5. **State Estimation Methods**: Techniques such as Kalman filters or particle filters allow agents to maintain a belief state about their environment, integrating past sensor readings and predictions of current states to provide an ongoing estimate even when some sensory inputs are unavailable.

6. **Robust Control**: Implementing control strategies that can handle variability and uncertainty ensures that the agent remains stable and effective despite incomplete data. Robust control techniques often incorporate assumptions or worst-case scenarios in their design.

7. **Simulation and Scenario Testing**: Running simulations with various failure modes helps prepare an agent for sensor failures by predefining responses to different types of sensory loss, allowing it to act more effectively when encountering real-world issues.

8. **Human Intervention**: In critical systems where autonomous operation cannot be fully guaranteed, provisions can be made for human intervention or oversight. When sensors fail beyond the capability of automated recovery, human operators may take control to ensure safety and task continuation.

By employing these strategies, an agent can maintain a degree of functionality and decision-making capacity even in situations where sensor inputs are compromised or entirely lost.`,references:[{section:"4.3 Search with Nondeterministic Actions.",pages:[143,144,145]},{section:"2.3 The Nature of Environments.",pages:[61,62,63]},{section:"From 14.5 Dynamic Bayesian Networks",pages:[505,506,507]}]},{id:3,text:"How is an agent knowledge of its own knowledge and reasoning process addressed when analysing how an agent might deduce if it can or cannot answer a question?",answer:`In analyzing how an agent might deduce whether it can or cannot answer a question, the concepts of mental objects and modal logic are particularly relevant. These ideas address an agent's awareness of its own knowledge and reasoning processes.

### Mental Objects and Modal Logic

1. **Mental Objects**: Agents possess beliefs and can deduce new ones, but they typically lack explicit knowledge about their own knowledge or reasoning processes. Understanding one's own mental state is crucial for controlling inference. For example, if an agent (say, Bob) does not know the answer to a question like "What is the square root of 1764?" upon request from another entity (Alice), it can be beneficial for the agent to recognize that further reasoning might lead to the correct answer. Conversely, recognizing when additional thought is unlikely to yield results helps in decision-making.

2. **Propositional Attitudes**: The book discusses propositional attitudes such as Believes, Knows, Wants, and Informs. These are not like normal predicates because they can have different implications depending on context (e.g., referential opacity). An example provided is Lois's knowledge about Superman: if she knows "Superman can fly," it doesn't imply she knows that "Clark Kent can fly," despite Superman being Clark Kent.

3. **Modal Logic**: To address issues like referential transparency, where the identity of terms matters, modal logic is introduced. This involves using special operators to express knowledge and other attitudes towards propositions. For example, "A knows P" would be denoted as KAP in modal logic. Modal logic allows for reasoning about possible worlds and what an agent might know or deduce in each world.

4. **Possible Worlds**: In modal logic, the concept of possible worlds is used to represent different scenarios that are consistent with what an agent knows. An agent's knowledge is represented across these worlds, allowing it to consider various possibilities and determine if additional reasoning could lead to new insights or confirmations about a question.

5. **Referential Opacity**: Modal logic helps manage referential opacity in propositional attitudes by allowing different terms (even if they refer to the same object) to be treated distinctly based on what is known in each possible world.

### Application

When an agent encounters a question, it can use its understanding of these concepts to determine:

- Whether it has enough information or reasoning capacity to answer.
- If additional thought or information gathering might lead to an answer.
- When further attempts at reasoning are unlikely to be fruitful and thus should be avoided.

By employing modal logic and recognizing the nuances of propositional attitudes, agents can better manage their knowledge and inference processes, leading to more effective decision-making in complex environments.`,references:[{section:"10.3 Events.",pages:[342,343,344]},{section:"III: Knowledge, reasoning, and planning.",pages:[225,226,227]},{section:"Chapter 7: Logical Agents",pages:[226,227,228]}]}],Vk="modulepreload",Xk=function(a){return"/ollama-rag-book-assistant-ui/"+a},i_={},Hp=function(t,e,i){let r=Promise.resolve();if(e&&e.length>0){let u=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));r=u(e.map(p=>{if(p=Xk(p),p in i_)return;i_[p]=!0;const g=p.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":Vk,g||(v.as="script"),v.crossOrigin="",v.href=p,f&&v.setAttribute("nonce",f),document.head.appendChild(v),g)return new Promise((A,E)=>{v.addEventListener("load",A),v.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return r.then(u=>{for(const h of u||[])h.status==="rejected"&&o(h.reason);return t().catch(o)})};var Jh={};Jh.d=(a,t)=>{for(var e in t)Jh.o(t,e)&&!Jh.o(a,e)&&Object.defineProperty(a,e,{enumerable:!0,get:t[e]})};Jh.o=(a,t)=>Object.prototype.hasOwnProperty.call(a,t);var Ot=globalThis.pdfjsLib={};Jh.d(Ot,{AbortException:()=>Eo,AnnotationEditorLayer:()=>a0,AnnotationEditorParamsType:()=>Dt,AnnotationEditorType:()=>It,AnnotationEditorUIManager:()=>mo,AnnotationLayer:()=>GD,AnnotationMode:()=>dr,ColorPicker:()=>Rg,DOMSVGFactory:()=>I0,DrawLayer:()=>u0,FeatureTest:()=>In,GlobalWorkerOptions:()=>Na,ImageKind:()=>Kp,InvalidPDFException:()=>Ax,MissingPDFException:()=>So,OPS:()=>Ji,OutputScale:()=>Zb,PDFDataRangeTransport:()=>mw,PDFDateString:()=>M0,PDFWorker:()=>xu,PasswordResponses:()=>Wk,PermissionFlag:()=>Qk,PixelsPerInch:()=>Br,RenderingCancelledException:()=>R0,TextLayer:()=>Tv,UnexpectedResponseException:()=>Zg,Util:()=>bt,VerbosityLevel:()=>Qg,XfaLayer:()=>bw,build:()=>xD,createValidAbsoluteUrl:()=>tM,fetchData:()=>tm,getDocument:()=>gD,getFilenameFromUrl:()=>uM,getPdfFilenameFromUrl:()=>cM,getXfaPageViewport:()=>hM,isDataScheme:()=>em,isPdfFile:()=>k0,noContextMenu:()=>Vi,normalizeUnicode:()=>rM,setLayerDimensions:()=>go,shadow:()=>Yt,version:()=>_D});const kn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),vx=[1,0,0,1,0,0],Kb=[.001,0,0,.001,0,0],Yk=1e7,Rb=1.35,Si={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},dr={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Kk="pdfjs_internal_editor_",It={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Dt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},Qk={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},En={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Kp={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ye={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Mh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Qg={ERRORS:0,WARNINGS:1,INFOS:5},Ji={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},Wk={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Wg=Qg.WARNINGS;function $k(a){Number.isInteger(a)&&(Wg=a)}function Zk(){return Wg}function $g(a){Wg>=Qg.INFOS&&console.log(`Info: ${a}`)}function Bt(a){Wg>=Qg.WARNINGS&&console.log(`Warning: ${a}`)}function Ae(a){throw new Error(a)}function $e(a,t){a||Ae(t)}function Jk(a){switch(a==null?void 0:a.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function tM(a,t=null,e=null){if(!a)return null;try{if(e&&typeof a=="string"){if(e.addDefaultProtocol&&a.startsWith("www.")){const r=a.match(/\./g);(r==null?void 0:r.length)>=2&&(a=`http://${a}`)}if(e.tryConvertEncoding)try{a=aM(a)}catch{}}const i=t?new URL(a,t):new URL(a);if(Jk(i))return i}catch{}return null}function Yt(a,t,e,i=!1){return Object.defineProperty(a,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const Gr=function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class Qb extends Gr{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Wb extends Gr{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Ax extends Gr{constructor(t){super(t,"InvalidPDFException")}}class So extends Gr{constructor(t){super(t,"MissingPDFException")}}class Zg extends Gr{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class eM extends Gr{constructor(t){super(t,"FormatError")}}class Eo extends Gr{constructor(t){super(t,"AbortException")}}function Sx(a){(typeof a!="object"||(a==null?void 0:a.length)===void 0)&&Ae("Invalid argument for bytesToString");const t=a.length,e=8192;if(t<e)return String.fromCharCode.apply(null,a);const i=[];for(let r=0;r<t;r+=e){const o=Math.min(r+e,t),u=a.subarray(r,o);i.push(String.fromCharCode.apply(null,u))}return i.join("")}function Jg(a){typeof a!="string"&&Ae("Invalid argument for stringToBytes");const t=a.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=a.charCodeAt(i)&255;return e}function nM(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)}function T0(a){const t=Object.create(null);for(const[e,i]of a)t[e]=i;return t}function iM(){const a=new Uint8Array(4);return a[0]=1,new Uint32Array(a.buffer,0,1)[0]===1}function sM(){try{return new Function(""),!0}catch{return!1}}class In{static get isLittleEndian(){return Yt(this,"isLittleEndian",iM())}static get isEvalSupported(){return Yt(this,"isEvalSupported",sM())}static get isOffscreenCanvasSupported(){return Yt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Yt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Yt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return Yt(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const kb=Array.from(Array(256).keys(),a=>a.toString(16).padStart(2,"0"));var za,Qp,$b;class bt{static makeHexColor(t,e,i){return`#${kb[t]}${kb[e]}${kb[i]}`}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const i=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[i,r]}static applyInverseTransform(t,e){const i=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/i,o=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/i;return[r,o]}static getAxialAlignedBoundingBox(t,e){const i=this.applyTransform(t,e),r=this.applyTransform(t.slice(2,4),e),o=this.applyTransform([t[0],t[3]],e),u=this.applyTransform([t[2],t[1]],e);return[Math.min(i[0],r[0],o[0],u[0]),Math.min(i[1],r[1],o[1],u[1]),Math.max(i[0],r[0],o[0],u[0]),Math.max(i[1],r[1],o[1],u[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],i=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],o=t[2]*e[0]+t[3]*e[2],u=t[2]*e[1]+t[3]*e[3],h=(i+u)/2,f=Math.sqrt((i+u)**2-4*(i*u-o*r))/2,p=h+f||1,g=h-f||1;return[Math.sqrt(p),Math.sqrt(g)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>r)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),u=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>u?null:[i,o,r,u]}static bezierBoundingBox(t,e,i,r,o,u,h,f,p){return p?(p[0]=Math.min(p[0],t,h),p[1]=Math.min(p[1],e,f),p[2]=Math.max(p[2],t,h),p[3]=Math.max(p[3],e,f)):p=[Math.min(t,h),Math.min(e,f),Math.max(t,h),Math.max(e,f)],w(this,za,$b).call(this,t,i,o,h,e,r,u,f,3*(-t+3*(i-o)+h),6*(t-2*i+o),3*(i-t),p),w(this,za,$b).call(this,t,i,o,h,e,r,u,f,3*(-e+3*(r-u)+f),6*(e-2*r+u),3*(r-e),p),p}}za=new WeakSet,Qp=function(t,e,i,r,o,u,h,f,p,g){if(p<=0||p>=1)return;const b=1-p,v=p*p,A=v*p,E=b*(b*(b*t+3*p*e)+3*v*i)+A*r,T=b*(b*(b*o+3*p*u)+3*v*h)+A*f;g[0]=Math.min(g[0],E),g[1]=Math.min(g[1],T),g[2]=Math.max(g[2],E),g[3]=Math.max(g[3],T)},$b=function(t,e,i,r,o,u,h,f,p,g,b,v){if(Math.abs(p)<1e-12){Math.abs(g)>=1e-12&&w(this,za,Qp).call(this,t,e,i,r,o,u,h,f,-b/g,v);return}const A=g**2-4*b*p;if(A<0)return;const E=Math.sqrt(A),T=2*p;w(this,za,Qp).call(this,t,e,i,r,o,u,h,f,(-g+E)/T,v),w(this,za,Qp).call(this,t,e,i,r,o,u,h,f,(-g-E)/T,v)},k(bt,za);function aM(a){return decodeURIComponent(escape(a))}let Mb=null,s_=null;function rM(a){return Mb||(Mb=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,s_=new Map([["","t"]])),a.replaceAll(Mb,(t,e,i)=>e?e.normalize("NFKC"):s_.get(i))}function lM(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const a=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(a);else for(let t=0;t<32;t++)a[t]=Math.floor(Math.random()*255);return Sx(a)}const C0="pdfjs_internal_id_",aa={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function oM(a){return Uint8Array.prototype.toBase64?a.toBase64():btoa(Sx(a))}const la="http://www.w3.org/2000/svg",ml=class ml{};Mt(ml,"CSS",96),Mt(ml,"PDF",72),Mt(ml,"PDF_TO_CSS_UNITS",ml.CSS/ml.PDF);let Br=ml;async function tm(a,t="text"){if(Ih(a,document.baseURI)){const e=await fetch(a);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const r=new XMLHttpRequest;r.open("GET",a,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class _f{constructor({viewBox:t,scale:e,rotation:i,offsetX:r=0,offsetY:o=0,dontFlip:u=!1}){this.viewBox=t,this.scale=e,this.rotation=i,this.offsetX=r,this.offsetY=o;const h=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let p,g,b,v;switch(i%=360,i<0&&(i+=360),i){case 180:p=-1,g=0,b=0,v=1;break;case 90:p=0,g=1,b=1,v=0;break;case 270:p=0,g=-1,b=-1,v=0;break;case 0:p=1,g=0,b=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(b=-b,v=-v);let A,E,T,D;p===0?(A=Math.abs(f-t[1])*e+r,E=Math.abs(h-t[0])*e+o,T=(t[3]-t[1])*e,D=(t[2]-t[0])*e):(A=Math.abs(h-t[0])*e+r,E=Math.abs(f-t[1])*e+o,T=(t[2]-t[0])*e,D=(t[3]-t[1])*e),this.transform=[p*e,g*e,b*e,v*e,A-p*e*h-b*e*f,E-g*e*h-v*e*f],this.width=T,this.height=D}get rawDims(){const{viewBox:t}=this;return Yt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new _f({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:o})}convertToViewportPoint(t,e){return bt.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=bt.applyTransform([t[0],t[1]],this.transform),i=bt.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){return bt.applyInverseTransform([t,e],this.transform)}}class R0 extends Gr{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function em(a){const t=a.length;let e=0;for(;e<t&&a[e].trim()==="";)e++;return a.substring(e,e+5).toLowerCase()==="data:"}function k0(a){return typeof a=="string"&&/\.pdf$/i.test(a)}function uM(a){return[a]=a.split(/[#?]/,1),a.substring(a.lastIndexOf("/")+1)}function cM(a,t="document.pdf"){if(typeof a!="string")return t;if(em(a))return Bt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(a);let o=i.exec(r[1])||i.exec(r[2])||i.exec(r[3]);if(o&&(o=o[0],o.includes("%")))try{o=i.exec(decodeURIComponent(o))[0]}catch{}return o||t}class a_{constructor(){Mt(this,"started",Object.create(null));Mt(this,"times",[])}time(t){t in this.started&&Bt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Bt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:r,end:o}of this.times)t.push(`${i.padEnd(e)} ${o-r}ms
`);return t.join("")}}function Ih(a,t){try{const{protocol:e}=t?new URL(a,t):new URL(a);return e==="http:"||e==="https:"}catch{return!1}}function Vi(a){a.preventDefault()}function r_(a){console.log("Deprecated API usage: "+a)}var ld;class M0{static toDateObject(t){if(!t||typeof t!="string")return null;d(this,ld)||x(this,ld,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=d(this,ld).exec(t);if(!e)return null;const i=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let u=parseInt(e[4],10);u=u>=0&&u<=23?u:0;let h=parseInt(e[5],10);h=h>=0&&h<=59?h:0;let f=parseInt(e[6],10);f=f>=0&&f<=59?f:0;const p=e[7]||"Z";let g=parseInt(e[8],10);g=g>=0&&g<=23?g:0;let b=parseInt(e[9],10)||0;return b=b>=0&&b<=59?b:0,p==="-"?(u+=g,h+=b):p==="+"&&(u-=g,h-=b),new Date(Date.UTC(i,r,o,u,h,f))}}ld=new WeakMap,k(M0,ld);function hM(a,{scale:t=1,rotation:e=0}){const{width:i,height:r}=a.attributes.style,o=[0,0,parseInt(i),parseInt(r)];return new _f({viewBox:o,scale:t,rotation:e})}function D0(a){if(a.startsWith("#")){const t=parseInt(a.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return a.startsWith("rgb(")?a.slice(4,-1).split(",").map(t=>parseInt(t)):a.startsWith("rgba(")?a.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Bt(`Not a valid color format: "${a}"`),[0,0,0])}function dM(a){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of a.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;a.set(e,D0(i))}t.remove()}function Re(a){const{a:t,b:e,c:i,d:r,e:o,f:u}=a.getTransform();return[t,e,i,r,o,u]}function ra(a){const{a:t,b:e,c:i,d:r,e:o,f:u}=a.getTransform().invertSelf();return[t,e,i,r,o,u]}function go(a,t,e=!1,i=!0){if(t instanceof _f){const{pageWidth:r,pageHeight:o}=t.rawDims,{style:u}=a,h=In.isCSSRoundSupported,f=`var(--scale-factor) * ${r}px`,p=`var(--scale-factor) * ${o}px`,g=h?`round(down, ${f}, var(--scale-round-x, 1px))`:`calc(${f})`,b=h?`round(down, ${p}, var(--scale-round-y, 1px))`:`calc(${p})`;!e||t.rotation%180===0?(u.width=g,u.height=b):(u.width=b,u.height=g)}i&&a.setAttribute("data-main-rotation",t.rotation)}class Zb{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var fr,bl,ts,vl,od,ud,Lg,Ex,Fn,_x,xx,Wp,wx,tv;const oa=class oa{constructor(t){k(this,Fn);k(this,fr,null);k(this,bl,null);k(this,ts);k(this,vl,null);k(this,od,null);x(this,ts,t),d(oa,ud)||x(oa,ud,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=x(this,fr,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=d(this,ts)._uiManager._signal;t.addEventListener("contextmenu",Vi,{signal:e}),t.addEventListener("pointerdown",w(oa,Lg,Ex),{signal:e});const i=x(this,vl,document.createElement("div"));i.className="buttons",t.append(i);const r=d(this,ts).toolbarPosition;if(r){const{style:o}=t,u=d(this,ts)._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*u}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return w(this,Fn,wx).call(this),t}get div(){return d(this,fr)}hide(){var t;d(this,fr).classList.add("hidden"),(t=d(this,bl))==null||t.hideDropdown()}show(){var t;d(this,fr).classList.remove("hidden"),(t=d(this,od))==null||t.shown()}async addAltText(t){const e=await t.render();w(this,Fn,Wp).call(this,e),d(this,vl).prepend(e,d(this,Fn,tv)),x(this,od,t)}addColorPicker(t){x(this,bl,t);const e=t.renderButton();w(this,Fn,Wp).call(this,e),d(this,vl).prepend(e,d(this,Fn,tv))}remove(){var t;d(this,fr).remove(),(t=d(this,bl))==null||t.destroy(),x(this,bl,null)}};fr=new WeakMap,bl=new WeakMap,ts=new WeakMap,vl=new WeakMap,od=new WeakMap,ud=new WeakMap,Lg=new WeakSet,Ex=function(t){t.stopPropagation()},Fn=new WeakSet,_x=function(t){d(this,ts)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},xx=function(t){d(this,ts)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},Wp=function(t){const e=d(this,ts)._uiManager._signal;t.addEventListener("focusin",w(this,Fn,_x).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",w(this,Fn,xx).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Vi,{signal:e})},wx=function(){const{editorType:t,_uiManager:e}=d(this,ts),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",d(oa,ud)[t]),w(this,Fn,Wp).call(this,i),i.addEventListener("click",r=>{e.delete()},{signal:e._signal}),d(this,vl).append(i)},tv=function(){const t=document.createElement("div");return t.className="divider",t},k(oa,Lg),k(oa,ud,null);let Jb=oa;var cd,Al,Sl,jr,Tx,Cx,Rx;class fM{constructor(t){k(this,jr);k(this,cd,null);k(this,Al,null);k(this,Sl);x(this,Sl,t)}show(t,e,i){const[r,o]=w(this,jr,Cx).call(this,e,i),{style:u}=d(this,Al)||x(this,Al,w(this,jr,Tx).call(this));t.append(d(this,Al)),u.insetInlineEnd=`${100*r}%`,u.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){d(this,Al).remove()}}cd=new WeakMap,Al=new WeakMap,Sl=new WeakMap,jr=new WeakSet,Tx=function(){const t=x(this,Al,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Vi,{signal:d(this,Sl)._signal});const e=x(this,cd,document.createElement("div"));return e.className="buttons",t.append(e),w(this,jr,Rx).call(this),t},Cx=function(t,e){let i=0,r=0;for(const o of t){const u=o.y+o.height;if(u<i)continue;const h=o.x+(e?o.width:0);if(u>i){r=h,i=u;continue}e?h>r&&(r=h):h<r&&(r=h)}return[e?1-r:r,i]},Rx=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=d(this,Sl)._signal;t.addEventListener("contextmenu",Vi,{signal:i}),t.addEventListener("click",()=>{d(this,Sl).highlightSelection("floating_button")},{signal:i}),d(this,cd).append(t)};function wg(a,t,e){for(const i of e)t.addEventListener(i,a[i].bind(a))}function pM(a){return Math.round(Math.min(255,Math.max(1,255*a))).toString(16).padStart(2,"0")}var Og;class gM{constructor(){k(this,Og,0)}get id(){return`${Kk}${On(this,Og)._++}`}}Og=new WeakMap;var ku,hd,xn,Mu,$p;const tA=class tA{constructor(){k(this,Mu);k(this,ku,lM());k(this,hd,0);k(this,xn,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const o=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Yt(this,"_isSVGFittingCanvas",o)}async getFromFile(t){const{lastModified:e,name:i,size:r,type:o}=t;return w(this,Mu,$p).call(this,`${e}_${i}_${r}_${o}`,t)}async getFromUrl(t){return w(this,Mu,$p).call(this,t,t)}async getFromBlob(t,e){const i=await e;return w(this,Mu,$p).call(this,t,i)}async getFromId(t){d(this,xn)||x(this,xn,new Map);const e=d(this,xn).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){d(this,xn)||x(this,xn,new Map);let i=d(this,xn).get(t);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${d(this,ku)}_${On(this,hd)._++}`,refCounter:1,isSvg:!1},d(this,xn).set(t,i),d(this,xn).set(i.id,i),i}getSvgUrl(t){const e=d(this,xn).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var r;d(this,xn)||x(this,xn,new Map);const e=d(this,xn).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const o=new OffscreenCanvas(i.width,i.height);o.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=o.convertToBlob()}(r=i.close)==null||r.call(i),e.bitmap=null}isValidId(t){return t.startsWith(`image_${d(this,ku)}_`)}};ku=new WeakMap,hd=new WeakMap,xn=new WeakMap,Mu=new WeakSet,$p=async function(t,e){d(this,xn)||x(this,xn,new Map);let i=d(this,xn).get(t);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${d(this,ku)}_${On(this,hd)._++}`,refCounter:0,isSvg:!1});let r;if(typeof e=="string"?(i.url=e,r=await tm(e,"blob")):e instanceof File?r=i.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const o=tA._isSVGFittingCanvas,u=new FileReader,h=new Image,f=new Promise((p,g)=>{h.onload=()=>{i.bitmap=h,i.isSvg=!0,p()},u.onload=async()=>{const b=i.svgUrl=u.result;h.src=await o?`${b}#svgView(preserveAspectRatio(none))`:b},h.onerror=u.onerror=g});u.readAsDataURL(r),await f}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){console.error(r),i=null}return d(this,xn).set(t,i),i&&d(this,xn).set(i.id,i),i};let ev=tA;var rn,pr,dd,ln;class mM{constructor(t=128){k(this,rn,[]);k(this,pr,!1);k(this,dd);k(this,ln,-1);x(this,dd,t)}add({cmd:t,undo:e,post:i,mustExec:r,type:o=NaN,overwriteIfSameType:u=!1,keepUndo:h=!1}){if(r&&t(),d(this,pr))return;const f={cmd:t,undo:e,post:i,type:o};if(d(this,ln)===-1){d(this,rn).length>0&&(d(this,rn).length=0),x(this,ln,0),d(this,rn).push(f);return}if(u&&d(this,rn)[d(this,ln)].type===o){h&&(f.undo=d(this,rn)[d(this,ln)].undo),d(this,rn)[d(this,ln)]=f;return}const p=d(this,ln)+1;p===d(this,dd)?d(this,rn).splice(0,1):(x(this,ln,p),p<d(this,rn).length&&d(this,rn).splice(p)),d(this,rn).push(f)}undo(){if(d(this,ln)===-1)return;x(this,pr,!0);const{undo:t,post:e}=d(this,rn)[d(this,ln)];t(),e==null||e(),x(this,pr,!1),x(this,ln,d(this,ln)-1)}redo(){if(d(this,ln)<d(this,rn).length-1){x(this,ln,d(this,ln)+1),x(this,pr,!0);const{cmd:t,post:e}=d(this,rn)[d(this,ln)];t(),e==null||e(),x(this,pr,!1)}}hasSomethingToUndo(){return d(this,ln)!==-1}hasSomethingToRedo(){return d(this,ln)<d(this,rn).length-1}destroy(){x(this,rn,null)}}rn=new WeakMap,pr=new WeakMap,dd=new WeakMap,ln=new WeakMap;var Ng,kx;class xf{constructor(t){k(this,Ng);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=In.platform;for(const[i,r,o={}]of t)for(const u of i){const h=u.startsWith("mac+");e&&h?(this.callbacks.set(u.slice(4),{callback:r,options:o}),this.allKeys.add(u.split("+").at(-1))):!e&&!h&&(this.callbacks.set(u,{callback:r,options:o}),this.allKeys.add(u.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(w(this,Ng,kx).call(this,e));if(!i)return;const{callback:r,options:{bubbles:o=!1,args:u=[],checker:h=null}}=i;h&&!h(t,e)||(r.bind(t,...u,e)(),o||(e.stopPropagation(),e.preventDefault()))}}Ng=new WeakSet,kx=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const Pg=class Pg{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return dM(t),Yt(this,"_colors",t)}convert(t){const e=D0(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,r]of this._colors)if(r.every((o,u)=>o===e[u]))return Pg._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?bt.makeHexColor(...e):t}};Mt(Pg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let nv=Pg;var Du,fi,Ke,gn,Lu,ca,Ou,es,gr,Nu,El,Es,ns,_l,fd,pd,Pu,gd,_s,mr,zu,yr,xs,zg,br,md,vr,xl,yd,bd,on,se,ha,wl,vd,Ad,Ar,ws,da,Sd,zi,gt,Zp,iv,Mx,Dx,Jp,Lx,Ox,Nx,sv,Px,av,rv,zx,Nn,cr,Ix,Fx,lv,Hx,Fh,ov;const Eu=class Eu{constructor(t,e,i,r,o,u,h,f,p,g,b){k(this,gt);k(this,Du,new AbortController);k(this,fi,null);k(this,Ke,new Map);k(this,gn,new Map);k(this,Lu,null);k(this,ca,null);k(this,Ou,null);k(this,es,new mM);k(this,gr,null);k(this,Nu,0);k(this,El,new Set);k(this,Es,null);k(this,ns,null);k(this,_l,new Set);k(this,fd,!1);k(this,pd,!1);k(this,Pu,!1);k(this,gd,null);k(this,_s,null);k(this,mr,null);k(this,zu,null);k(this,yr,!1);k(this,xs,null);k(this,zg,new gM);k(this,br,!1);k(this,md,!1);k(this,vr,null);k(this,xl,null);k(this,yd,null);k(this,bd,null);k(this,on,It.NONE);k(this,se,new Set);k(this,ha,null);k(this,wl,null);k(this,vd,null);k(this,Ad,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});k(this,Ar,[0,0]);k(this,ws,null);k(this,da,null);k(this,Sd,null);k(this,zi,null);const v=this._signal=d(this,Du).signal;x(this,da,t),x(this,Sd,e),x(this,Lu,i),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:v}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),r._on("setpreference",this.onSetPreference.bind(this),{signal:v}),r._on("switchannotationeditorparams",A=>this.updateParams(A.type,A.value),{signal:v}),w(this,gt,Lx).call(this),w(this,gt,zx).call(this),w(this,gt,sv).call(this),x(this,ca,o.annotationStorage),x(this,gd,o.filterFactory),x(this,wl,u),x(this,zu,h||null),x(this,fd,f),x(this,pd,p),x(this,Pu,g),x(this,bd,b||null),this.viewParameters={realScale:Br.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=Eu.prototype,e=u=>d(u,da).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&u.hasSomethingToControl(),i=(u,{target:h})=>{if(h instanceof HTMLInputElement){const{type:f}=h;return f!=="text"&&f!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Yt(this,"_keyboardManager",new xf([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(u,{target:h})=>!(h instanceof HTMLButtonElement)&&d(u,da).contains(h)&&!u.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(u,{target:h})=>!(h instanceof HTMLButtonElement)&&d(u,da).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}destroy(){var t,e,i,r;(t=d(this,zi))==null||t.resolve(),x(this,zi,null),(e=d(this,Du))==null||e.abort(),x(this,Du,null),this._signal=null;for(const o of d(this,gn).values())o.destroy();d(this,gn).clear(),d(this,Ke).clear(),d(this,_l).clear(),x(this,fi,null),d(this,se).clear(),d(this,es).destroy(),(i=d(this,Lu))==null||i.destroy(),(r=d(this,xs))==null||r.hide(),x(this,xs,null),d(this,_s)&&(clearTimeout(d(this,_s)),x(this,_s,null)),d(this,ws)&&(clearTimeout(d(this,ws)),x(this,ws,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return d(this,bd)}get useNewAltTextFlow(){return d(this,pd)}get useNewAltTextWhenAddingImage(){return d(this,Pu)}get hcmFilter(){return Yt(this,"hcmFilter",d(this,wl)?d(this,gd).addHCMFilter(d(this,wl).foreground,d(this,wl).background):"none")}get direction(){return Yt(this,"direction",getComputedStyle(d(this,da)).direction)}get highlightColors(){return Yt(this,"highlightColors",d(this,zu)?new Map(d(this,zu).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Yt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){x(this,yd,t)}editAltText(t,e=!1){var i;(i=d(this,Lu))==null||i.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":x(this,Pu,e);break}}onPageChanging({pageNumber:t}){x(this,Nu,t-1)}focusMainContainer(){d(this,da).focus()}findParent(t,e){for(const i of d(this,gn).values()){const{x:r,y:o,width:u,height:h}=i.div.getBoundingClientRect();if(t>=r&&t<=r+u&&e>=o&&e<=o+h)return i}return null}disableUserSelect(t=!1){d(this,Sd).classList.toggle("noUserSelect",t)}addShouldRescale(t){d(this,_l).add(t)}removeShouldRescale(t){d(this,_l).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Br.PDF_TO_CSS_UNITS;for(const e of d(this,_l))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:o,focusOffset:u}=e,h=e.toString(),p=w(this,gt,Zp).call(this,e).closest(".textLayer"),g=this.getSelectionBoxes(p);if(!g)return;e.empty();const b=w(this,gt,iv).call(this,p),v=d(this,on)===It.NONE,A=()=>{b==null||b.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:g,anchorNode:i,anchorOffset:r,focusNode:o,focusOffset:u,text:h}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(It.HIGHLIGHT,A);return}A()}addToAnnotationStorage(t){!t.isEmpty()&&d(this,ca)&&!d(this,ca).has(t.id)&&d(this,ca).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,d(this,yr)&&(x(this,yr,!1),w(this,gt,Jp).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of d(this,se))if(e.div.contains(t)){x(this,xl,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!d(this,xl))return;const[t,e]=d(this,xl);x(this,xl,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){w(this,gt,sv).call(this),w(this,gt,av).call(this)}removeEditListeners(){w(this,gt,Px).call(this),w(this,gt,rv).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of d(this,ns))if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of d(this,ns))if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var i;if(t.preventDefault(),(i=d(this,fi))==null||i.commitOrRemove(),!this.hasSelection)return;const e=[];for(const r of d(this,se)){const o=r.serialize(!0);o&&e.push(o)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const u of d(this,ns))if(u.isHandlingMimeForPasting(o.type)){u.paste(o,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(o){Bt(`paste: "${o.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const f of i){const p=await r.deserialize(f);if(!p)return;o.push(p)}const u=()=>{for(const f of o)w(this,gt,lv).call(this,f);w(this,gt,ov).call(this,o)},h=()=>{for(const f of o)f.remove()};this.addCommands({cmd:u,undo:h,mustExec:!0})}catch(o){Bt(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),d(this,on)!==It.NONE&&!this.isEditorHandlingKeyboard&&Eu._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,d(this,yr)&&(x(this,yr,!1),w(this,gt,Jp).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(w(this,gt,Ox).call(this),w(this,gt,av).call(this),w(this,gt,Nn).call(this,{isEditing:d(this,on)!==It.NONE,isEmpty:w(this,gt,Fh).call(this),hasSomethingToUndo:d(this,es).hasSomethingToUndo(),hasSomethingToRedo:d(this,es).hasSomethingToRedo(),hasSelectedEditor:!1})):(w(this,gt,Nx).call(this),w(this,gt,rv).call(this),w(this,gt,Nn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!d(this,ns)){x(this,ns,t);for(const e of d(this,ns))w(this,gt,cr).call(this,e.defaultPropertiesToUpdate)}}getId(){return d(this,zg).id}get currentLayer(){return d(this,gn).get(d(this,Nu))}getLayer(t){return d(this,gn).get(t)}get currentPageIndex(){return d(this,Nu)}addLayer(t){d(this,gn).set(t.pageIndex,t),d(this,br)?t.enable():t.disable()}removeLayer(t){d(this,gn).delete(t.pageIndex)}async updateMode(t,e=null,i=!1){if(d(this,on)!==t&&!(d(this,zi)&&(await d(this,zi).promise,!d(this,zi)))){if(x(this,zi,Promise.withResolvers()),x(this,on,t),t===It.NONE){this.setEditingState(!1),w(this,gt,Fx).call(this),d(this,zi).resolve();return}this.setEditingState(!0),await w(this,gt,Ix).call(this),this.unselectAll();for(const r of d(this,gn).values())r.updateMode(t);if(!e){i&&this.addNewEditorFromKeyboard(),d(this,zi).resolve();return}for(const r of d(this,Ke).values())r.annotationElementId===e?(this.setSelected(r),r.enterInEditMode()):r.unselect();d(this,zi).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==d(this,on)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var i;if(d(this,ns)){switch(t){case Dt.CREATE:this.currentLayer.addNewEditor();return;case Dt.HIGHLIGHT_DEFAULT_COLOR:(i=d(this,yd))==null||i.updateColor(e);break;case Dt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(d(this,vd)||x(this,vd,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const r of d(this,se))r.updateParams(t,e);for(const r of d(this,ns))r.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){var o;for(const u of d(this,Ke).values())u.editorType===t&&u.show(e);(((o=d(this,vd))==null?void 0:o.get(Dt.HIGHLIGHT_SHOW_ALL))??!0)!==e&&w(this,gt,cr).call(this,[[Dt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(d(this,md)!==t){x(this,md,t);for(const e of d(this,gn).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const i of d(this,Ke).values())i.pageIndex===t&&e.push(i);return e}getEditor(t){return d(this,Ke).get(t)}addEditor(t){d(this,Ke).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(d(this,_s)&&clearTimeout(d(this,_s)),x(this,_s,setTimeout(()=>{this.focusMainContainer(),x(this,_s,null)},0))),d(this,Ke).delete(t.id),this.unselect(t),(!t.annotationElementId||!d(this,El).has(t.annotationElementId))&&((e=d(this,ca))==null||e.remove(t.id))}addDeletedAnnotationElement(t){d(this,El).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return d(this,El).has(t)}removeDeletedAnnotationElement(t){d(this,El).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){d(this,fi)!==t&&(x(this,fi,t),t&&w(this,gt,cr).call(this,t.propertiesToUpdate))}updateUI(t){d(this,gt,Hx)===t&&w(this,gt,cr).call(this,t.propertiesToUpdate)}toggleSelected(t){if(d(this,se).has(t)){d(this,se).delete(t),t.unselect(),w(this,gt,Nn).call(this,{hasSelectedEditor:this.hasSelection});return}d(this,se).add(t),t.select(),w(this,gt,cr).call(this,t.propertiesToUpdate),w(this,gt,Nn).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of d(this,se))e!==t&&e.unselect();d(this,se).clear(),d(this,se).add(t),t.select(),w(this,gt,cr).call(this,t.propertiesToUpdate),w(this,gt,Nn).call(this,{hasSelectedEditor:!0})}isSelected(t){return d(this,se).has(t)}get firstSelectedEditor(){return d(this,se).values().next().value}unselect(t){t.unselect(),d(this,se).delete(t),w(this,gt,Nn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return d(this,se).size!==0}get isEnterHandled(){return d(this,se).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){d(this,es).undo(),w(this,gt,Nn).call(this,{hasSomethingToUndo:d(this,es).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:w(this,gt,Fh).call(this)})}redo(){d(this,es).redo(),w(this,gt,Nn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:d(this,es).hasSomethingToRedo(),isEmpty:w(this,gt,Fh).call(this)})}addCommands(t){d(this,es).add(t),w(this,gt,Nn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:w(this,gt,Fh).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...d(this,se)],e=()=>{for(const r of t)r.remove()},i=()=>{for(const r of t)w(this,gt,lv).call(this,r)};this.addCommands({cmd:e,undo:i,mustExec:!0})}commitOrRemove(){var t;(t=d(this,fi))==null||t.commitOrRemove()}hasSomethingToControl(){return d(this,fi)||this.hasSelection}selectAll(){for(const t of d(this,se))t.commit();w(this,gt,ov).call(this,d(this,Ke).values())}unselectAll(){if(!(d(this,fi)&&(d(this,fi).commitOrRemove(),d(this,on)!==It.NONE))&&this.hasSelection){for(const t of d(this,se))t.unselect();d(this,se).clear(),w(this,gt,Nn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;d(this,Ar)[0]+=t,d(this,Ar)[1]+=e;const[r,o]=d(this,Ar),u=[...d(this,se)],h=1e3;d(this,ws)&&clearTimeout(d(this,ws)),x(this,ws,setTimeout(()=>{x(this,ws,null),d(this,Ar)[0]=d(this,Ar)[1]=0,this.addCommands({cmd:()=>{for(const f of u)d(this,Ke).has(f.id)&&f.translateInPage(r,o)},undo:()=>{for(const f of u)d(this,Ke).has(f.id)&&f.translateInPage(-r,-o)},mustExec:!1})},h));for(const f of u)f.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),x(this,Es,new Map);for(const t of d(this,se))d(this,Es).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!d(this,Es))return!1;this.disableUserSelect(!1);const t=d(this,Es);x(this,Es,null);let e=!1;for(const[{x:r,y:o,pageIndex:u},h]of t)h.newX=r,h.newY=o,h.newPageIndex=u,e||(e=r!==h.savedX||o!==h.savedY||u!==h.savedPageIndex);if(!e)return!1;const i=(r,o,u,h)=>{if(d(this,Ke).has(r.id)){const f=d(this,gn).get(h);f?r._setParentAndPosition(f,o,u):(r.pageIndex=h,r.x=o,r.y=u)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:u,newPageIndex:h}]of t)i(r,o,u,h)},undo:()=>{for(const[r,{savedX:o,savedY:u,savedPageIndex:h}]of t)i(r,o,u,h)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(d(this,Es))for(const i of d(this,Es).keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||d(this,se).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return d(this,fi)===t}getActive(){return d(this,fi)}getMode(){return d(this,on)}get imageManager(){return Yt(this,"imageManager",new ev)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let p=0,g=e.rangeCount;p<g;p++)if(!t.contains(e.getRangeAt(p).commonAncestorContainer))return null;const{x:i,y:r,width:o,height:u}=t.getBoundingClientRect();let h;switch(t.getAttribute("data-main-rotation")){case"90":h=(p,g,b,v)=>({x:(g-r)/u,y:1-(p+b-i)/o,width:v/u,height:b/o});break;case"180":h=(p,g,b,v)=>({x:1-(p+b-i)/o,y:1-(g+v-r)/u,width:b/o,height:v/u});break;case"270":h=(p,g,b,v)=>({x:1-(g+v-r)/u,y:(p-i)/o,width:v/u,height:b/o});break;default:h=(p,g,b,v)=>({x:(p-i)/o,y:(g-r)/u,width:b/o,height:v/u});break}const f=[];for(let p=0,g=e.rangeCount;p<g;p++){const b=e.getRangeAt(p);if(!b.collapsed)for(const{x:v,y:A,width:E,height:T}of b.getClientRects())E===0||T===0||f.push(h(v,A,E,T))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:t,id:e}){(d(this,Ou)||x(this,Ou,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=d(this,Ou))==null||e.delete(t)}renderAnnotationElement(t){var r;const e=(r=d(this,Ou))==null?void 0:r.get(t.data.id);if(!e)return;const i=d(this,ca).getRawValue(e);i&&(d(this,on)===It.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}};Du=new WeakMap,fi=new WeakMap,Ke=new WeakMap,gn=new WeakMap,Lu=new WeakMap,ca=new WeakMap,Ou=new WeakMap,es=new WeakMap,gr=new WeakMap,Nu=new WeakMap,El=new WeakMap,Es=new WeakMap,ns=new WeakMap,_l=new WeakMap,fd=new WeakMap,pd=new WeakMap,Pu=new WeakMap,gd=new WeakMap,_s=new WeakMap,mr=new WeakMap,zu=new WeakMap,yr=new WeakMap,xs=new WeakMap,zg=new WeakMap,br=new WeakMap,md=new WeakMap,vr=new WeakMap,xl=new WeakMap,yd=new WeakMap,bd=new WeakMap,on=new WeakMap,se=new WeakMap,ha=new WeakMap,wl=new WeakMap,vd=new WeakMap,Ad=new WeakMap,Ar=new WeakMap,ws=new WeakMap,da=new WeakMap,Sd=new WeakMap,zi=new WeakMap,gt=new WeakSet,Zp=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},iv=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of d(this,gn).values())if(i.hasTextLayer(t))return i;return null},Mx=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=w(this,gt,Zp).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(d(this,xs)||x(this,xs,new fM(this)),d(this,xs).show(i,r,this.direction==="ltr"))},Dx=function(){var o,u,h;const t=document.getSelection();if(!t||t.isCollapsed){d(this,ha)&&((o=d(this,xs))==null||o.hide(),x(this,ha,null),w(this,gt,Nn).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===d(this,ha))return;const r=w(this,gt,Zp).call(this,t).closest(".textLayer");if(!r){d(this,ha)&&((u=d(this,xs))==null||u.hide(),x(this,ha,null),w(this,gt,Nn).call(this,{hasSelectedText:!1}));return}if((h=d(this,xs))==null||h.hide(),x(this,ha,e),w(this,gt,Nn).call(this,{hasSelectedText:!0}),!(d(this,on)!==It.HIGHLIGHT&&d(this,on)!==It.NONE)&&(d(this,on)===It.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),x(this,yr,this.isShiftKeyDown),!this.isShiftKeyDown)){const f=d(this,on)===It.HIGHLIGHT?w(this,gt,iv).call(this,r):null;f==null||f.toggleDrawing();const p=new AbortController,g=this.combinedSignal(p),b=v=>{v.type==="pointerup"&&v.button!==0||(p.abort(),f==null||f.toggleDrawing(!0),v.type==="pointerup"&&w(this,gt,Jp).call(this,"main_toolbar"))};window.addEventListener("pointerup",b,{signal:g}),window.addEventListener("blur",b,{signal:g})}},Jp=function(t=""){d(this,on)===It.HIGHLIGHT?this.highlightSelection(t):d(this,fd)&&w(this,gt,Mx).call(this)},Lx=function(){document.addEventListener("selectionchange",w(this,gt,Dx).bind(this),{signal:this._signal})},Ox=function(){if(d(this,mr))return;x(this,mr,new AbortController);const t=this.combinedSignal(d(this,mr));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},Nx=function(){var t;(t=d(this,mr))==null||t.abort(),x(this,mr,null)},sv=function(){if(d(this,vr))return;x(this,vr,new AbortController);const t=this.combinedSignal(d(this,vr));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},Px=function(){var t;(t=d(this,vr))==null||t.abort(),x(this,vr,null)},av=function(){if(d(this,gr))return;x(this,gr,new AbortController);const t=this.combinedSignal(d(this,gr));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},rv=function(){var t;(t=d(this,gr))==null||t.abort(),x(this,gr,null)},zx=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},Nn=function(t){Object.entries(t).some(([i,r])=>d(this,Ad)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(d(this,Ad),t)}),d(this,on)===It.HIGHLIGHT&&t.hasSelectedEditor===!1&&w(this,gt,cr).call(this,[[Dt.HIGHLIGHT_FREE,!0]]))},cr=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},Ix=async function(){if(!d(this,br)){x(this,br,!0);const t=[];for(const e of d(this,gn).values())t.push(e.enable());await Promise.all(t);for(const e of d(this,Ke).values())e.enable()}},Fx=function(){if(this.unselectAll(),d(this,br)){x(this,br,!1);for(const t of d(this,gn).values())t.disable();for(const t of d(this,Ke).values())t.disable()}},lv=function(t){const e=d(this,gn).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},Hx=function(){let t=null;for(t of d(this,se));return t},Fh=function(){if(d(this,Ke).size===0)return!0;if(d(this,Ke).size===1)for(const t of d(this,Ke).values())return t.isEmpty();return!1},ov=function(t){for(const e of d(this,se))e.unselect();d(this,se).clear();for(const e of t)e.isEmpty()||(d(this,se).add(e),e.select());w(this,gt,Nn).call(this,{hasSelectedEditor:this.hasSelection})},Mt(Eu,"TRANSLATE_SMALL",1),Mt(Eu,"TRANSLATE_BIG",10);let mo=Eu;var un,Ts,is,Iu,Cs,pi,Fu,Rs,Qn,fa,Tl,ks,Sr,fs,Hh,tg;const Pn=class Pn{constructor(t){k(this,fs);k(this,un,null);k(this,Ts,!1);k(this,is,null);k(this,Iu,null);k(this,Cs,null);k(this,pi,null);k(this,Fu,!1);k(this,Rs,null);k(this,Qn,null);k(this,fa,null);k(this,Tl,null);k(this,ks,!1);x(this,Qn,t),x(this,ks,t._uiManager.useNewAltTextFlow),d(Pn,Sr)||x(Pn,Sr,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){Pn._l10n??(Pn._l10n=t)}async render(){const t=x(this,is,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=x(this,Iu,document.createElement("span"));t.append(e),d(this,ks)?(t.classList.add("new"),t.setAttribute("data-l10n-id",d(Pn,Sr).missing),e.setAttribute("data-l10n-id",d(Pn,Sr)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=d(this,Qn)._uiManager._signal;t.addEventListener("contextmenu",Vi,{signal:i}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:i});const r=o=>{o.preventDefault(),d(this,Qn)._uiManager.editAltText(d(this,Qn)),d(this,ks)&&d(this,Qn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:d(this,fs,Hh)}})};return t.addEventListener("click",r,{capture:!0,signal:i}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(x(this,Fu,!0),r(o))},{signal:i}),await w(this,fs,tg).call(this),t}finish(){d(this,is)&&(d(this,is).focus({focusVisible:d(this,Fu)}),x(this,Fu,!1))}isEmpty(){return d(this,ks)?d(this,un)===null:!d(this,un)&&!d(this,Ts)}hasData(){return d(this,ks)?d(this,un)!==null||!!d(this,fa):this.isEmpty()}get guessedText(){return d(this,fa)}async setGuessedText(t){d(this,un)===null&&(x(this,fa,t),x(this,Tl,await Pn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),w(this,fs,tg).call(this))}toggleAltTextBadge(t=!1){var e;if(!d(this,ks)||d(this,un)){(e=d(this,Rs))==null||e.remove(),x(this,Rs,null);return}if(!d(this,Rs)){const i=x(this,Rs,document.createElement("div"));i.className="noAltTextBadge",d(this,Qn).div.append(i)}d(this,Rs).classList.toggle("hidden",!t)}serialize(t){let e=d(this,un);return!t&&d(this,fa)===e&&(e=d(this,Tl)),{altText:e,decorative:d(this,Ts),guessedText:d(this,fa),textWithDisclaimer:d(this,Tl)}}get data(){return{altText:d(this,un),decorative:d(this,Ts)}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:r,cancel:o=!1}){i&&(x(this,fa,i),x(this,Tl,r)),!(d(this,un)===t&&d(this,Ts)===e)&&(o||(x(this,un,t),x(this,Ts,e)),w(this,fs,tg).call(this))}toggle(t=!1){d(this,is)&&(!t&&d(this,pi)&&(clearTimeout(d(this,pi)),x(this,pi,null)),d(this,is).disabled=!t)}shown(){d(this,Qn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:d(this,fs,Hh)}})}destroy(){var t,e;(t=d(this,is))==null||t.remove(),x(this,is,null),x(this,Iu,null),x(this,Cs,null),(e=d(this,Rs))==null||e.remove(),x(this,Rs,null)}};un=new WeakMap,Ts=new WeakMap,is=new WeakMap,Iu=new WeakMap,Cs=new WeakMap,pi=new WeakMap,Fu=new WeakMap,Rs=new WeakMap,Qn=new WeakMap,fa=new WeakMap,Tl=new WeakMap,ks=new WeakMap,Sr=new WeakMap,fs=new WeakSet,Hh=function(){return d(this,un)&&"added"||d(this,un)===null&&this.guessedText&&"review"||"missing"},tg=async function(){var r,o,u;const t=d(this,is);if(!t)return;if(d(this,ks)){if(t.classList.toggle("done",!!d(this,un)),t.setAttribute("data-l10n-id",d(Pn,Sr)[d(this,fs,Hh)]),(r=d(this,Iu))==null||r.setAttribute("data-l10n-id",d(Pn,Sr)[`${d(this,fs,Hh)}-label`]),!d(this,un)){(o=d(this,Cs))==null||o.remove();return}}else{if(!d(this,un)&&!d(this,Ts)){t.classList.remove("done"),(u=d(this,Cs))==null||u.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=d(this,Cs);if(!e){x(this,Cs,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${d(this,Qn).id}`;const h=100,f=d(this,Qn)._uiManager._signal;f.addEventListener("abort",()=>{clearTimeout(d(this,pi)),x(this,pi,null)},{once:!0}),t.addEventListener("mouseenter",()=>{x(this,pi,setTimeout(()=>{x(this,pi,null),d(this,Cs).classList.add("show"),d(this,Qn)._reportTelemetry({action:"alt_text_tooltip"})},h))},{signal:f}),t.addEventListener("mouseleave",()=>{var p;d(this,pi)&&(clearTimeout(d(this,pi)),x(this,pi,null)),(p=d(this,Cs))==null||p.classList.remove("show")},{signal:f})}d(this,Ts)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=d(this,un)),e.parentNode||t.append(e);const i=d(this,Qn).getImageForAltText();i==null||i.setAttribute("aria-describedby",e.id)},k(Pn,Sr,null),Mt(Pn,"_l10n",null);let Tg=Pn;var Cl,ss,Te,Hu,Rl,mn,kl,Er,Ed,Ml,_r,_d,Dl,pa,Ms,Bu,Uu,Ii,xd,Ig,Ft,uv,wd,cv,hv,Bx,Ux,dv,fv,pv,jx,gv,qx,Gx,Vx,mv,Bh;const ee=class ee{constructor(t){k(this,Ft);k(this,Cl,null);k(this,ss,null);k(this,Te,null);k(this,Hu,!1);k(this,Rl,!1);k(this,mn,null);k(this,kl,null);k(this,Er,null);k(this,Ed,"");k(this,Ml,!1);k(this,_r,null);k(this,_d,!1);k(this,Dl,!1);k(this,pa,!1);k(this,Ms,null);k(this,Bu,0);k(this,Uu,0);k(this,Ii,null);Mt(this,"_editToolbar",null);Mt(this,"_initialOptions",Object.create(null));Mt(this,"_initialData",null);Mt(this,"_isVisible",!0);Mt(this,"_uiManager",null);Mt(this,"_focusEventsAllowed",!0);k(this,xd,!1);k(this,Ig,ee._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:r,pageX:o,pageY:u}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[o,u];const[h,f]=this.parentDimensions;this.x=t.x/h,this.y=t.y/f,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=ee.prototype._resizeWithKeyboard,e=mo.TRANSLATE_SMALL,i=mo.TRANSLATE_BIG;return Yt(this,"_resizerKeyboardManager",new xf([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],ee.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Yt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new yM({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(ee._l10n??(ee._l10n=t),ee._l10nResizer||(ee._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),ee._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);ee._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Ae("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return d(this,xd)}set _isDraggable(t){var e;x(this,xd,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=d(this,Ig)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):w(this,Ft,Bh).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(d(this,Ml)?x(this,Ml,!1):this.parent.setSelected(this))}focusout(t){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,r){const[o,u]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(t+i)/o,this.y=(e+r)/u,this.fixAndSetPosition()}translate(t,e){w(this,Ft,uv).call(this,this.parentDimensions,t,e)}translateInPage(t,e){d(this,_r)||x(this,_r,[this.x,this.y]),w(this,Ft,uv).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){d(this,_r)||x(this,_r,[this.x,this.y]);const[i,r]=this.parentDimensions;if(this.x+=t/i,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:u}=this;const[h,f]=this.getBaseTranslation();o+=h,u+=f,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*u).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!d(this,_r)&&(d(this,_r)[0]!==this.x||d(this,_r)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=ee,r=i/t,o=i/e;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,i]=this.pageDimensions;let{x:r,y:o,width:u,height:h}=this;if(u*=e,h*=i,r*=e,o*=i,this._mustFixPosition)switch(t){case 0:r=Math.max(0,Math.min(e-u,r)),o=Math.max(0,Math.min(i-h,o));break;case 90:r=Math.max(0,Math.min(e-h,r)),o=Math.min(i,Math.max(u,o));break;case 180:r=Math.min(e,Math.max(u,r)),o=Math.min(i,Math.max(h,o));break;case 270:r=Math.min(e,Math.max(h,r)),o=Math.max(0,Math.min(i-u,o));break}this.x=r/=e,this.y=o/=i;const[f,p]=this.getBaseTranslation();r+=f,o+=p;const{style:g}=this.div;g.left=`${(100*r).toFixed(2)}%`,g.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var i;return w(i=ee,wd,cv).call(i,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var i;return w(i=ee,wd,cv).call(i,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(t,e){const[i,r]=this.parentDimensions;this.div.style.width=`${(100*t/i).toFixed(2)}%`,d(this,Rl)||(this.div.style.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:i}=t,r=i.endsWith("%"),o=!d(this,Rl)&&e.endsWith("%");if(r&&o)return;const[u,h]=this.parentDimensions;r||(t.width=`${(100*parseFloat(i)/u).toFixed(2)}%`),!d(this,Rl)&&!o&&(t.height=`${(100*parseFloat(e)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=d(this,Te))==null||t.finish()}async addEditToolbar(){return this._editToolbar||d(this,Dl)?this._editToolbar:(this._editToolbar=new Jb(this),this.div.append(this._editToolbar.render()),d(this,Te)&&await this._editToolbar.addAltText(d(this,Te)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=d(this,Te))==null||t.destroy())}addContainer(t){var i;const e=(i=this._editToolbar)==null?void 0:i.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){d(this,Te)||(Tg.initialize(ee._l10n),x(this,Te,new Tg(this)),d(this,Cl)&&(d(this,Te).data=d(this,Cl),x(this,Cl,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=d(this,Te))==null?void 0:t.data}set altTextData(t){d(this,Te)&&(d(this,Te).data=t)}get guessedAltText(){var t;return(t=d(this,Te))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=d(this,Te))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=d(this,Te))==null?void 0:e.serialize(t)}hasAltText(){return!!d(this,Te)&&!d(this,Te).isEmpty()}hasAltTextData(){var t;return((t=d(this,Te))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=d(this,Hu)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),w(this,Ft,gv).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[i,r]=this.getInitialTranslation();return this.translate(i,r),wg(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=In.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(x(this,Ml,!0),this._isDraggable){w(this,Ft,jx).call(this,t);return}w(this,Ft,pv).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){d(this,Ms)&&clearTimeout(d(this,Ms)),x(this,Ms,setTimeout(()=>{var t;x(this,Ms,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition()}getRect(t,e,i=this.rotation){const r=this.parentScale,[o,u]=this.pageDimensions,[h,f]=this.pageTranslation,p=t/r,g=e/r,b=this.x*o,v=this.y*u,A=this.width*o,E=this.height*u;switch(i){case 0:return[b+p+h,u-v-g-E+f,b+p+A+h,u-v-g+f];case 90:return[b+g+h,u-v+p+f,b+g+E+h,u-v+p+A+f];case 180:return[b-p-A+h,u-v+g+f,b-p+h,u-v+g+E+f];case 270:return[b-g-E+h,u-v-p-A+f,b-g+h,u-v-p+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,r,o,u]=t,h=o-i,f=u-r;switch(this.rotation){case 0:return[i,e-u,h,f];case 90:return[i,e-r,f,h];case 180:return[o,e-r,h,f];case 270:return[o,e-u,f,h];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){x(this,Dl,!0)}disableEditMode(){x(this,Dl,!1)}isInEditMode(){return d(this,Dl)}shouldGetKeyboardEvents(){return d(this,pa)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){w(this,Ft,gv).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){Ae("An editor must be serializable")}static async deserialize(t,e,i){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i});r.rotation=t.rotation,x(r,Cl,t.accessibilityData);const[o,u]=r.pageDimensions,[h,f,p,g]=r.getRectInCurrentCoords(t.rect,u);return r.x=h/o,r.y=f/u,r.width=p/o,r.height=g/u,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=d(this,Er))==null||t.abort(),x(this,Er,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),d(this,Ms)&&(clearTimeout(d(this,Ms)),x(this,Ms,null)),w(this,Ft,Bh).call(this),this.removeEditToolbar(),d(this,Ii)){for(const e of d(this,Ii).values())clearTimeout(e);x(this,Ii,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(w(this,Ft,Bx).call(this),d(this,mn).classList.remove("hidden"),wg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),x(this,kl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=d(this,mn).children;if(!d(this,ss)){x(this,ss,Array.from(e));const u=w(this,Ft,qx).bind(this),h=w(this,Ft,Gx).bind(this),f=this._uiManager._signal;for(const p of d(this,ss)){const g=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",u,{signal:f}),p.addEventListener("blur",h,{signal:f}),p.addEventListener("focus",w(this,Ft,Vx).bind(this,g),{signal:f}),p.setAttribute("data-l10n-id",ee._l10nResizer[g])}}const i=d(this,ss)[0];let r=0;for(const u of e){if(u===i)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(d(this,ss).length/4);if(o!==r){if(o<r)for(let h=0;h<r-o;h++)d(this,mn).append(d(this,mn).firstChild);else if(o>r)for(let h=0;h<o-r;h++)d(this,mn).firstChild.before(d(this,mn).lastChild);let u=0;for(const h of e){const p=d(this,ss)[u++].getAttribute("data-resizer-name");h.setAttribute("data-l10n-id",ee._l10nResizer[p])}}w(this,Ft,mv).call(this,0),x(this,pa,!0),d(this,mn).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){d(this,pa)&&w(this,Ft,fv).call(this,d(this,Ed),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){w(this,Ft,Bh).call(this),this.div.focus()}select(){var t,e,i;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,o;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(e=this._editToolbar)==null||e.show(),(i=d(this,Te))==null||i.toggleAltTextBadge(!1)}unselect(){var t,e,i,r,o;(t=d(this,mn))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(o=d(this,Te))==null||o.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return d(this,_d)}set isEditing(t){x(this,_d,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){x(this,Rl,!0);const i=t/e,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){d(this,Ii)||x(this,Ii,new Map);const{action:i}=t;let r=d(this,Ii).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),d(this,Ii).delete(i),d(this,Ii).size===0&&x(this,Ii,null)},ee._telemetryTimeout),d(this,Ii).set(i,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),x(this,Hu,!1)}disable(){this.div&&(this.div.tabIndex=-1),x(this,Hu,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};Cl=new WeakMap,ss=new WeakMap,Te=new WeakMap,Hu=new WeakMap,Rl=new WeakMap,mn=new WeakMap,kl=new WeakMap,Er=new WeakMap,Ed=new WeakMap,Ml=new WeakMap,_r=new WeakMap,_d=new WeakMap,Dl=new WeakMap,pa=new WeakMap,Ms=new WeakMap,Bu=new WeakMap,Uu=new WeakMap,Ii=new WeakMap,xd=new WeakMap,Ig=new WeakMap,Ft=new WeakSet,uv=function([t,e],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/t,this.y+=r/e,this.fixAndSetPosition()},wd=new WeakSet,cv=function(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},hv=function(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}},Bx=function(){if(d(this,mn))return;x(this,mn,document.createElement("div")),d(this,mn).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const r=document.createElement("div");d(this,mn).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",w(this,Ft,Ux).bind(this,i),{signal:e}),r.addEventListener("contextmenu",Vi,{signal:e}),r.tabIndex=-1}this.div.prepend(d(this,mn))},Ux=function(t,e){var E;e.preventDefault();const{isMac:i}=In.platform;if(e.button!==0||e.ctrlKey&&i)return;(E=d(this,Te))==null||E.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const o=new AbortController,u=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",w(this,Ft,fv).bind(this,t),{passive:!0,capture:!0,signal:u}),window.addEventListener("contextmenu",Vi,{signal:u});const h=this.x,f=this.y,p=this.width,g=this.height,b=this.parent.div.style.cursor,v=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const A=()=>{var T;o.abort(),this.parent.togglePointerEvents(!0),(T=d(this,Te))==null||T.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=b,this.div.style.cursor=v,w(this,Ft,dv).call(this,h,f,p,g)};window.addEventListener("pointerup",A,{signal:u}),window.addEventListener("blur",A,{signal:u})},dv=function(t,e,i,r){const o=this.x,u=this.y,h=this.width,f=this.height;o===t&&u===e&&h===i&&f===r||this.addCommands({cmd:()=>{this.width=h,this.height=f,this.x=o,this.y=u;const[p,g]=this.parentDimensions;this.setDims(p*h,g*f),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=r,this.x=t,this.y=e;const[p,g]=this.parentDimensions;this.setDims(p*i,g*r),this.fixAndSetPosition()},mustExec:!0})},fv=function(t,e){const[i,r]=this.parentDimensions,o=this.x,u=this.y,h=this.width,f=this.height,p=ee.MIN_SIZE/i,g=ee.MIN_SIZE/r,b=G=>Math.round(G*1e4)/1e4,v=w(this,Ft,hv).call(this,this.rotation),A=(G,et)=>[v[0]*G+v[2]*et,v[1]*G+v[3]*et],E=w(this,Ft,hv).call(this,360-this.rotation),T=(G,et)=>[E[0]*G+E[2]*et,E[1]*G+E[3]*et];let D,C,P=!1,N=!1;switch(t){case"topLeft":P=!0,D=(G,et)=>[0,0],C=(G,et)=>[G,et];break;case"topMiddle":D=(G,et)=>[G/2,0],C=(G,et)=>[G/2,et];break;case"topRight":P=!0,D=(G,et)=>[G,0],C=(G,et)=>[0,et];break;case"middleRight":N=!0,D=(G,et)=>[G,et/2],C=(G,et)=>[0,et/2];break;case"bottomRight":P=!0,D=(G,et)=>[G,et],C=(G,et)=>[0,0];break;case"bottomMiddle":D=(G,et)=>[G/2,et],C=(G,et)=>[G/2,0];break;case"bottomLeft":P=!0,D=(G,et)=>[0,et],C=(G,et)=>[G,0];break;case"middleLeft":N=!0,D=(G,et)=>[0,et/2],C=(G,et)=>[G,et/2];break}const I=D(h,f),F=C(h,f);let L=A(...F);const q=b(o+L[0]),K=b(u+L[1]);let tt=1,ot=1,[Q,it]=this.screenToPageTranslation(e.movementX,e.movementY);if([Q,it]=T(Q/i,it/r),P){const G=Math.hypot(h,f);tt=ot=Math.max(Math.min(Math.hypot(F[0]-I[0]-Q,F[1]-I[1]-it)/G,1/h,1/f),p/h,g/f)}else N?tt=Math.max(p,Math.min(1,Math.abs(F[0]-I[0]-Q)))/h:ot=Math.max(g,Math.min(1,Math.abs(F[1]-I[1]-it)))/f;const st=b(h*tt),J=b(f*ot);L=A(...C(st,J));const at=q-L[0],H=K-L[1];this.width=st,this.height=J,this.x=at,this.y=H,this.setDims(i*st,r*J),this.fixAndSetPosition()},pv=function(t){const{isMac:e}=In.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},jx=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const i=new AbortController,r=this._uiManager.combinedSignal(i);if(e){this.div.classList.add("moving"),x(this,Bu,t.clientX),x(this,Uu,t.clientY);const u=h=>{const{clientX:f,clientY:p}=h,[g,b]=this.screenToPageTranslation(f-d(this,Bu),p-d(this,Uu));x(this,Bu,f),x(this,Uu,p),this._uiManager.dragSelectedEditors(g,b)};window.addEventListener("pointermove",u,{passive:!0,capture:!0,signal:r})}const o=()=>{i.abort(),e&&this.div.classList.remove("moving"),x(this,Ml,!1),this._uiManager.endDragSession()||w(this,Ft,pv).call(this,t)};window.addEventListener("pointerup",o,{signal:r}),window.addEventListener("blur",o,{signal:r})},gv=function(){if(d(this,Er)||!this.div)return;x(this,Er,new AbortController);const t=this._uiManager.combinedSignal(d(this,Er));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},qx=function(t){ee._resizerKeyboardManager.exec(this,t)},Gx=function(t){var e;d(this,pa)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==d(this,mn)&&w(this,Ft,Bh).call(this)},Vx=function(t){x(this,Ed,d(this,pa)?t:"")},mv=function(t){if(d(this,ss))for(const e of d(this,ss))e.tabIndex=t},Bh=function(){if(x(this,pa,!1),w(this,Ft,mv).call(this,-1),d(this,kl)){const{savedX:t,savedY:e,savedWidth:i,savedHeight:r}=d(this,kl);w(this,Ft,dv).call(this,t,e,i,r),x(this,kl,null)}},k(ee,wd),Mt(ee,"_l10n",null),Mt(ee,"_l10nResizer",null),Mt(ee,"_borderLineWidth",-1),Mt(ee,"_colorManager",new nv),Mt(ee,"_zIndex",1),Mt(ee,"_telemetryTimeout",1e3);let re=ee;class yM extends re{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const l_=3285377520,Pi=4294901760,As=65535;class Xx{constructor(t){this.h1=t?t&4294967295:l_,this.h2=t?t&4294967295:l_}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let T=0,D=t.length;T<D;T++){const C=t.charCodeAt(T);C<=255?e[i++]=C:(e[i++]=C>>>8,e[i++]=C&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,o=i-r*4,u=new Uint32Array(e.buffer,0,r);let h=0,f=0,p=this.h1,g=this.h2;const b=3432918353,v=461845907,A=b&As,E=v&As;for(let T=0;T<r;T++)T&1?(h=u[T],h=h*b&Pi|h*A&As,h=h<<15|h>>>17,h=h*v&Pi|h*E&As,p^=h,p=p<<13|p>>>19,p=p*5+3864292196):(f=u[T],f=f*b&Pi|f*A&As,f=f<<15|f>>>17,f=f*v&Pi|f*E&As,g^=f,g=g<<13|g>>>19,g=g*5+3864292196);switch(h=0,o){case 3:h^=e[r*4+2]<<16;case 2:h^=e[r*4+1]<<8;case 1:h^=e[r*4],h=h*b&Pi|h*A&As,h=h<<15|h>>>17,h=h*v&Pi|h*E&As,r&1?p^=h:g^=h}this.h1=p,this.h2=g}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Pi|t*36045&As,e=e*4283543511&Pi|((e<<16|t>>>16)*2950163797&Pi)>>>16,t^=e>>>1,t=t*444984403&Pi|t*60499&As,e=e*3301882366&Pi|((e<<16|t>>>16)*3120437893&Pi)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const yv=Object.freeze({map:null,hash:"",transfer:void 0});var Ll,Ol,cn,Fg,Yx;class L0{constructor(){k(this,Fg);k(this,Ll,!1);k(this,Ol,null);k(this,cn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=d(this,cn).get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return d(this,cn).get(t)}remove(t){if(d(this,cn).delete(t),d(this,cn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of d(this,cn).values())if(e instanceof re)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=d(this,cn).get(t);let r=!1;if(i!==void 0)for(const[o,u]of Object.entries(e))i[o]!==u&&(r=!0,i[o]=u);else r=!0,d(this,cn).set(t,e);r&&w(this,Fg,Yx).call(this),e instanceof re&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return d(this,cn).has(t)}getAll(){return d(this,cn).size>0?T0(d(this,cn)):null}setAll(t){for(const[e,i]of Object.entries(t))this.setValue(e,i)}get size(){return d(this,cn).size}resetModified(){d(this,Ll)&&(x(this,Ll,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Kx(this)}get serializable(){if(d(this,cn).size===0)return yv;const t=new Map,e=new Xx,i=[],r=Object.create(null);let o=!1;for(const[u,h]of d(this,cn)){const f=h instanceof re?h.serialize(!1,r):h;f&&(t.set(u,f),e.update(`${u}:${JSON.stringify(f)}`),o||(o=!!f.bitmap))}if(o)for(const u of t.values())u.bitmap&&i.push(u.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:yv}get editorStats(){let t=null;const e=new Map;for(const i of d(this,cn).values()){if(!(i instanceof re))continue;const r=i.telemetryFinalData;if(!r)continue;const{type:o}=r;e.has(o)||e.set(o,Object.getPrototypeOf(i).constructor),t||(t=Object.create(null));const u=t[o]||(t[o]=new Map);for(const[h,f]of Object.entries(r)){if(h==="type")continue;let p=u.get(h);p||(p=new Map,u.set(h,p));const g=p.get(f)??0;p.set(f,g+1)}}for(const[i,r]of e)t[i]=r.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){x(this,Ol,null)}get modifiedIds(){if(d(this,Ol))return d(this,Ol);const t=[];for(const e of d(this,cn).values())!(e instanceof re)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return x(this,Ol,{ids:new Set(t),hash:t.join(",")})}}Ll=new WeakMap,Ol=new WeakMap,cn=new WeakMap,Fg=new WeakSet,Yx=function(){d(this,Ll)||(x(this,Ll,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Td;class Kx extends L0{constructor(e){super();k(this,Td);const{map:i,hash:r,transfer:o}=e.serializable,u=structuredClone(i,o?{transfer:o}:null);x(this,Td,{map:u,hash:r,transfer:o})}get print(){Ae("Should not call PrintAnnotationStorage.print")}get serializable(){return d(this,Td)}get modifiedIds(){return Yt(this,"modifiedIds",{ids:new Set,hash:""})}}Td=new WeakMap;var ju;class bM{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){k(this,ju,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),d(this,ju).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||d(this,ju).has(t.loadedName))){if($e(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:r,style:o}=t,u=new FontFace(i,r,o);this.addNativeFontFace(u);try{await u.load(),d(this,ju).add(i),e==null||e(t)}catch{Bt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}Ae("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw Bt(`Failed to load font '${i.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Yt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(kn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Yt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for($e(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const o=i.shift();setTimeout(o.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:e,callback:t};return i.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Yt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(I,F){return I.charCodeAt(F)<<24|I.charCodeAt(F+1)<<16|I.charCodeAt(F+2)<<8|I.charCodeAt(F+3)&255}function r(I,F,L,q){const K=I.substring(0,F),tt=I.substring(F+L);return K+q+tt}let o,u;const h=this._document.createElement("canvas");h.width=1,h.height=1;const f=h.getContext("2d");let p=0;function g(I,F){if(++p>30){Bt("Load test font never loaded."),F();return}if(f.font="30px "+I,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){F();return}setTimeout(g.bind(null,I,F))}const b=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=r(v,976,b.length,b);const E=16,T=1482184792;let D=i(v,E);for(o=0,u=b.length-3;o<u;o+=4)D=D-T+i(b,o)|0;o<b.length&&(D=D-T+i(b+"XXX",o)|0),v=r(v,E,4,nM(D));const C=`url(data:font/opentype;base64,${btoa(v)});`,P=`@font-face {font-family:"${b}";src:${C}}`;this.insertRule(P);const N=this._document.createElement("div");N.style.visibility="hidden",N.style.width=N.style.height="10px",N.style.position="absolute",N.style.top=N.style.left="0px";for(const I of[t.loadedName,b]){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=I,N.append(F)}this._document.body.append(N),g(b,()=>{N.remove(),e.complete()})}}ju=new WeakMap;class vM{constructor(t,{disableFontFace:e=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const r in t)this[r]=t[r];this.disableFontFace=e===!0,this._inspectFont=i}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${oM(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let i;try{i=t.get(this.loadedName+"_path_"+e)}catch(o){Bt(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[e]=function(o,u){};const r=[];for(let o=0,u=i.length;o<u;)switch(i[o++]){case aa.BEZIER_CURVE_TO:{const[h,f,p,g,b,v]=i.slice(o,o+6);r.push(A=>A.bezierCurveTo(h,f,p,g,b,v)),o+=6}break;case aa.MOVE_TO:{const[h,f]=i.slice(o,o+2);r.push(p=>p.moveTo(h,f)),o+=2}break;case aa.LINE_TO:{const[h,f]=i.slice(o,o+2);r.push(p=>p.lineTo(h,f)),o+=2}break;case aa.QUADRATIC_CURVE_TO:{const[h,f,p,g]=i.slice(o,o+4);r.push(b=>b.quadraticCurveTo(h,f,p,g)),o+=4}break;case aa.RESTORE:r.push(h=>h.restore());break;case aa.SAVE:r.push(h=>h.save());break;case aa.SCALE:$e(r.length===2,"Scale command is only valid at the third position.");break;case aa.TRANSFORM:{const[h,f,p,g,b,v]=i.slice(o,o+6);r.push(A=>A.transform(h,f,p,g,b,v)),o+=6}break;case aa.TRANSLATE:{const[h,f]=i.slice(o,o+2);r.push(p=>p.translate(h,f)),o+=2}break}return this.compiledGlyphs[e]=function(u,h){r[0](u),r[1](u),u.scale(h,-h);for(let f=2,p=r.length;f<p;f++)r[f](u)}}}var Cd;class Qx{constructor({enableHWA:t=!1}){k(this,Cd,!1);x(this,Cd,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!d(this,Cd)})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Ae("Abstract method `_createCanvas` called.")}}Cd=new WeakMap;class AM extends Qx{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class Wx{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Ae("Abstract method `_fetch` called.")}}class $x extends Wx{async _fetch(t){const e=await tm(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Jg(e)}}class Zx{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,r,o){return"none"}destroy(t=!1){}}var Nl,Pl,Ds,ga,wn,Hg,zl,mt,_n,pu,gu,eg,mu,Jx,bv,yu,Uh,jh,vv,qh;class SM extends Zx{constructor({docId:e,ownerDocument:i=globalThis.document}){super();k(this,mt);k(this,Nl);k(this,Pl);k(this,Ds);k(this,ga);k(this,wn);k(this,Hg);k(this,zl,0);x(this,ga,e),x(this,wn,i)}addFilter(e){if(!e)return"none";let i=d(this,mt,_n).get(e);if(i)return i;const[r,o,u]=w(this,mt,eg).call(this,e),h=e.length===1?r:`${r}${o}${u}`;if(i=d(this,mt,_n).get(h),i)return d(this,mt,_n).set(e,i),i;const f=`g_${d(this,ga)}_transfer_map_${On(this,zl)._++}`,p=w(this,mt,mu).call(this,f);d(this,mt,_n).set(e,p),d(this,mt,_n).set(h,p);const g=w(this,mt,yu).call(this,f);return w(this,mt,jh).call(this,r,o,u,g),p}addHCMFilter(e,i){var E;const r=`${e}-${i}`,o="base";let u=d(this,mt,pu).get(o);if((u==null?void 0:u.key)===r||(u?((E=u.filter)==null||E.remove(),u.key=r,u.url="none",u.filter=null):(u={key:r,url:"none",filter:null},d(this,mt,pu).set(o,u)),!e||!i))return u.url;const h=w(this,mt,qh).call(this,e);e=bt.makeHexColor(...h);const f=w(this,mt,qh).call(this,i);if(i=bt.makeHexColor(...f),d(this,mt,gu).style.color="",e==="#000000"&&i==="#ffffff"||e===i)return u.url;const p=new Array(256);for(let T=0;T<=255;T++){const D=T/255;p[T]=D<=.03928?D/12.92:((D+.055)/1.055)**2.4}const g=p.join(","),b=`g_${d(this,ga)}_hcm_filter`,v=u.filter=w(this,mt,yu).call(this,b);w(this,mt,jh).call(this,g,g,g,v),w(this,mt,bv).call(this,v);const A=(T,D)=>{const C=h[T]/255,P=f[T]/255,N=new Array(D+1);for(let I=0;I<=D;I++)N[I]=C+I/D*(P-C);return N.join(",")};return w(this,mt,jh).call(this,A(0,5),A(1,5),A(2,5),v),u.url=w(this,mt,mu).call(this,b),u.url}addAlphaFilter(e){let i=d(this,mt,_n).get(e);if(i)return i;const[r]=w(this,mt,eg).call(this,[e]),o=`alpha_${r}`;if(i=d(this,mt,_n).get(o),i)return d(this,mt,_n).set(e,i),i;const u=`g_${d(this,ga)}_alpha_map_${On(this,zl)._++}`,h=w(this,mt,mu).call(this,u);d(this,mt,_n).set(e,h),d(this,mt,_n).set(o,h);const f=w(this,mt,yu).call(this,u);return w(this,mt,vv).call(this,r,f),h}addLuminosityFilter(e){let i=d(this,mt,_n).get(e||"luminosity");if(i)return i;let r,o;if(e?([r]=w(this,mt,eg).call(this,[e]),o=`luminosity_${r}`):o="luminosity",i=d(this,mt,_n).get(o),i)return d(this,mt,_n).set(e,i),i;const u=`g_${d(this,ga)}_luminosity_map_${On(this,zl)._++}`,h=w(this,mt,mu).call(this,u);d(this,mt,_n).set(e,h),d(this,mt,_n).set(o,h);const f=w(this,mt,yu).call(this,u);return w(this,mt,Jx).call(this,f),e&&w(this,mt,vv).call(this,r,f),h}addHighlightHCMFilter(e,i,r,o,u){var P;const h=`${i}-${r}-${o}-${u}`;let f=d(this,mt,pu).get(e);if((f==null?void 0:f.key)===h||(f?((P=f.filter)==null||P.remove(),f.key=h,f.url="none",f.filter=null):(f={key:h,url:"none",filter:null},d(this,mt,pu).set(e,f)),!i||!r))return f.url;const[p,g]=[i,r].map(w(this,mt,qh).bind(this));let b=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),v=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),[A,E]=[o,u].map(w(this,mt,qh).bind(this));v<b&&([b,v,A,E]=[v,b,E,A]),d(this,mt,gu).style.color="";const T=(N,I,F)=>{const L=new Array(256),q=(v-b)/F,K=N/255,tt=(I-N)/(255*F);let ot=0;for(let Q=0;Q<=F;Q++){const it=Math.round(b+Q*q),st=K+Q*tt;for(let J=ot;J<=it;J++)L[J]=st;ot=it+1}for(let Q=ot;Q<256;Q++)L[Q]=L[ot-1];return L.join(",")},D=`g_${d(this,ga)}_hcm_${e}_filter`,C=f.filter=w(this,mt,yu).call(this,D);return w(this,mt,bv).call(this,C),w(this,mt,jh).call(this,T(A[0],E[0],5),T(A[1],E[1],5),T(A[2],E[2],5),C),f.url=w(this,mt,mu).call(this,D),f.url}destroy(e=!1){e&&d(this,mt,pu).size!==0||(d(this,Ds)&&(d(this,Ds).parentNode.parentNode.remove(),x(this,Ds,null)),d(this,Pl)&&(d(this,Pl).clear(),x(this,Pl,null)),x(this,zl,0))}}Nl=new WeakMap,Pl=new WeakMap,Ds=new WeakMap,ga=new WeakMap,wn=new WeakMap,Hg=new WeakMap,zl=new WeakMap,mt=new WeakSet,_n=function(){return d(this,Pl)||x(this,Pl,new Map)},pu=function(){return d(this,Hg)||x(this,Hg,new Map)},gu=function(){if(!d(this,Ds)){const e=d(this,wn).createElement("div"),{style:i}=e;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=d(this,wn).createElementNS(la,"svg");r.setAttribute("width",0),r.setAttribute("height",0),x(this,Ds,d(this,wn).createElementNS(la,"defs")),e.append(r),r.append(d(this,Ds)),d(this,wn).body.append(e)}return d(this,Ds)},eg=function(e){if(e.length===1){const p=e[0],g=new Array(256);for(let v=0;v<256;v++)g[v]=p[v]/255;const b=g.join(",");return[b,b,b]}const[i,r,o]=e,u=new Array(256),h=new Array(256),f=new Array(256);for(let p=0;p<256;p++)u[p]=i[p]/255,h[p]=r[p]/255,f[p]=o[p]/255;return[u.join(","),h.join(","),f.join(",")]},mu=function(e){if(d(this,Nl)===void 0){x(this,Nl,"");const i=d(this,wn).URL;i!==d(this,wn).baseURI&&(em(i)?Bt('#createUrl: ignore "data:"-URL for performance reasons.'):x(this,Nl,i.split("#",1)[0]))}return`url(${d(this,Nl)}#${e})`},Jx=function(e){const i=d(this,wn).createElementNS(la,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(i)},bv=function(e){const i=d(this,wn).createElementNS(la,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(i)},yu=function(e){const i=d(this,wn).createElementNS(la,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",e),d(this,mt,gu).append(i),i},Uh=function(e,i,r){const o=d(this,wn).createElementNS(la,i);o.setAttribute("type","discrete"),o.setAttribute("tableValues",r),e.append(o)},jh=function(e,i,r,o){const u=d(this,wn).createElementNS(la,"feComponentTransfer");o.append(u),w(this,mt,Uh).call(this,u,"feFuncR",e),w(this,mt,Uh).call(this,u,"feFuncG",i),w(this,mt,Uh).call(this,u,"feFuncB",r)},vv=function(e,i){const r=d(this,wn).createElementNS(la,"feComponentTransfer");i.append(r),w(this,mt,Uh).call(this,r,"feFuncA",e)},qh=function(e){return d(this,mt,gu).style.color=e,D0(getComputedStyle(d(this,mt,gu)).getPropertyValue("color"))};class tw{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Ae("Abstract method `_fetch` called.")}}class ew extends tw{async _fetch(t){const e=await tm(t,"arraybuffer");return new Uint8Array(e)}}if(kn){var Av=Promise.withResolvers(),td=null;(async()=>{const t=await Hp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await Hp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Hp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Hp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,u;return new Map(Object.entries({fs:t,http:e,https:i,url:r,canvas:o,path2d:u}))})().then(t=>{td=t,Av.resolve()},t=>{Bt(`loadPackages: ${t}`),td=new Map,Av.resolve()})}class Ur{static get promise(){return Av.promise}static get(t){return td==null?void 0:td.get(t)}}async function nw(a){const e=await Ur.get("fs").promises.readFile(a);return new Uint8Array(e)}class EM extends Zx{}class _M extends Qx{_createCanvas(t,e){return Ur.get("canvas").createCanvas(t,e)}}class xM extends Wx{async _fetch(t){return nw(t)}}class wM extends tw{async _fetch(t){return nw(t)}}const zn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Sv(a,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,i),a.clip(r)}class O0{getPattern(){Ae("Abstract method `getPattern` called.")}}class TM extends O0{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,r){let o;if(r===zn.STROKE||r===zn.FILL){const u=e.current.getClippedPathBoundingBox(r,Re(t))||[0,0,0,0],h=Math.ceil(u[2]-u[0])||1,f=Math.ceil(u[3]-u[1])||1,p=e.cachedCanvases.getCanvas("pattern",h,f),g=p.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-u[0],-u[1]),i=bt.transform(i,[1,0,0,1,u[0],u[1]]),g.transform(...e.baseTransform),this.matrix&&g.transform(...this.matrix),Sv(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),o=t.createPattern(p.canvas,"no-repeat");const b=new DOMMatrix(i);o.setTransform(b)}else Sv(t,this._bbox),o=this._createGradient(t);return o}}function Db(a,t,e,i,r,o,u,h){const f=t.coords,p=t.colors,g=a.data,b=a.width*4;let v;f[e+1]>f[i+1]&&(v=e,e=i,i=v,v=o,o=u,u=v),f[i+1]>f[r+1]&&(v=i,i=r,r=v,v=u,u=h,h=v),f[e+1]>f[i+1]&&(v=e,e=i,i=v,v=o,o=u,u=v);const A=(f[e]+t.offsetX)*t.scaleX,E=(f[e+1]+t.offsetY)*t.scaleY,T=(f[i]+t.offsetX)*t.scaleX,D=(f[i+1]+t.offsetY)*t.scaleY,C=(f[r]+t.offsetX)*t.scaleX,P=(f[r+1]+t.offsetY)*t.scaleY;if(E>=P)return;const N=p[o],I=p[o+1],F=p[o+2],L=p[u],q=p[u+1],K=p[u+2],tt=p[h],ot=p[h+1],Q=p[h+2],it=Math.round(E),st=Math.round(P);let J,at,H,G,et,St,_,Y;for(let rt=it;rt<=st;rt++){if(rt<D){const Tt=rt<E?0:(E-rt)/(E-D);J=A-(A-T)*Tt,at=N-(N-L)*Tt,H=I-(I-q)*Tt,G=F-(F-K)*Tt}else{let Tt;rt>P?Tt=1:D===P?Tt=0:Tt=(D-rt)/(D-P),J=T-(T-C)*Tt,at=L-(L-tt)*Tt,H=q-(q-ot)*Tt,G=K-(K-Q)*Tt}let M;rt<E?M=0:rt>P?M=1:M=(E-rt)/(E-P),et=A-(A-C)*M,St=N-(N-tt)*M,_=I-(I-ot)*M,Y=F-(F-Q)*M;const pt=Math.round(Math.min(J,et)),xt=Math.round(Math.max(J,et));let ht=b*rt+pt*4;for(let Tt=pt;Tt<=xt;Tt++)M=(J-Tt)/(J-et),M<0?M=0:M>1&&(M=1),g[ht++]=at-(at-St)*M|0,g[ht++]=H-(H-_)*M|0,g[ht++]=G-(G-Y)*M|0,g[ht++]=255}}function CM(a,t,e){const i=t.coords,r=t.colors;let o,u;switch(t.type){case"lattice":const h=t.verticesPerRow,f=Math.floor(i.length/h)-1,p=h-1;for(o=0;o<f;o++){let g=o*h;for(let b=0;b<p;b++,g++)Db(a,e,i[g],i[g+1],i[g+h],r[g],r[g+1],r[g+h]),Db(a,e,i[g+h+1],i[g+1],i[g+h],r[g+h+1],r[g+1],r[g+h])}break;case"triangles":for(o=0,u=i.length;o<u;o+=3)Db(a,e,i[o],i[o+1],i[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class RM extends O0{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,i){const h=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-h,g=Math.ceil(this._bounds[3])-f,b=Math.min(Math.ceil(Math.abs(p*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(g*t[1]*1.1)),3e3),A=p/b,E=g/v,T={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-f,scaleX:1/A,scaleY:1/E},D=b+2*2,C=v+2*2,P=i.getCanvas("mesh",D,C),N=P.context,I=N.createImageData(b,v);if(e){const L=I.data;for(let q=0,K=L.length;q<K;q+=4)L[q]=e[0],L[q+1]=e[1],L[q+2]=e[2],L[q+3]=255}for(const L of this._figures)CM(I,L,T);return N.putImageData(I,2,2),{canvas:P.canvas,offsetX:h-2*A,offsetY:f-2*E,scaleX:A,scaleY:E}}getPattern(t,e,i,r){Sv(t,this._bbox);let o;if(r===zn.SHADING)o=bt.singularValueDecompose2dScale(Re(t));else if(o=bt.singularValueDecompose2dScale(e.baseTransform),this.matrix){const h=bt.singularValueDecompose2dScale(this.matrix);o=[o[0]*h[0],o[1]*h[1]]}const u=this._createMeshCanvas(o,r===zn.SHADING?null:this._background,e.cachedCanvases);return r!==zn.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(u.offsetX,u.offsetY),t.scale(u.scaleX,u.scaleY),t.createPattern(u.canvas,"no-repeat")}}class kM extends O0{getPattern(){return"hotpink"}}function MM(a){switch(a[0]){case"RadialAxial":return new TM(a);case"Mesh":return new RM(a);case"Dummy":return new kM}throw new Error(`Unknown IR type: ${a[0]}`)}const o_={COLORED:1,UNCOLORED:2},Bg=class Bg{constructor(t,e,i,r,o){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=i,this.canvasGraphicsFactory=r,this.baseTransform=o}createPatternCanvas(t){const{bbox:e,operatorList:i,paintType:r,tilingType:o,color:u,canvasGraphicsFactory:h}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),$g("TilingType: "+o);const g=e[0],b=e[1],v=e[2],A=e[3],E=v-g,T=A-b,D=bt.singularValueDecompose2dScale(this.matrix),C=bt.singularValueDecompose2dScale(this.baseTransform),P=D[0]*C[0],N=D[1]*C[1];let I=E,F=T,L=!1,q=!1;const K=Math.ceil(f*P),tt=Math.ceil(p*N),ot=Math.ceil(E*P),Q=Math.ceil(T*N);K>=ot?I=f:L=!0,tt>=Q?F=p:q=!0;const it=this.getSizeAndScale(I,this.ctx.canvas.width,P),st=this.getSizeAndScale(F,this.ctx.canvas.height,N),J=t.cachedCanvases.getCanvas("pattern",it.size,st.size),at=J.context,H=h.createCanvasGraphics(at);if(H.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(H,r,u),at.translate(-it.scale*g,-st.scale*b),H.transform(it.scale,0,0,st.scale,0,0),at.save(),this.clipBbox(H,g,b,v,A),H.baseTransform=Re(H.ctx),H.executeOperatorList(i),H.endDrawing(),at.restore(),L||q){const G=J.canvas;L&&(I=f),q&&(F=p);const et=this.getSizeAndScale(I,this.ctx.canvas.width,P),St=this.getSizeAndScale(F,this.ctx.canvas.height,N),_=et.size,Y=St.size,rt=t.cachedCanvases.getCanvas("pattern-workaround",_,Y),M=rt.context,pt=L?Math.floor(E/f):0,xt=q?Math.floor(T/p):0;for(let ht=0;ht<=pt;ht++)for(let Tt=0;Tt<=xt;Tt++)M.drawImage(G,_*ht,Y*Tt,_,Y,0,0,_,Y);return{canvas:rt.canvas,scaleX:et.scale,scaleY:St.scale,offsetX:g,offsetY:b}}return{canvas:J.canvas,scaleX:it.scale,scaleY:st.scale,offsetX:g,offsetY:b}}getSizeAndScale(t,e,i){const r=Math.max(Bg.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*i);return o>=r?o=r:i=o/t,{scale:i,size:o}}clipBbox(t,e,i,r,o){const u=r-e,h=o-i;t.ctx.rect(e,i,u,h),t.current.updateRectMinMax(Re(t.ctx),[e,i,r,o]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const r=t.ctx,o=t.current;switch(e){case o_.COLORED:const u=this.ctx;r.fillStyle=u.fillStyle,r.strokeStyle=u.strokeStyle,o.fillColor=u.fillStyle,o.strokeColor=u.strokeStyle;break;case o_.UNCOLORED:const h=bt.makeHexColor(i[0],i[1],i[2]);r.fillStyle=h,r.strokeStyle=h,o.fillColor=h,o.strokeColor=h;break;default:throw new eM(`Unsupported paint type: ${e}`)}}getPattern(t,e,i,r){let o=i;r!==zn.SHADING&&(o=bt.transform(o,e.baseTransform),this.matrix&&(o=bt.transform(o,this.matrix)));const u=this.createPatternCanvas(e);let h=new DOMMatrix(o);h=h.translate(u.offsetX,u.offsetY),h=h.scale(1/u.scaleX,1/u.scaleY);const f=t.createPattern(u.canvas,"repeat");return f.setTransform(h),f}};Mt(Bg,"MAX_PATTERN_SIZE",3e3);let Ev=Bg;function DM({src:a,srcPos:t=0,dest:e,width:i,height:r,nonBlackColor:o=4294967295,inverseDecode:u=!1}){const h=In.isLittleEndian?4278190080:255,[f,p]=u?[o,h]:[h,o],g=i>>3,b=i&7,v=a.length;e=new Uint32Array(e.buffer);let A=0;for(let E=0;E<r;E++){for(const D=t+g;t<D;t++){const C=t<v?a[t]:255;e[A++]=C&128?p:f,e[A++]=C&64?p:f,e[A++]=C&32?p:f,e[A++]=C&16?p:f,e[A++]=C&8?p:f,e[A++]=C&4?p:f,e[A++]=C&2?p:f,e[A++]=C&1?p:f}if(b===0)continue;const T=t<v?a[t++]:255;for(let D=0;D<b;D++)e[A++]=T&1<<7-D?p:f}return{srcPos:t,destPos:A}}const u_=16,c_=100,LM=15,h_=10,d_=1e3,Zn=16;function OM(a,t){if(a._removeMirroring)throw new Error("Context is already forwarding operations.");a.__originalSave=a.save,a.__originalRestore=a.restore,a.__originalRotate=a.rotate,a.__originalScale=a.scale,a.__originalTranslate=a.translate,a.__originalTransform=a.transform,a.__originalSetTransform=a.setTransform,a.__originalResetTransform=a.resetTransform,a.__originalClip=a.clip,a.__originalMoveTo=a.moveTo,a.__originalLineTo=a.lineTo,a.__originalBezierCurveTo=a.bezierCurveTo,a.__originalRect=a.rect,a.__originalClosePath=a.closePath,a.__originalBeginPath=a.beginPath,a._removeMirroring=()=>{a.save=a.__originalSave,a.restore=a.__originalRestore,a.rotate=a.__originalRotate,a.scale=a.__originalScale,a.translate=a.__originalTranslate,a.transform=a.__originalTransform,a.setTransform=a.__originalSetTransform,a.resetTransform=a.__originalResetTransform,a.clip=a.__originalClip,a.moveTo=a.__originalMoveTo,a.lineTo=a.__originalLineTo,a.bezierCurveTo=a.__originalBezierCurveTo,a.rect=a.__originalRect,a.closePath=a.__originalClosePath,a.beginPath=a.__originalBeginPath,delete a._removeMirroring},a.save=function(){t.save(),this.__originalSave()},a.restore=function(){t.restore(),this.__originalRestore()},a.translate=function(i,r){t.translate(i,r),this.__originalTranslate(i,r)},a.scale=function(i,r){t.scale(i,r),this.__originalScale(i,r)},a.transform=function(i,r,o,u,h,f){t.transform(i,r,o,u,h,f),this.__originalTransform(i,r,o,u,h,f)},a.setTransform=function(i,r,o,u,h,f){t.setTransform(i,r,o,u,h,f),this.__originalSetTransform(i,r,o,u,h,f)},a.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},a.rotate=function(i){t.rotate(i),this.__originalRotate(i)},a.clip=function(i){t.clip(i),this.__originalClip(i)},a.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},a.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},a.bezierCurveTo=function(e,i,r,o,u,h){t.bezierCurveTo(e,i,r,o,u,h),this.__originalBezierCurveTo(e,i,r,o,u,h)},a.rect=function(e,i,r,o){t.rect(e,i,r,o),this.__originalRect(e,i,r,o)},a.closePath=function(){t.closePath(),this.__originalClosePath()},a.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class NM{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,i)):(r=this.canvasFactory.create(e,i),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Bp(a,t,e,i,r,o,u,h,f,p){const[g,b,v,A,E,T]=Re(a);if(b===0&&v===0){const P=u*g+E,N=Math.round(P),I=h*A+T,F=Math.round(I),L=(u+f)*g+E,q=Math.abs(Math.round(L)-N)||1,K=(h+p)*A+T,tt=Math.abs(Math.round(K)-F)||1;return a.setTransform(Math.sign(g),0,0,Math.sign(A),N,F),a.drawImage(t,e,i,r,o,0,0,q,tt),a.setTransform(g,b,v,A,E,T),[q,tt]}if(g===0&&A===0){const P=h*v+E,N=Math.round(P),I=u*b+T,F=Math.round(I),L=(h+p)*v+E,q=Math.abs(Math.round(L)-N)||1,K=(u+f)*b+T,tt=Math.abs(Math.round(K)-F)||1;return a.setTransform(0,Math.sign(b),Math.sign(v),0,N,F),a.drawImage(t,e,i,r,o,0,0,tt,q),a.setTransform(g,b,v,A,E,T),[tt,q]}a.drawImage(t,e,i,r,o,u,h,f,p);const D=Math.hypot(g,b),C=Math.hypot(v,A);return[D*f,C*p]}function PM(a){const{width:t,height:e}=a;if(t>d_||e>d_)return null;const i=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=t+1;let u=new Uint8Array(o*(e+1)),h,f,p;const g=t+7&-8;let b=new Uint8Array(g*e),v=0;for(const C of a.data){let P=128;for(;P>0;)b[v++]=C&P?0:255,P>>=1}let A=0;for(v=0,b[v]!==0&&(u[0]=1,++A),f=1;f<t;f++)b[v]!==b[v+1]&&(u[f]=b[v]?2:1,++A),v++;for(b[v]!==0&&(u[f]=2,++A),h=1;h<e;h++){v=h*g,p=h*o,b[v-g]!==b[v]&&(u[p]=b[v]?1:8,++A);let C=(b[v]?4:0)+(b[v-g]?8:0);for(f=1;f<t;f++)C=(C>>2)+(b[v+1]?4:0)+(b[v-g+1]?8:0),r[C]&&(u[p+f]=r[C],++A),v++;if(b[v-g]!==b[v]&&(u[p+f]=b[v]?2:4,++A),A>i)return null}for(v=g*(e-1),p=h*o,b[v]!==0&&(u[p]=8,++A),f=1;f<t;f++)b[v]!==b[v+1]&&(u[p+f]=b[v]?4:8,++A),v++;if(b[v]!==0&&(u[p+f]=4,++A),A>i)return null;const E=new Int32Array([0,o,-1,0,-o,0,0,0,1]),T=new Path2D;for(h=0;A&&h<=e;h++){let C=h*o;const P=C+t;for(;C<P&&!u[C];)C++;if(C===P)continue;T.moveTo(C%o,h);const N=C;let I=u[C];do{const F=E[I];do C+=F;while(!u[C]);const L=u[C];L!==5&&L!==10?(I=L,u[C]=0):(I=L&51*I>>4,u[C]&=I>>2|I<<2),T.lineTo(C%o,C/o|0),u[C]||--A}while(N!==C);--h}return b=null,u=null,function(C){C.save(),C.scale(1/t,-1/e),C.translate(0,-e),C.fill(T),C.beginPath(),C.restore()}}class f_{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=vx,this.textMatrixScale=1,this.fontMatrix=Kb,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=En.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,i){[e,i]=bt.applyTransform([e,i],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(t,e){const i=bt.applyTransform(e,t),r=bt.applyTransform(e.slice(2),t),o=bt.applyTransform([e[0],e[3]],t),u=bt.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,i[0],r[0],o[0],u[0]),this.minY=Math.min(this.minY,i[1],r[1],o[1],u[1]),this.maxX=Math.max(this.maxX,i[0],r[0],o[0],u[0]),this.maxY=Math.max(this.maxY,i[1],r[1],o[1],u[1])}updateScalingPathMinMax(t,e){bt.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,i,r,o,u,h,f,p,g){const b=bt.bezierBoundingBox(e,i,r,o,u,h,f,p,g);g||this.updateRectMinMax(t,b)}getPathBoundingBox(t=zn.FILL,e=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(t===zn.STROKE){e||Ae("Stroke bounding box must include transform.");const r=bt.singularValueDecompose2dScale(e),o=r[0]*this.lineWidth/2,u=r[1]*this.lineWidth/2;i[0]-=o,i[1]-=u,i[2]+=o,i[3]+=u}return i}updateClipFromPath(){const t=bt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=zn.FILL,e=null){return bt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function p_(a,t){if(typeof ImageData<"u"&&t instanceof ImageData){a.putImageData(t,0,0);return}const e=t.height,i=t.width,r=e%Zn,o=(e-r)/Zn,u=r===0?o:o+1,h=a.createImageData(i,Zn);let f=0,p;const g=t.data,b=h.data;let v,A,E,T;if(t.kind===Kp.GRAYSCALE_1BPP){const D=g.byteLength,C=new Uint32Array(b.buffer,0,b.byteLength>>2),P=C.length,N=i+7>>3,I=4294967295,F=In.isLittleEndian?4278190080:255;for(v=0;v<u;v++){for(E=v<o?Zn:r,p=0,A=0;A<E;A++){const L=D-f;let q=0;const K=L>N?i:L*8-7,tt=K&-8;let ot=0,Q=0;for(;q<tt;q+=8)Q=g[f++],C[p++]=Q&128?I:F,C[p++]=Q&64?I:F,C[p++]=Q&32?I:F,C[p++]=Q&16?I:F,C[p++]=Q&8?I:F,C[p++]=Q&4?I:F,C[p++]=Q&2?I:F,C[p++]=Q&1?I:F;for(;q<K;q++)ot===0&&(Q=g[f++],ot=128),C[p++]=Q&ot?I:F,ot>>=1}for(;p<P;)C[p++]=0;a.putImageData(h,0,v*Zn)}}else if(t.kind===Kp.RGBA_32BPP){for(A=0,T=i*Zn*4,v=0;v<o;v++)b.set(g.subarray(f,f+T)),f+=T,a.putImageData(h,0,A),A+=Zn;v<u&&(T=i*r*4,b.set(g.subarray(f,f+T)),a.putImageData(h,0,A))}else if(t.kind===Kp.RGB_24BPP)for(E=Zn,T=i*E,v=0;v<u;v++){for(v>=o&&(E=r,T=i*E),p=0,A=T;A--;)b[p++]=g[f++],b[p++]=g[f++],b[p++]=g[f++],b[p++]=255;a.putImageData(h,0,v*Zn)}else throw new Error(`bad image kind: ${t.kind}`)}function g_(a,t){if(t.bitmap){a.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,r=e%Zn,o=(e-r)/Zn,u=r===0?o:o+1,h=a.createImageData(i,Zn);let f=0;const p=t.data,g=h.data;for(let b=0;b<u;b++){const v=b<o?Zn:r;({srcPos:f}=DM({src:p,srcPos:f,dest:g,width:i,height:v,nonBlackColor:0})),a.putImageData(h,0,b*Zn)}}function Dh(a,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)a[i]!==void 0&&(t[i]=a[i]);a.setLineDash!==void 0&&(t.setLineDash(a.getLineDash()),t.lineDashOffset=a.lineDashOffset)}function Up(a){if(a.strokeStyle=a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",a.setLineDash!==void 0&&(a.setLineDash([]),a.lineDashOffset=0),!kn){const{filter:t}=a;t!=="none"&&t!==""&&(a.filter="none")}}function m_(a,t){if(t)return!0;const e=bt.singularValueDecompose2dScale(a);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*Br.PDF_TO_CSS_UNITS);return e[0]<=i&&e[1]<=i}const zM=["butt","round","square"],IM=["miter","round","bevel"],FM={},y_={};var qr,_v,xv;const eA=class eA{constructor(t,e,i,r,o,{optionalContentConfig:u,markedContentStack:h=null},f,p){k(this,qr);this.ctx=t,this.current=new f_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=u,this.cachedCanvases=new NM(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:r=null}){const o=this.ctx.canvas.width,u=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,u),this.ctx.fillStyle=h,i){const f=this.cachedCanvases.getCanvas("transparent",o,u);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...Re(this.compositeCtx))}this.ctx.save(),Up(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Re(this.ctx)}executeOperatorList(t,e,i,r){const o=t.argsArray,u=t.fnArray;let h=e||0;const f=o.length;if(f===h)return h;const p=f-h>h_&&typeof i=="function",g=p?Date.now()+LM:0;let b=0;const v=this.commonObjs,A=this.objs;let E;for(;;){if(r!==void 0&&h===r.nextBreakPoint)return r.breakIt(h,i),h;if(E=u[h],E!==Ji.dependency)this[E].apply(this,o[h]);else for(const T of o[h]){const D=T.startsWith("g_")?v:A;if(!D.has(T))return D.get(T,i),h}if(h++,h===f)return h;if(p&&++b>h_){if(Date.now()>g)return i(),h;b=0}}}endDrawing(){w(this,qr,_v).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),w(this,qr,xv).call(this)}_scaleImage(t,e){const i=t.width??t.displayWidth,r=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),u=Math.max(Math.hypot(e[2],e[3]),1),h=i,f=r,p="prescale1",g,b;for(;o>2&&h>1||u>2&&f>1;){let v=h,A=f;o>2&&h>1&&(v=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),o/=h/v),u>2&&f>1&&(A=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,u/=f/A),g=this.cachedCanvases.getCanvas(p,v,A),b=g.context,b.clearRect(0,0,v,A),b.drawImage(t,0,0,h,f,0,0,v,A),t=g.canvas,h=v,f=A,p=p==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:h,paintHeight:f}}_createMaskCanvas(t){const e=this.ctx,{width:i,height:r}=t,o=this.current.fillColor,u=this.current.patternFill,h=Re(e);let f,p,g,b;if((t.bitmap||t.data)&&t.count>1){const K=t.bitmap||t.data.buffer;p=JSON.stringify(u?h:[h.slice(0,4),o]),f=this._cachedBitmapsMap.get(K),f||(f=new Map,this._cachedBitmapsMap.set(K,f));const tt=f.get(p);if(tt&&!u){const ot=Math.round(Math.min(h[0],h[2])+h[4]),Q=Math.round(Math.min(h[1],h[3])+h[5]);return{canvas:tt,offsetX:ot,offsetY:Q}}g=tt}g||(b=this.cachedCanvases.getCanvas("maskCanvas",i,r),g_(b.context,t));let v=bt.transform(h,[1/i,0,0,-1/r,0,0]);v=bt.transform(v,[1,0,0,1,0,-r]);const[A,E,T,D]=bt.getAxialAlignedBoundingBox([0,0,i,r],v),C=Math.round(T-A)||1,P=Math.round(D-E)||1,N=this.cachedCanvases.getCanvas("fillCanvas",C,P),I=N.context,F=A,L=E;I.translate(-F,-L),I.transform(...v),g||(g=this._scaleImage(b.canvas,ra(I)),g=g.img,f&&u&&f.set(p,g)),I.imageSmoothingEnabled=m_(Re(I),t.interpolate),Bp(I,g,0,0,g.width,g.height,0,0,i,r),I.globalCompositeOperation="source-in";const q=bt.transform(ra(I),[1,0,0,1,-F,-L]);return I.fillStyle=u?o.getPattern(e,this,q,zn.FILL):o,I.fillRect(0,0,i,r),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,N.canvas)),{canvas:N.canvas,offsetX:Math.round(F),offsetY:Math.round(L)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=zM[t]}setLineJoin(t){this.ctx.lineJoin=IM[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,i]of t)switch(e){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;const o=this.ctx;o.setTransform(...Re(this.suspendedCtx)),Dh(this.suspendedCtx,o),OM(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Dh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,r){const o=r[0],u=r[1],h=r[2]-o,f=r[3]-u;h===0||f===0||(this.genericComposeSMask(e.context,i,h,f,e.subtype,e.backdrop,e.transferMap,o,u,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,r,o,u,h,f,p,g,b){let v=t.canvas,A=f-g,E=p-b;if(u){const D=bt.makeHexColor(...u);if(A<0||E<0||A+i>v.width||E+r>v.height){const C=this.cachedCanvases.getCanvas("maskExtension",i,r),P=C.context;P.drawImage(v,-A,-E),P.globalCompositeOperation="destination-atop",P.fillStyle=D,P.fillRect(0,0,i,r),P.globalCompositeOperation="source-over",v=C.canvas,A=E=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const C=new Path2D;C.rect(A,E,i,r),t.clip(C),t.globalCompositeOperation="destination-atop",t.fillStyle=D,t.fillRect(A,E,i,r),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&h?e.filter=this.filterFactory.addAlphaFilter(h):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(h));const T=new Path2D;T.rect(f,p,i,r),e.clip(T),e.globalCompositeOperation="destination-in",e.drawImage(v,A,E,i,r,f,p,i,r),e.restore()}save(){this.inSMaskMode?(Dh(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Dh(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,i,r,o,u){this.ctx.transform(t,e,i,r,o,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i){const r=this.ctx,o=this.current;let u=o.x,h=o.y,f,p;const g=Re(r),b=g[0]===0&&g[3]===0||g[1]===0&&g[2]===0,v=b?i.slice(0):null;for(let A=0,E=0,T=t.length;A<T;A++)switch(t[A]|0){case Ji.rectangle:u=e[E++],h=e[E++];const D=e[E++],C=e[E++],P=u+D,N=h+C;r.moveTo(u,h),D===0||C===0?r.lineTo(P,N):(r.lineTo(P,h),r.lineTo(P,N),r.lineTo(u,N)),b||o.updateRectMinMax(g,[u,h,P,N]),r.closePath();break;case Ji.moveTo:u=e[E++],h=e[E++],r.moveTo(u,h),b||o.updatePathMinMax(g,u,h);break;case Ji.lineTo:u=e[E++],h=e[E++],r.lineTo(u,h),b||o.updatePathMinMax(g,u,h);break;case Ji.curveTo:f=u,p=h,u=e[E+4],h=e[E+5],r.bezierCurveTo(e[E],e[E+1],e[E+2],e[E+3],u,h),o.updateCurvePathMinMax(g,f,p,e[E],e[E+1],e[E+2],e[E+3],u,h,v),E+=6;break;case Ji.curveTo2:f=u,p=h,r.bezierCurveTo(u,h,e[E],e[E+1],e[E+2],e[E+3]),o.updateCurvePathMinMax(g,f,p,u,h,e[E],e[E+1],e[E+2],e[E+3],v),u=e[E+2],h=e[E+3],E+=4;break;case Ji.curveTo3:f=u,p=h,u=e[E+2],h=e[E+3],r.bezierCurveTo(e[E],e[E+1],u,h,u,h),o.updateCurvePathMinMax(g,f,p,e[E],e[E+1],u,h,u,h,v),E+=4;break;case Ji.closePath:r.closePath();break}b&&o.updateScalingPathMinMax(g,v),o.setCurrentPoint(u,h)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,i=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&(i!=null&&i.getPattern)?(e.save(),e.strokeStyle=i.getPattern(e,this,ra(e),zn.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,i=this.current.fillColor,r=this.current.patternFill;let o=!1;r&&(e.save(),e.fillStyle=i.getPattern(e,this,ra(e),zn.FILL),o=!0);const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),o&&e.restore(),t&&this.consumePath(u)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=FM}eoClip(){this.pendingClip=y_}beginText(){this.current.textMatrix=vx,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const i of t)e.setTransform(...i.transform),e.translate(i.x,i.y),i.addToPath(e,i.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var g;const i=this.commonObjs.get(t),r=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=i.fontMatrix||Kb,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Bt("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=e,i.isType3Font)return;const o=i.loadedName||"sans-serif",u=((g=i.systemFontInfo)==null?void 0:g.css)||`"${o}", ${i.fallbackName}`;let h="normal";i.black?h="900":i.bold&&(h="bold");const f=i.italic?"italic":"normal";let p=e;e<u_?p=u_:e>c_&&(p=c_),this.current.fontSizeScale=e/p,this.ctx.font=`${f} ${h} ${p}px ${u}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,i,r,o,u){this.current.textMatrix=[t,e,i,r,o,u],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,i,r){const o=this.ctx,u=this.current,h=u.font,f=u.textRenderingMode,p=u.fontSize/u.fontSizeScale,g=f&En.FILL_STROKE_MASK,b=!!(f&En.ADD_TO_PATH_FLAG),v=u.patternFill&&!h.missingFile;let A;(h.disableFontFace||b||v)&&(A=h.getPathGenerator(this.commonObjs,t)),h.disableFontFace||v?(o.save(),o.translate(e,i),o.beginPath(),A(o,p),r&&o.setTransform(...r),(g===En.FILL||g===En.FILL_STROKE)&&o.fill(),(g===En.STROKE||g===En.FILL_STROKE)&&o.stroke(),o.restore()):((g===En.FILL||g===En.FILL_STROKE)&&o.fillText(t,e,i),(g===En.STROKE||g===En.FILL_STROKE)&&o.strokeText(t,e,i)),b&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Re(o),x:e,y:i,fontSize:p,addToPath:A})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){i=!0;break}return Yt(this,"isFontSubpixelAAEnabled",i)}showText(t){const e=this.current,i=e.font;if(i.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const o=this.ctx,u=e.fontSizeScale,h=e.charSpacing,f=e.wordSpacing,p=e.fontDirection,g=e.textHScale*p,b=t.length,v=i.vertical,A=v?1:-1,E=i.defaultVMetrics,T=r*e.fontMatrix[0],D=e.textRenderingMode===En.FILL&&!i.disableFontFace&&!e.patternFill;o.save(),o.transform(...e.textMatrix),o.translate(e.x,e.y+e.textRise),p>0?o.scale(g,-1):o.scale(g,1);let C;if(e.patternFill){o.save();const L=e.fillColor.getPattern(o,this,ra(o),zn.FILL);C=Re(o),o.restore(),o.fillStyle=L}let P=e.lineWidth;const N=e.textMatrixScale;if(N===0||P===0){const L=e.textRenderingMode&En.FILL_STROKE_MASK;(L===En.STROKE||L===En.FILL_STROKE)&&(P=this.getSinglePixelWidth())}else P/=N;if(u!==1&&(o.scale(u,u),P/=u),o.lineWidth=P,i.isInvalidPDFjsFont){const L=[];let q=0;for(const K of t)L.push(K.unicode),q+=K.width;o.fillText(L.join(""),0,0),e.x+=q*T*g,o.restore(),this.compose();return}let I=0,F;for(F=0;F<b;++F){const L=t[F];if(typeof L=="number"){I+=A*L*r/1e3;continue}let q=!1;const K=(L.isSpace?f:0)+h,tt=L.fontChar,ot=L.accent;let Q,it,st=L.width;if(v){const at=L.vmetric||E,H=-(L.vmetric?at[1]:st*.5)*T,G=at[2]*T;st=at?-at[0]:st,Q=H/u,it=(I+G)/u}else Q=I/u,it=0;if(i.remeasure&&st>0){const at=o.measureText(tt).width*1e3/r*u;if(st<at&&this.isFontSubpixelAAEnabled){const H=st/at;q=!0,o.save(),o.scale(H,1),Q/=H}else st!==at&&(Q+=(st-at)/2e3*r/u)}if(this.contentVisible&&(L.isInFont||i.missingFile)){if(D&&!ot)o.fillText(tt,Q,it);else if(this.paintChar(tt,Q,it,C),ot){const at=Q+r*ot.offset.x/u,H=it-r*ot.offset.y/u;this.paintChar(ot.fontChar,at,H,C)}}const J=v?st*T-K*p:st*T+K*p;I+=J,q&&o.restore()}v?e.y-=I:e.x+=I*g,o.restore(),this.compose()}showType3Text(t){const e=this.ctx,i=this.current,r=i.font,o=i.fontSize,u=i.fontDirection,h=r.vertical?1:-1,f=i.charSpacing,p=i.wordSpacing,g=i.textHScale*u,b=i.fontMatrix||Kb,v=t.length,A=i.textRenderingMode===En.INVISIBLE;let E,T,D,C;if(!(A||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...i.textMatrix),e.translate(i.x,i.y),e.scale(g,u),E=0;E<v;++E){if(T=t[E],typeof T=="number"){C=h*T*o/1e3,this.ctx.translate(C,0),i.x+=C*g;continue}const P=(T.isSpace?p:0)+f,N=r.charProcOperatorList[T.operatorListId];if(!N){Bt(`Type3 character "${T.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=T,this.save(),e.scale(o,o),e.transform(...b),this.executeOperatorList(N),this.restore()),D=bt.applyTransform([T.width,0],b)[0]*o+P,e.translate(D,0),i.x+=D*g}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,i,r,o,u){this.ctx.rect(i,r,o-i,u-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const i=t[1],r=this.baseTransform||Re(this.ctx),o={createCanvasGraphics:u=>new eA(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Ev(t,i,this.ctx,o,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,i){this.ctx.strokeStyle=this.current.strokeColor=bt.makeHexColor(t,e,i)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,i){this.ctx.fillStyle=this.current.fillColor=bt.makeHexColor(t,e,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=MM(this.getObject(t)),this.cachedPatterns.set(t,i)),e&&(i.matrix=e),i}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const i=this._getPattern(t);e.fillStyle=i.getPattern(e,this,ra(e),zn.SHADING);const r=ra(e);if(r){const{width:o,height:u}=e.canvas,[h,f,p,g]=bt.getAxialAlignedBoundingBox([0,0,o,u],r);this.ctx.fillRect(h,f,p-h,g-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ae("Should not call beginInlineImage")}beginImageData(){Ae("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Re(this.ctx),e)){const i=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],i,r),this.current.updateRectMinMax(Re(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||$g("TODO: Support non-isolated groups."),t.knockout&&Bt("Knockout groups not supported.");const i=Re(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=bt.getAxialAlignedBoundingBox(t.bbox,Re(e));const o=[0,0,e.canvas.width,e.canvas.height];r=bt.intersect(r,o)||[0,0,0,0];const u=Math.floor(r[0]),h=Math.floor(r[1]),f=Math.max(Math.ceil(r[2])-u,1),p=Math.max(Math.ceil(r[3])-h,1);this.current.startNewPathAndClipBox([0,0,f,p]);let g="groupAt"+this.groupLevel;t.smask&&(g+="_smask_"+this.smaskCounter++%2);const b=this.cachedCanvases.getCanvas(g,f,p),v=b.context;v.translate(-u,-h),v.transform(...i),t.smask?this.smaskStack.push({canvas:b.canvas,context:v,offsetX:u,offsetY:h,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(u,h),e.save()),Dh(e,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=Re(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const o=bt.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(t,e,i,r,o){if(w(this,qr,_v).call(this),Up(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const u=e[2]-e[0],h=e[3]-e[1];if(o&&this.annotationCanvasMap){i=i.slice(),i[4]-=e[0],i[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=u,e[3]=h;const[f,p]=bt.singularValueDecompose2dScale(Re(this.ctx)),{viewportScale:g}=this,b=Math.ceil(u*this.outputScaleX*g),v=Math.ceil(h*this.outputScaleY*g);this.annotationCanvas=this.canvasFactory.create(b,v);const{canvas:A,context:E}=this.annotationCanvas;this.annotationCanvasMap.set(t,A),this.annotationCanvas.savedCtx=this.ctx,this.ctx=E,this.ctx.save(),this.ctx.setTransform(f,0,0,-p,0,h*p),Up(this.ctx)}else Up(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],u,h),this.ctx.clip(),this.ctx.beginPath()}this.current=new f_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),w(this,qr,xv).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const i=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=PM(t)),r.compiled)){r.compiled(i);return}const o=this._createMaskCanvas(t),u=o.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(u,o.offsetX,o.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i=0,r=0,o,u){if(!this.contentVisible)return;t=this.getObject(t.data,t);const h=this.ctx;h.save();const f=Re(h);h.transform(e,i,r,o,0,0);const p=this._createMaskCanvas(t);h.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]);for(let g=0,b=u.length;g<b;g+=2){const v=bt.transform(f,[e,i,r,o,u[g],u[g+1]]),[A,E]=bt.applyTransform([0,0],v);h.drawImage(p.canvas,A,E)}h.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,i=this.current.fillColor,r=this.current.patternFill;for(const o of t){const{data:u,width:h,height:f,transform:p}=o,g=this.cachedCanvases.getCanvas("maskCanvas",h,f),b=g.context;b.save();const v=this.getObject(u,o);g_(b,v),b.globalCompositeOperation="source-in",b.fillStyle=r?i.getPattern(b,this,ra(e),zn.FILL):i,b.fillRect(0,0,h,f),b.restore(),e.save(),e.transform(...p),e.scale(1,-1),Bp(e,g.canvas,0,0,h,f,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Bt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,i,r){if(!this.contentVisible)return;const o=this.getObject(t);if(!o){Bt("Dependent image isn't ready yet");return}const u=o.width,h=o.height,f=[];for(let p=0,g=r.length;p<g;p+=2)f.push({transform:[e,0,0,i,r[p],r[p+1]],x:0,y:0,w:u,h});this.paintInlineImageXObjectGroup(o,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:r}=t,o=this.cachedCanvases.getCanvas("inlineImage",i,r),u=o.context;return u.filter=this.current.transferMaps,u.drawImage(e,0,0),u.filter="none",o.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,i=t.height,r=this.ctx;if(this.save(),!kn){const{filter:h}=r;h!=="none"&&h!==""&&(r.filter="none")}r.scale(1/e,-1/i);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",e,i).context;p_(f,t),o=this.applyTransferMapsToCanvas(f)}const u=this._scaleImage(o,ra(r));r.imageSmoothingEnabled=m_(Re(r),t.interpolate),Bp(r,u.img,0,0,u.paintWidth,u.paintHeight,0,-i,e,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const o=t.width,u=t.height,f=this.cachedCanvases.getCanvas("inlineImage",o,u).context;p_(f,t),r=this.applyTransferMapsToCanvas(f)}for(const o of e)i.save(),i.transform(...o.transform),i.scale(1,-1),Bp(i,r,o.x,o.y,o.w,o.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const i=this.ctx;this.pendingClip&&(e||(this.pendingClip===y_?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Re(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:r,d:o}=this.ctx.getTransform();let u,h;if(i===0&&r===0){const f=Math.abs(e),p=Math.abs(o);if(f===p)if(t===0)u=h=1/f;else{const g=f*t;u=h=g<1?1/g:1}else if(t===0)u=1/f,h=1/p;else{const g=f*t,b=p*t;u=g<1?1/g:1,h=b<1?1/b:1}}else{const f=Math.abs(e*o-i*r),p=Math.hypot(e,i),g=Math.hypot(r,o);if(t===0)u=g/f,h=p/f;else{const b=t*f;u=g>b?g/b:1,h=p>b?p/b:1}}this._cachedScaleForStroking[0]=u,this._cachedScaleForStroking[1]=h}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:i}=this.current,[r,o]=this.getScaleForStroking();if(e.lineWidth=i||1,r===1&&o===1){e.stroke();return}const u=e.getLineDash();if(t&&e.save(),e.scale(r,o),u.length>0){const h=Math.max(r,o);e.setLineDash(u.map(f=>f/h)),e.lineDashOffset/=h}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};qr=new WeakSet,_v=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},xv=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let _u=eA;for(const a in Ji)_u.prototype[a]!==void 0&&(_u.prototype[Ji[a]]=_u.prototype[a]);var Rd,kd;class Na{static get workerPort(){return d(this,Rd)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");x(this,Rd,t)}static get workerSrc(){return d(this,kd)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");x(this,kd,t)}}Rd=new WeakMap,kd=new WeakMap,k(Na,Rd,null),k(Na,kd,"");const jp={DATA:1,ERROR:2},Ue={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function hi(a){switch(a instanceof Error||typeof a=="object"&&a!==null||Ae('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a.name){case"AbortException":return new Eo(a.message);case"MissingPDFException":return new So(a.message);case"PasswordException":return new Qb(a.message,a.code);case"UnexpectedResponseException":return new Zg(a.message,a.status);case"UnknownErrorException":return new Wb(a.message,a.details);default:return new Wb(a.message,a.toString())}}var qu,Gi,iw,sw,aw,ng;class Gh{constructor(t,e,i){k(this,Gi);k(this,qu,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",w(this,Gi,iw).bind(this),{signal:d(this,qu).signal})}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},i)}catch(u){o.reject(u)}return o.promise}sendWithStream(t,e,i,r){const o=this.streamId++,u=this.sourceName,h=this.targetName,f=this.comObj;return new ReadableStream({start:p=>{const g=Promise.withResolvers();return this.streamControllers[o]={controller:p,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:u,targetName:h,action:t,streamId:o,data:e,desiredSize:p.desiredSize},r),g.promise},pull:p=>{const g=Promise.withResolvers();return this.streamControllers[o].pullCall=g,f.postMessage({sourceName:u,targetName:h,stream:Ue.PULL,streamId:o,desiredSize:p.desiredSize}),g.promise},cancel:p=>{$e(p instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[o].cancelCall=g,this.streamControllers[o].isClosed=!0,f.postMessage({sourceName:u,targetName:h,stream:Ue.CANCEL,streamId:o,reason:hi(p)}),g.promise}},i)}destroy(){var t;(t=d(this,qu))==null||t.abort(),x(this,qu,null)}}qu=new WeakMap,Gi=new WeakSet,iw=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){w(this,Gi,aw).call(this,t);return}if(t.callback){const i=t.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===jp.DATA)r.resolve(t.data);else if(t.callback===jp.ERROR)r.reject(hi(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,r=t.sourceName,o=this.comObj;new Promise(function(u){u(e(t.data))}).then(function(u){o.postMessage({sourceName:i,targetName:r,callback:jp.DATA,callbackId:t.callbackId,data:u})},function(u){o.postMessage({sourceName:i,targetName:r,callback:jp.ERROR,callbackId:t.callbackId,reason:hi(u)})});return}if(t.streamId){w(this,Gi,sw).call(this,t);return}e(t.data)},sw=function(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,o=this.comObj,u=this,h=this.actionHandler[t.action],f={enqueue(p,g=1,b){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=g,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:i,targetName:r,stream:Ue.ENQUEUE,streamId:e,chunk:p},b)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:r,stream:Ue.CLOSE,streamId:e}),delete u.streamSinks[e])},error(p){$e(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:r,stream:Ue.ERROR,streamId:e,reason:hi(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[e]=f,new Promise(function(p){p(h(t.data,f))}).then(function(){o.postMessage({sourceName:i,targetName:r,stream:Ue.START_COMPLETE,streamId:e,success:!0})},function(p){o.postMessage({sourceName:i,targetName:r,stream:Ue.START_COMPLETE,streamId:e,reason:hi(p)})})},aw=function(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,o=this.comObj,u=this.streamControllers[e],h=this.streamSinks[e];switch(t.stream){case Ue.START_COMPLETE:t.success?u.startCall.resolve():u.startCall.reject(hi(t.reason));break;case Ue.PULL_COMPLETE:t.success?u.pullCall.resolve():u.pullCall.reject(hi(t.reason));break;case Ue.PULL:if(!h){o.postMessage({sourceName:i,targetName:r,stream:Ue.PULL_COMPLETE,streamId:e,success:!0});break}h.desiredSize<=0&&t.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=t.desiredSize,new Promise(function(f){var p;f((p=h.onPull)==null?void 0:p.call(h))}).then(function(){o.postMessage({sourceName:i,targetName:r,stream:Ue.PULL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:i,targetName:r,stream:Ue.PULL_COMPLETE,streamId:e,reason:hi(f)})});break;case Ue.ENQUEUE:if($e(u,"enqueue should have stream controller"),u.isClosed)break;u.controller.enqueue(t.chunk);break;case Ue.CLOSE:if($e(u,"close should have stream controller"),u.isClosed)break;u.isClosed=!0,u.controller.close(),w(this,Gi,ng).call(this,u,e);break;case Ue.ERROR:$e(u,"error should have stream controller"),u.controller.error(hi(t.reason)),w(this,Gi,ng).call(this,u,e);break;case Ue.CANCEL_COMPLETE:t.success?u.cancelCall.resolve():u.cancelCall.reject(hi(t.reason)),w(this,Gi,ng).call(this,u,e);break;case Ue.CANCEL:if(!h)break;new Promise(function(f){var p;f((p=h.onCancel)==null?void 0:p.call(h,hi(t.reason)))}).then(function(){o.postMessage({sourceName:i,targetName:r,stream:Ue.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:i,targetName:r,stream:Ue.CANCEL_COMPLETE,streamId:e,reason:hi(f)})}),h.sinkCapability.reject(hi(t.reason)),h.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},ng=async function(t,e){var i,r,o;await Promise.allSettled([(i=t.startCall)==null?void 0:i.promise,(r=t.pullCall)==null?void 0:r.promise,(o=t.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[e]};var Il,Md;class HM{constructor({parsedData:t,rawData:e}){k(this,Il);k(this,Md);x(this,Il,t),x(this,Md,e)}getRaw(){return d(this,Md)}get(t){return d(this,Il).get(t)??null}getAll(){return T0(d(this,Il))}has(t){return d(this,Il).has(t)}}Il=new WeakMap,Md=new WeakMap;const bu=Symbol("INTERNAL");var Dd,Ld,Od,Gu;class BM{constructor(t,{name:e,intent:i,usage:r,rbGroups:o}){k(this,Dd,!1);k(this,Ld,!1);k(this,Od,!1);k(this,Gu,!0);x(this,Dd,!!(t&Si.DISPLAY)),x(this,Ld,!!(t&Si.PRINT)),this.name=e,this.intent=i,this.usage=r,this.rbGroups=o}get visible(){if(d(this,Od))return d(this,Gu);if(!d(this,Gu))return!1;const{print:t,view:e}=this.usage;return d(this,Dd)?(e==null?void 0:e.viewState)!=="OFF":d(this,Ld)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,i=!1){t!==bu&&Ae("Internal method `_setVisible` called."),x(this,Od,i),x(this,Gu,e)}}Dd=new WeakMap,Ld=new WeakMap,Od=new WeakMap,Gu=new WeakMap;var xr,ae,Vu,Xu,Nd,wv;class UM{constructor(t,e=Si.DISPLAY){k(this,Nd);k(this,xr,null);k(this,ae,new Map);k(this,Vu,null);k(this,Xu,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,x(this,Xu,t.order);for(const i of t.groups)d(this,ae).set(i.id,new BM(e,i));if(t.baseState==="OFF")for(const i of d(this,ae).values())i._setVisible(bu,!1);for(const i of t.on)d(this,ae).get(i)._setVisible(bu,!0);for(const i of t.off)d(this,ae).get(i)._setVisible(bu,!1);x(this,Vu,this.getHash())}}isVisible(t){if(d(this,ae).size===0)return!0;if(!t)return $g("Optional content group not defined."),!0;if(t.type==="OCG")return d(this,ae).has(t.id)?d(this,ae).get(t.id).visible:(Bt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return w(this,Nd,wv).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!d(this,ae).has(e))return Bt(`Optional content group not found: ${e}`),!0;if(d(this,ae).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!d(this,ae).has(e))return Bt(`Optional content group not found: ${e}`),!0;if(!d(this,ae).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!d(this,ae).has(e))return Bt(`Optional content group not found: ${e}`),!0;if(!d(this,ae).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!d(this,ae).has(e))return Bt(`Optional content group not found: ${e}`),!0;if(d(this,ae).get(e).visible)return!1}return!0}return Bt(`Unknown optional content policy ${t.policy}.`),!0}return Bt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){var o;const r=d(this,ae).get(t);if(!r){Bt(`Optional content group not found: ${t}`);return}if(i&&e&&r.rbGroups.length)for(const u of r.rbGroups)for(const h of u)h!==t&&((o=d(this,ae).get(h))==null||o._setVisible(bu,!1,!0));r._setVisible(bu,!!e,!0),x(this,xr,null)}setOCGState({state:t,preserveRB:e}){let i;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const o=d(this,ae).get(r);if(o)switch(i){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!o.visible,e);break}}x(this,xr,null)}get hasInitialVisibility(){return d(this,Vu)===null||this.getHash()===d(this,Vu)}getOrder(){return d(this,ae).size?d(this,Xu)?d(this,Xu).slice():[...d(this,ae).keys()]:null}getGroups(){return d(this,ae).size>0?T0(d(this,ae)):null}getGroup(t){return d(this,ae).get(t)||null}getHash(){if(d(this,xr)!==null)return d(this,xr);const t=new Xx;for(const[e,i]of d(this,ae))t.update(`${e}:${i.visible}`);return x(this,xr,t.hexdigest())}}xr=new WeakMap,ae=new WeakMap,Vu=new WeakMap,Xu=new WeakMap,Nd=new WeakSet,wv=function(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let r=1;r<e;r++){const o=t[r];let u;if(Array.isArray(o))u=w(this,Nd,wv).call(this,o);else if(d(this,ae).has(o))u=d(this,ae).get(o).visible;else return Bt(`Optional content group not found: ${o}`),!0;switch(i){case"And":if(!u)return!1;break;case"Or":if(u)return!0;break;case"Not":return!u;default:return!0}}return i==="And"};class jM{constructor(t,{disableRange:e=!1,disableStream:i=!1}){$e(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:u,contentDispositionFilename:h}=t;if(this._queuedChunks=[],this._progressiveDone=u,this._contentDispositionFilename=h,(o==null?void 0:o.length)>0){const f=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((f,p)=>{this._onReceiveData({begin:f,chunk:p})}),t.addProgressListener((f,p)=>{this._onProgress({loaded:f,total:p})}),t.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(i),!0)});$e(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,i,r,o;t.total===void 0?(i=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||i.call(e,{loaded:t.loaded}):(o=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||o.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){$e(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new qM(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new GM(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}}class qM{constructor(t,e,i=!1,r=null){this._stream=t,this._done=i||!1,this._filename=k0(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class GM{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function VM(a){let t=!0,e=i("filename\\*","i").exec(a);if(e){e=e[1];let g=h(e);return g=unescape(g),g=f(g),g=p(g),o(g)}if(e=u(a),e){const g=p(e);return o(g)}if(e=i("filename","i").exec(a),e){e=e[1];let g=h(e);return g=p(g),o(g)}function i(g,b){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function r(g,b){if(g){if(!/^[\x00-\xFF]+$/.test(b))return b;try{const v=new TextDecoder(g,{fatal:!0}),A=Jg(b);b=v.decode(A),t=!1}catch{}}return b}function o(g){return t&&/[\x80-\xff]/.test(g)&&(g=r("utf-8",g),t&&(g=r("iso-8859-1",g))),g}function u(g){const b=[];let v;const A=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=A.exec(g))!==null;){let[,T,D,C]=v;if(T=parseInt(T,10),T in b){if(T===0)break;continue}b[T]=[D,C]}const E=[];for(let T=0;T<b.length&&T in b;++T){let[D,C]=b[T];C=h(C),D&&(C=unescape(C),T===0&&(C=f(C))),E.push(C)}return E.join("")}function h(g){if(g.startsWith('"')){const b=g.slice(1).split('\\"');for(let v=0;v<b.length;++v){const A=b[v].indexOf('"');A!==-1&&(b[v]=b[v].slice(0,A),b.length=v+1),b[v]=b[v].replaceAll(/\\(.)/g,"$1")}g=b.join('"')}return g}function f(g){const b=g.indexOf("'");if(b===-1)return g;const v=g.slice(0,b),E=g.slice(b+1).replace(/^[^']*'/,"");return r(v,E)}function p(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(b,v,A,E){if(A==="q"||A==="Q")return E=E.replaceAll("_"," "),E=E.replaceAll(/=([0-9a-fA-F]{2})/g,function(T,D){return String.fromCharCode(parseInt(D,16))}),r(v,E);try{E=atob(E)}catch{}return r(v,E)})}return""}function N0(a,t){const e=new Headers;if(!a||!t||typeof t!="object")return e;for(const i in t){const r=t[i];r!==void 0&&e.append(i,r)}return e}function P0({responseHeaders:a,isHttp:t,rangeChunkSize:e,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(a.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*e)||i||!t||a.get("Accept-Ranges")!=="bytes"||(a.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function z0(a){const t=a.get("Content-Disposition");if(t){let e=VM(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(k0(e))return e}return null}function nm(a,t){return a===404||a===0&&t.startsWith("file:")?new So('Missing PDF "'+t+'".'):new Zg(`Unexpected server response (${a}) while retrieving PDF "${t}".`,a)}function rw(a){return a===200||a===206}function lw(a,t,e){return{method:"GET",headers:a,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function ow(a){return a instanceof Uint8Array?a.buffer:a instanceof ArrayBuffer?a:(Bt(`getArrayBuffer - unexpected data format: ${a}`),new Uint8Array(a).buffer)}class b_{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=N0(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return $e(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new XM(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new YM(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class XM{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),r=e.url;fetch(r,lw(i,this._withCredentials,this._abortController)).then(o=>{if(!rw(o.status))throw nm(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const u=o.headers,{allowRangeRequests:h,suggestedLength:f}=P0({responseHeaders:u,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=f||this._contentLength,this._filename=z0(u),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Eo("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:ow(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class YM{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${i-1}`);const u=r.url;fetch(u,lw(o,this._withCredentials,this._abortController)).then(h=>{if(!rw(h.status))throw nm(h.status,u);this._readCapability.resolve(),this._reader=h.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:ow(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const Lb=200,Ob=206;function KM(a){const t=a.response;return typeof t!="string"?t:Jg(t).buffer}class QM{constructor({url:t,httpHeaders:e,withCredentials:i}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=N0(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,i){const r={begin:t,end:e};for(const o in i)r[o]=i[o];return this.request(r)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,u]of this.headers)e.setRequestHeader(o,u);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=Ob):r.expectedStatus=Lb,e.responseType="arraybuffer",t.onError&&(e.onerror=function(o){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){var r;const i=this.pendingRequests[t];i&&((r=i.onProgress)==null||r.call(i,e))}onStateChange(t,e){var f,p,g;const i=this.pendingRequests[t];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){(f=i.onError)==null||f.call(i,r.status);return}const o=r.status||Lb;if(!(o===Lb&&i.expectedStatus===Ob)&&o!==i.expectedStatus){(p=i.onError)==null||p.call(i,r.status);return}const h=KM(r);if(o===Ob){const b=r.getResponseHeader("Content-Range"),v=/bytes (\d+)-(\d+)\/(\d+)/.exec(b);i.onDone({begin:parseInt(v[1],10),chunk:h})}else h?i.onDone({begin:0,chunk:h}):(g=i.onError)==null||g.call(i,r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class WM{constructor(t){this._source=t,this._manager=new QM(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return $e(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new $M(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new ZM(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class $M{constructor(t,e){this._manager=t;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(i),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),i=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(u=>{const[h,...f]=u.split(": ");return[h,f.join(": ")]})),{allowRangeRequests:r,suggestedLength:o}=P0({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=z0(i),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=nm(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ZM{constructor(t,e,i){this._manager=t;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,i,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=nm(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const JM=/^[a-z][a-z0-9\-+.]+:/i;function tD(a){if(JM.test(a))return new URL(a);const t=Ur.get("url");return new URL(t.pathToFileURL(a))}function uw(a,t,e){return a.protocol==="http:"?Ur.get("http").request(a,{headers:t},e):Ur.get("https").request(a,{headers:t},e)}class eD{constructor(t){this.source=t,this.url=tD(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=N0(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return $e(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new sD(this):new nD(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=this.isFsUrl?new aD(this,t,e):new iD(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class cw{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Eo("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class hw{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class nD extends cw{constructor(t){super(t);const e=Object.fromEntries(t.headers),i=r=>{if(r.statusCode===404){const f=new So(`Missing PDF "${this._url}".`);this._storedError=f,this._headersCapability.reject(f);return}this._headersCapability.resolve(),this._setReadableStream(r);const o=new Headers(this._readableStream.headers),{allowRangeRequests:u,suggestedLength:h}=P0({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=h||this._contentLength,this._filename=z0(o)};this._request=uw(this._url,e,i),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class iD extends hw{constructor(t,e,i){super(t);const r=Object.fromEntries(t.headers);r.Range=`bytes=${e}-${i-1}`;const o=u=>{if(u.statusCode===404){const h=new So(`Missing PDF "${this._url}".`);this._storedError=h;return}this._setReadableStream(u)};this._request=uw(this._url,r,o),this._request.on("error",u=>{this._storedError=u}),this._request.end()}}class sD extends cw{constructor(t){super(t);const e=Ur.get("fs");e.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new So(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class aD extends hw{constructor(t,e,i){super(t);const r=Ur.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:i-1}))}}const rD=1e5,Xn=30,lD=.8;var yx,wr,Wn,Pd,zd,Fl,ma,Id,Fd,Hl,Yu,Ku,Tr,Qu,Hd,Wu,Bl,Bd,Ud,Le,Ul,jl,jd,Cr,$u,Fa,dw,fw,Cv,xi,ig,Rv,pw,gw;let Tv=(Le=class{constructor({textContentSource:t,container:e,viewport:i}){k(this,Fa);k(this,wr,Promise.withResolvers());k(this,Wn,null);k(this,Pd,!1);k(this,zd,!!((yx=globalThis.FontInspector)!=null&&yx.enabled));k(this,Fl,null);k(this,ma,null);k(this,Id,0);k(this,Fd,0);k(this,Hl,null);k(this,Yu,null);k(this,Ku,0);k(this,Tr,0);k(this,Qu,Object.create(null));k(this,Hd,[]);k(this,Wu,null);k(this,Bl,[]);k(this,Bd,new WeakMap);k(this,Ud,null);var f;if(t instanceof ReadableStream)x(this,Wu,t);else if(typeof t=="object")x(this,Wu,new ReadableStream({start(p){p.enqueue(t),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');x(this,Wn,x(this,Yu,e)),x(this,Tr,i.scale*(globalThis.devicePixelRatio||1)),x(this,Ku,i.rotation),x(this,ma,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:o,pageX:u,pageY:h}=i.rawDims;x(this,Ud,[1,0,0,-1,-u,h+o]),x(this,Fd,r),x(this,Id,o),w(f=Le,xi,pw).call(f),go(e,i),d(this,wr).promise.finally(()=>{d(Le,$u).delete(this),x(this,ma,null),x(this,Qu,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=In.platform;return Yt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{d(this,Hl).read().then(({value:e,done:i})=>{if(i){d(this,wr).resolve();return}d(this,Fl)??x(this,Fl,e.lang),Object.assign(d(this,Qu),e.styles),w(this,Fa,dw).call(this,e.items),t()},d(this,wr).reject)};return x(this,Hl,d(this,Wu).getReader()),d(Le,$u).add(this),t(),d(this,wr).promise}update({viewport:t,onBefore:e=null}){var o;const i=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==d(this,Ku)&&(e==null||e(),x(this,Ku,r),go(d(this,Yu),{rotation:r})),i!==d(this,Tr)){e==null||e(),x(this,Tr,i);const u={div:null,properties:null,ctx:w(o=Le,xi,ig).call(o,d(this,Fl))};for(const h of d(this,Bl))u.properties=d(this,Bd).get(h),u.div=h,w(this,Fa,Cv).call(this,u)}}cancel(){var e;const t=new Eo("TextLayer task cancelled.");(e=d(this,Hl))==null||e.cancel(t).catch(()=>{}),x(this,Hl,null),d(this,wr).reject(t)}get textDivs(){return d(this,Bl)}get textContentItemsStr(){return d(this,Hd)}static cleanup(){if(!(d(this,$u).size>0)){d(this,Ul).clear();for(const{canvas:t}of d(this,jl).values())t.remove();d(this,jl).clear()}}},wr=new WeakMap,Wn=new WeakMap,Pd=new WeakMap,zd=new WeakMap,Fl=new WeakMap,ma=new WeakMap,Id=new WeakMap,Fd=new WeakMap,Hl=new WeakMap,Yu=new WeakMap,Ku=new WeakMap,Tr=new WeakMap,Qu=new WeakMap,Hd=new WeakMap,Wu=new WeakMap,Bl=new WeakMap,Bd=new WeakMap,Ud=new WeakMap,Ul=new WeakMap,jl=new WeakMap,jd=new WeakMap,Cr=new WeakMap,$u=new WeakMap,Fa=new WeakSet,dw=function(t){var r,o;if(d(this,Pd))return;(o=d(this,ma)).ctx??(o.ctx=w(r=Le,xi,ig).call(r,d(this,Fl)));const e=d(this,Bl),i=d(this,Hd);for(const u of t){if(e.length>rD){Bt("Ignoring additional textDivs for performance reasons."),x(this,Pd,!0);return}if(u.str===void 0){if(u.type==="beginMarkedContentProps"||u.type==="beginMarkedContent"){const h=d(this,Wn);x(this,Wn,document.createElement("span")),d(this,Wn).classList.add("markedContent"),u.id!==null&&d(this,Wn).setAttribute("id",`${u.id}`),h.append(d(this,Wn))}else u.type==="endMarkedContent"&&x(this,Wn,d(this,Wn).parentNode);continue}i.push(u.str),w(this,Fa,fw).call(this,u)}},fw=function(t){var T;const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};d(this,Bl).push(e);const r=bt.transform(d(this,Ud),t.transform);let o=Math.atan2(r[1],r[0]);const u=d(this,Qu)[t.fontName];u.vertical&&(o+=Math.PI/2);let h=d(this,zd)&&u.fontSubstitution||u.fontFamily;h=Le.fontFamilyMap.get(h)||h;const f=Math.hypot(r[2],r[3]),p=f*w(T=Le,xi,gw).call(T,h,d(this,Fl));let g,b;o===0?(g=r[4],b=r[5]-p):(g=r[4]+p*Math.sin(o),b=r[5]-p*Math.cos(o));const v="calc(var(--scale-factor)*",A=e.style;d(this,Wn)===d(this,Yu)?(A.left=`${(100*g/d(this,Fd)).toFixed(2)}%`,A.top=`${(100*b/d(this,Id)).toFixed(2)}%`):(A.left=`${v}${g.toFixed(2)}px)`,A.top=`${v}${b.toFixed(2)}px)`),A.fontSize=`${v}${(d(Le,Cr)*f).toFixed(2)}px)`,A.fontFamily=h,i.fontSize=f,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,d(this,zd)&&(e.dataset.fontName=u.fontSubstitutionLoadedName||t.fontName),o!==0&&(i.angle=o*(180/Math.PI));let E=!1;if(t.str.length>1)E=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const D=Math.abs(t.transform[0]),C=Math.abs(t.transform[3]);D!==C&&Math.max(D,C)/Math.min(D,C)>1.5&&(E=!0)}if(E&&(i.canvasWidth=u.vertical?t.height:t.width),d(this,Bd).set(e,i),d(this,ma).div=e,d(this,ma).properties=i,w(this,Fa,Cv).call(this,d(this,ma)),i.hasText&&d(this,Wn).append(e),i.hasEOL){const D=document.createElement("br");D.setAttribute("role","presentation"),d(this,Wn).append(D)}},Cv=function(t){var h;const{div:e,properties:i,ctx:r}=t,{style:o}=e;let u="";if(d(Le,Cr)>1&&(u=`scale(${1/d(Le,Cr)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:f}=o,{canvasWidth:p,fontSize:g}=i;w(h=Le,xi,Rv).call(h,r,g*d(this,Tr),f);const{width:b}=r.measureText(e.textContent);b>0&&(u=`scaleX(${p*d(this,Tr)/b}) ${u}`)}i.angle!==0&&(u=`rotate(${i.angle}deg) ${u}`),u.length>0&&(o.transform=u)},xi=new WeakSet,ig=function(t=null){let e=d(this,jl).get(t||(t=""));if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),d(this,jl).set(t,e),d(this,jd).set(e,{size:0,family:""})}return e},Rv=function(t,e,i){const r=d(this,jd).get(t);e===r.size&&i===r.family||(t.font=`${e}px ${i}`,r.size=e,r.family=i)},pw=function(){if(d(this,Cr)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),x(this,Cr,t.getBoundingClientRect().height),t.remove()},gw=function(t,e){const i=d(this,Ul).get(t);if(i)return i;const r=w(this,xi,ig).call(this,e);r.canvas.width=r.canvas.height=Xn,w(this,xi,Rv).call(this,r,Xn,t);const o=r.measureText("");let u=o.fontBoundingBoxAscent,h=Math.abs(o.fontBoundingBoxDescent);if(u){const g=u/(u+h);return d(this,Ul).set(t,g),r.canvas.width=r.canvas.height=0,g}r.strokeStyle="red",r.clearRect(0,0,Xn,Xn),r.strokeText("g",0,0);let f=r.getImageData(0,0,Xn,Xn).data;h=0;for(let g=f.length-1-3;g>=0;g-=4)if(f[g]>0){h=Math.ceil(g/4/Xn);break}r.clearRect(0,0,Xn,Xn),r.strokeText("A",0,Xn),f=r.getImageData(0,0,Xn,Xn).data,u=0;for(let g=0,b=f.length;g<b;g+=4)if(f[g]>0){u=Xn-Math.floor(g/4/Xn);break}r.canvas.width=r.canvas.height=0;const p=u?u/(u+h):lD;return d(this,Ul).set(t,p),p},k(Le,xi),k(Le,Ul,new Map),k(Le,jl,new Map),k(Le,jd,new WeakMap),k(Le,Cr,null),k(Le,$u,new Set),Le);class ad{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function r(o){var f;if(!o)return;let u=null;const h=o.name;if(h==="#text")u=o.value;else if(ad.shouldBuildText(h))(f=o==null?void 0:o.attributes)!=null&&f.textContent?u=o.attributes.textContent:o.value&&(u=o.value);else return;if(u!==null&&e.push({str:u}),!!o.children)for(const p of o.children)r(p)}return r(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const oD=65536,uD=100,cD=5e3,hD=kn?_M:AM,dD=kn?xM:$x,fD=kn?EM:SM,pD=kn?wM:ew;function gD(a={}){typeof a=="string"||a instanceof URL?a={url:a}:(a instanceof ArrayBuffer||ArrayBuffer.isView(a))&&(a={data:a});const t=new kv,{docId:e}=t,i=a.url?mD(a.url):null,r=a.data?yD(a.data):null,o=a.httpHeaders||null,u=a.withCredentials===!0,h=a.password??null,f=a.range instanceof mw?a.range:null,p=Number.isInteger(a.rangeChunkSize)&&a.rangeChunkSize>0?a.rangeChunkSize:oD;let g=a.worker instanceof xu?a.worker:null;const b=a.verbosity,v=typeof a.docBaseUrl=="string"&&!em(a.docBaseUrl)?a.docBaseUrl:null,A=typeof a.cMapUrl=="string"?a.cMapUrl:null,E=a.cMapPacked!==!1,T=a.CMapReaderFactory||dD,D=typeof a.standardFontDataUrl=="string"?a.standardFontDataUrl:null,C=a.StandardFontDataFactory||pD,P=a.stopAtErrors!==!0,N=Number.isInteger(a.maxImageSize)&&a.maxImageSize>-1?a.maxImageSize:-1,I=a.isEvalSupported!==!1,F=typeof a.isOffscreenCanvasSupported=="boolean"?a.isOffscreenCanvasSupported:!kn,L=typeof a.isChrome=="boolean"?a.isChrome:!In.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),q=Number.isInteger(a.canvasMaxAreaInBytes)?a.canvasMaxAreaInBytes:-1,K=typeof a.disableFontFace=="boolean"?a.disableFontFace:kn,tt=a.fontExtraProperties===!0,ot=a.enableXfa===!0,Q=a.ownerDocument||globalThis.document,it=a.disableRange===!0,st=a.disableStream===!0,J=a.disableAutoFetch===!0,at=a.pdfBug===!0,H=a.CanvasFactory||hD,G=a.FilterFactory||fD,et=a.enableHWA===!0,St=f?f.length:a.length??NaN,_=typeof a.useSystemFonts=="boolean"?a.useSystemFonts:!kn&&!K,Y=typeof a.useWorkerFetch=="boolean"?a.useWorkerFetch:T===$x&&C===ew&&A&&D&&Ih(A,document.baseURI)&&Ih(D,document.baseURI);a.canvasFactory&&r_("`canvasFactory`-instance option, please use `CanvasFactory` instead."),a.filterFactory&&r_("`filterFactory`-instance option, please use `FilterFactory` instead.");const rt=null;$k(b);const M={canvasFactory:new H({ownerDocument:Q,enableHWA:et}),filterFactory:new G({docId:e,ownerDocument:Q}),cMapReaderFactory:Y?null:new T({baseUrl:A,isCompressed:E}),standardFontDataFactory:Y?null:new C({baseUrl:D})};if(!g){const ht={verbosity:b,port:Na.workerPort};g=ht.port?xu.fromPort(ht):new xu(ht),t._worker=g}const pt={docId:e,apiVersion:"4.8.69",data:r,password:h,disableAutoFetch:J,rangeChunkSize:p,length:St,docBaseUrl:v,enableXfa:ot,evaluatorOptions:{maxImageSize:N,disableFontFace:K,ignoreErrors:P,isEvalSupported:I,isOffscreenCanvasSupported:F,isChrome:L,canvasMaxAreaInBytes:q,fontExtraProperties:tt,useSystemFonts:_,cMapUrl:Y?A:null,standardFontDataUrl:Y?D:null}},xt={disableFontFace:K,fontExtraProperties:tt,ownerDocument:Q,pdfBug:at,styleElement:rt,loadingParams:{disableAutoFetch:J,enableXfa:ot}};return g.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const ht=g.messageHandler.sendWithPromise("GetDocRequest",pt,r?[r.buffer]:null);let Tt;if(f)Tt=new jM(f,{disableRange:it,disableStream:st});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");let Lt;kn?Lt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Ih(i)?b_:eD:Lt=Ih(i)?b_:WM,Tt=new Lt({url:i,length:St,httpHeaders:o,withCredentials:u,rangeChunkSize:p,disableRange:it,disableStream:st})}return ht.then(Lt=>{if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const de=new Gh(e,Lt,g.port),Xt=new SD(de,t,Tt,xt,M);t._transport=Xt,de.send("Ready",null)})}).catch(t._capability.reject),t}function mD(a){if(a instanceof URL)return a.href;try{return new URL(a,window.location).href}catch{if(kn&&typeof a=="string")return a}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function yD(a){if(kn&&typeof Buffer<"u"&&a instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength)return a;if(typeof a=="string")return Jg(a);if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)||typeof a=="object"&&!isNaN(a==null?void 0:a.length))return new Uint8Array(a);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function v_(a){return typeof a=="object"&&Number.isInteger(a==null?void 0:a.num)&&a.num>=0&&Number.isInteger(a==null?void 0:a.gen)&&a.gen>=0}var Ug;const jg=class jg{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${On(jg,Ug)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,i;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Ug=new WeakMap,k(jg,Ug,0);let kv=jg,mw=class{constructor(t,e,i=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const i of this._rangeListeners)i(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){Ae("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class bD{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Yt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Rr,ya,ji,vu,sg;class vD{constructor(t,e,i,r=!1){k(this,ji);k(this,Rr,null);k(this,ya,!1);this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=r?new a_:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new yw,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:o=!1}={}){return new _f({viewBox:this.view,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Yt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:i="display",annotationMode:r=dr.ENABLE,transform:o=null,background:u=null,optionalContentConfigPromise:h=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:g=null,isEditing:b=!1}){var I,F;(I=this._stats)==null||I.time("Overall");const v=this._transport.getRenderingIntent(i,r,g,b),{renderingIntent:A,cacheKey:E}=v;x(this,ya,!1),w(this,ji,sg).call(this),h||(h=this._transport.getOptionalContentConfig(A));let T=this._intentStates.get(E);T||(T=Object.create(null),this._intentStates.set(E,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);const D=!!(A&Si.PRINT);T.displayReadyCapability||(T.displayReadyCapability=Promise.withResolvers(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(F=this._stats)==null||F.time("Page Request"),this._pumpOperatorList(v));const C=L=>{var q;T.renderTasks.delete(P),(this._maybeCleanupAfterRender||D)&&x(this,ya,!0),w(this,ji,vu).call(this,!D),L?(P.capability.reject(L),this._abortOperatorList({intentState:T,reason:L instanceof Error?L:new Error(L)})):P.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(q=globalThis.Stats)!=null&&q.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},P=new Dv({callback:C,params:{canvasContext:t,viewport:e,transform:o,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!D,pdfBug:this._pdfBug,pageColors:p});(T.renderTasks||(T.renderTasks=new Set)).add(P);const N=P.task;return Promise.all([T.displayReadyCapability.promise,h]).then(([L,q])=>{var K;if(this.destroyed){C();return}if((K=this._stats)==null||K.time("Rendering"),!(q.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");P.initializeGraphics({transparency:L,optionalContentConfig:q}),P.operatorListChanged()}).catch(C),N}getOperatorList({intent:t="display",annotationMode:e=dr.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){var p;function o(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(f))}const u=this._transport.getRenderingIntent(t,e,i,r,!0);let h=this._intentStates.get(u.cacheKey);h||(h=Object.create(null),this._intentStates.set(u.cacheKey,h));let f;return h.opListReadCapability||(f=Object.create(null),f.operatorListChanged=o,h.opListReadCapability=Promise.withResolvers(),(h.renderTasks||(h.renderTasks=new Set)).add(f),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(u)),h.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>ad.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,r){function o(){u.read().then(function({value:f,done:p}){if(p){i(h);return}h.lang??(h.lang=f.lang),Object.assign(h.styles,f.styles),h.items.push(...f.items),o()},r)}const u=e.getReader(),h={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),x(this,ya,!1),w(this,ji,sg).call(this),Promise.all(t)}cleanup(t=!1){x(this,ya,!0);const e=w(this,ji,vu).call(this,!1);return t&&e&&this._stats&&(this._stats=new a_),e}_startRenderPage(t,e){var r,o;const i=this._intentStates.get(e);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(o=i.displayReadyCapability)==null||o.resolve(t))}_renderPageChunk(t,e){for(let i=0,r=t.length;i<r;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&w(this,ji,vu).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:r}){const{map:o,transfer:u}=i,f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:r},u).getReader(),p=this._intentStates.get(e);p.streamReader=f;const g=()=>{f.read().then(({value:b,done:v})=>{if(v){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(b,p),g())},b=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const v of p.renderTasks)v.operatorListChanged();w(this,ji,vu).call(this,!0)}if(p.displayReadyCapability)p.displayReadyCapability.reject(b);else if(p.opListReadCapability)p.opListReadCapability.reject(b);else throw b}})};g()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof R0){let r=uD;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new Eo(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Rr=new WeakMap,ya=new WeakMap,ji=new WeakSet,vu=function(t=!1){if(w(this,ji,sg).call(this),!d(this,ya)||this.destroyed)return!1;if(t)return x(this,Rr,setTimeout(()=>{x(this,Rr,null),w(this,ji,vu).call(this,!1)},cD)),!1;for(const{renderTasks:e,operatorList:i}of this._intentStates.values())if(e.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),x(this,ya,!1),!0},sg=function(){d(this,Rr)&&(clearTimeout(d(this,Rr)),x(this,Rr,null))};var ba,qg;class AD{constructor(){k(this,ba,new Map);k(this,qg,Promise.resolve())}postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};d(this,qg).then(()=>{for(const[r]of d(this,ba))r.call(this,i)})}addEventListener(t,e,i=null){let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:o}=i;if(o.aborted){Bt("LoopbackPort - cannot use an `aborted` signal.");return}const u=()=>this.removeEventListener(t,e);r=()=>o.removeEventListener("abort",u),o.addEventListener("abort",u)}d(this,ba).set(e,r)}removeEventListener(t,e){const i=d(this,ba).get(e);i==null||i(),d(this,ba).delete(e)}terminate(){for(const[,t]of d(this,ba))t==null||t();d(this,ba).clear()}}ba=new WeakMap,qg=new WeakMap;var Gg,ql,Gl,Zu,ag,Ju,rg;const Ee=class Ee{constructor({name:t=null,port:e=null,verbosity:i=Zk()}={}){k(this,Zu);var r;if(this.name=t,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((r=d(Ee,Gl))!=null&&r.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(d(Ee,Gl)||x(Ee,Gl,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return kn?Promise.all([Ur.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new Gh("main","worker",t),this._messageHandler.on("ready",function(){}),w(this,Zu,ag).call(this)}_initialize(){if(d(Ee,ql)||d(Ee,Ju,rg)){this._setupFakeWorker();return}let{workerSrc:t}=Ee;try{Ee._isSameOrigin(window.location.href,t)||(t=Ee._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new Gh("main","worker",e),r=()=>{o.abort(),i.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;e.addEventListener("error",()=>{this._webWorker||r()},{signal:o.signal}),i.on("test",h=>{if(o.abort(),this.destroyed||!h){r();return}this._messageHandler=i,this._port=e,this._webWorker=e,w(this,Zu,ag).call(this)}),i.on("ready",h=>{if(o.abort(),this.destroyed){r();return}try{u()}catch{this._setupFakeWorker()}});const u=()=>{const h=new Uint8Array;i.send("test",h,[h.buffer])};u();return}catch{$g("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){d(Ee,ql)||(Bt("Setting up fake worker."),x(Ee,ql,!0)),Ee._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new AD;this._port=e;const i=`fake${On(Ee,Gg)._++}`,r=new Gh(i+"_worker",i,e);t.setup(r,e),this._messageHandler=new Gh(i,i+"_worker",e),w(this,Zu,ag).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=d(Ee,Gl))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var i;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(i=d(this,Gl))==null?void 0:i.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Ee(t)}static get workerSrc(){if(Na.workerSrc)return Na.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Yt(this,"_setupFakeWorkerGlobal",(async()=>d(this,Ju,rg)?d(this,Ju,rg):(await import(this.workerSrc)).WorkerMessageHandler)())}};Gg=new WeakMap,ql=new WeakMap,Gl=new WeakMap,Zu=new WeakSet,ag=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Ju=new WeakSet,rg=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},k(Ee,Ju),k(Ee,Gg,0),k(Ee,ql,!1),k(Ee,Gl),kn&&(x(Ee,ql,!0),Na.workerSrc||(Na.workerSrc="./pdf.worker.mjs")),Ee._isSameOrigin=(t,e)=>{let i;try{if(i=new URL(t),!i.origin||i.origin==="null")return!1}catch{return!1}const r=new URL(e,i);return i.origin===r.origin},Ee._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let xu=Ee;var va,Ls,tc,ec,Os,Vl,Vh;class SD{constructor(t,e,i,r,o){k(this,Vl);k(this,va,new Map);k(this,Ls,new Map);k(this,tc,new Map);k(this,ec,new Map);k(this,Os,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new yw,this.fontLoader=new bM({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Yt(this,"annotationStorage",new L0)}getRenderingIntent(t,e=dr.ENABLE,i=null,r=!1,o=!1){let u=Si.DISPLAY,h=yv;switch(t){case"any":u=Si.ANY;break;case"display":break;case"print":u=Si.PRINT;break;default:Bt(`getRenderingIntent - invalid intent: ${t}`)}const f=u&Si.PRINT&&i instanceof Kx?i:this.annotationStorage;switch(e){case dr.DISABLE:u+=Si.ANNOTATIONS_DISABLE;break;case dr.ENABLE:break;case dr.ENABLE_FORMS:u+=Si.ANNOTATIONS_FORMS;break;case dr.ENABLE_STORAGE:u+=Si.ANNOTATIONS_STORAGE,h=f.serializable;break;default:Bt(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(u+=Si.IS_EDITING),o&&(u+=Si.OPLIST);const{ids:p,hash:g}=f.modifiedIds,b=[u,h.hash,g];return{renderingIntent:u,cacheKey:b.join("_"),annotationStorageSerializable:h,modifiedIds:p}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=d(this,Os))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of d(this,Ls).values())t.push(r._destroy());d(this,Ls).clear(),d(this,tc).clear(),d(this,ec).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),d(this,va).clear(),this.filterFactory.destroy(),Tv.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Eo("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,r)=>{$e(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:u}){if(u){r.close();return}$e(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("ReaderHeadersReady",async i=>{var h;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:u}=this._fullReader;return(!r||!o)&&(this._lastProgress&&((h=e.onProgress)==null||h.call(e,this._lastProgress)),this._fullReader.onProgress=f=>{var p;(p=e.onProgress)==null||p.call(e,{loaded:f.loaded,total:f.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:u}}),t.on("GetRangeReader",(i,r)=>{$e(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(i.begin,i.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:u,done:h}){if(h){r.close();return}$e(u instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(u),1,[u])}).catch(u=>{r.error(u)})},r.onCancel=u=>{o.cancel(u),r.ready.catch(h=>{if(!this.destroyed)throw h})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new bD(i,this))}),t.on("DocException",function(i){let r;switch(i.name){case"PasswordException":r=new Qb(i.message,i.code);break;case"InvalidPDFException":r=new Ax(i.message);break;case"MissingPDFException":r=new So(i.message);break;case"UnexpectedResponseException":r=new Zg(i.message,i.status);break;case"UnknownErrorException":r=new Wb(i.message,i.details);break;default:Ae("DocException - expected a valid Error.")}e._capability.reject(r)}),t.on("PasswordRequest",i=>{if(x(this,Os,Promise.withResolvers()),e.onPassword){const r=o=>{o instanceof Error?d(this,Os).reject(o):d(this,Os).resolve({password:o})};try{e.onPassword(r,i.code)}catch(o){d(this,Os).reject(o)}}else d(this,Os).reject(new Qb(i.message,i.code));return d(this,Os).promise}),t.on("DataLoaded",i=>{var r;(r=e.onProgress)==null||r.call(e,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;d(this,Ls).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,r,o])=>{var u;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":const{disableFontFace:h,fontExtraProperties:f,pdfBug:p}=this._params;if("error"in o){const A=o.error;Bt(`Error during font loading: ${A}`),this.commonObjs.resolve(i,A);break}const g=p&&((u=globalThis.FontInspector)!=null&&u.enabled)?(A,E)=>globalThis.FontInspector.fontAdded(A,E):null,b=new vM(o,{disableFontFace:h,inspectFont:g});this.fontLoader.bind(b).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!f&&b.data&&(b.data=null),this.commonObjs.resolve(i,b)});break;case"CopyLocalImage":const{imageRef:v}=o;$e(v,"The imageRef must be defined.");for(const A of d(this,Ls).values())for(const[,E]of A.objs)if((E==null?void 0:E.ref)===v)return E.dataLen?(this.commonObjs.resolve(i,structuredClone(E)),E.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([i,r,o,u])=>{var f;if(this.destroyed)return;const h=d(this,Ls).get(r);if(!h.objs.has(i)){if(h._intentStates.size===0){(f=u==null?void 0:u.bitmap)==null||f.close();return}switch(o){case"Image":h.objs.resolve(i,u),(u==null?void 0:u.dataLen)>Yk&&(h._maybeCleanupAfterRender=!0);break;case"Pattern":h.objs.resolve(i,u);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",i=>{var r;this.destroyed||(r=e.onProgress)==null||r.call(e,{loaded:i.loaded,total:i.total})}),t.on("FetchBuiltInCMap",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(i)}),t.on("FetchStandardFontData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&Bt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((i=this._fullReader)==null?void 0:i.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=d(this,tc).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&d(this,ec).set(o.refStr,t);const u=new vD(e,o,this,this._params.pdfBug);return d(this,Ls).set(e,u),u});return d(this,tc).set(e,r),r}getPageIndex(t){return v_(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return w(this,Vl,Vh).call(this,"GetFieldObjects")}hasJSActions(){return w(this,Vl,Vh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return w(this,Vl,Vh).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return w(this,Vl,Vh).call(this,"GetOptionalContentConfig").then(e=>new UM(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=d(this,va).get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(r=>{var o,u;return{info:r[0],metadata:r[1]?new HM(r[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((u=this._fullReader)==null?void 0:u.contentLength)??null}});return d(this,va).set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of d(this,Ls).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),d(this,va).clear(),this.filterFactory.destroy(!0),Tv.cleanup()}}cachedPageNumber(t){if(!v_(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return d(this,ec).get(e)??null}}va=new WeakMap,Ls=new WeakMap,tc=new WeakMap,ec=new WeakMap,Os=new WeakMap,Vl=new WeakSet,Vh=function(t,e=null){const i=d(this,va).get(t);if(i)return i;const r=this.messageHandler.sendWithPromise(t,e);return d(this,va).set(t,r),r};const qp=Symbol("INITIAL_DATA");var as,qd,Mv;class yw{constructor(){k(this,qd);k(this,as,Object.create(null))}get(t,e=null){if(e){const r=w(this,qd,Mv).call(this,t);return r.promise.then(()=>e(r.data)),null}const i=d(this,as)[t];if(!i||i.data===qp)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=d(this,as)[t];return!!e&&e.data!==qp}resolve(t,e=null){const i=w(this,qd,Mv).call(this,t);i.data=e,i.resolve()}clear(){var t;for(const e in d(this,as)){const{data:i}=d(this,as)[e];(t=i==null?void 0:i.bitmap)==null||t.close()}x(this,as,Object.create(null))}*[Symbol.iterator](){for(const t in d(this,as)){const{data:e}=d(this,as)[t];e!==qp&&(yield[t,e])}}}as=new WeakMap,qd=new WeakSet,Mv=function(t){var e;return(e=d(this,as))[t]||(e[t]={...Promise.withResolvers(),data:qp})};var kr;class ED{constructor(t){k(this,kr,null);x(this,kr,t),this.onContinue=null}get promise(){return d(this,kr).capability.promise}cancel(t=0){d(this,kr).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=d(this,kr).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=d(this,kr);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}kr=new WeakMap;var Mr,Xl;const yl=class yl{constructor({callback:t,params:e,objs:i,commonObjs:r,annotationCanvasMap:o,operatorList:u,pageIndex:h,canvasFactory:f,filterFactory:p,useRequestAnimationFrame:g=!1,pdfBug:b=!1,pageColors:v=null}){k(this,Mr,null);this.callback=t,this.params=e,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=u,this._pageIndex=h,this.canvasFactory=f,this.filterFactory=p,this._pdfBug=b,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new ED(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var h,f;if(this.cancelled)return;if(this._canvas){if(d(yl,Xl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");d(yl,Xl).add(this._canvas)}this._pdfBug&&((h=globalThis.StepperManager)!=null&&h.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:r,transform:o,background:u}=this.params;this.gfx=new _u(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:t,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,(f=this.graphicsReadyCallback)==null||f.call(this)}cancel(t=null,e=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),d(this,Mr)&&(window.cancelAnimationFrame(d(this,Mr)),x(this,Mr,null)),d(yl,Xl).delete(this._canvas),this.callback(t||new R0(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?x(this,Mr,window.requestAnimationFrame(()=>{x(this,Mr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),d(yl,Xl).delete(this._canvas),this.callback())))}};Mr=new WeakMap,Xl=new WeakMap,k(yl,Xl,new WeakSet);let Dv=yl;const _D="4.8.69",xD="3634dab10";function A_(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function Lh(a){return Math.max(0,Math.min(255,255*a))}class S_{static CMYK_G([t,e,i,r]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Lh(t),[t,t,t]}static G_HTML([t]){const e=A_(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(Lh)}static RGB_HTML(t){return`#${t.map(A_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,i+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,i,r]){return[Lh(1-Math.min(1,t+r)),Lh(1-Math.min(1,i+r)),Lh(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const r=1-t,o=1-e,u=1-i,h=Math.min(r,o,u);return["CMYK",r,o,u,h]}}class wD{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Ae("Abstract method `_createSVG` called.")}}class I0 extends wD{_createSVG(t){return document.createElementNS(la,t)}}class bw{static setupStorage(t,e,i,r,o){const u=r.getValue(e,{value:null});switch(i.name){case"textarea":if(u.value!==null&&(t.textContent=u.value),o==="print")break;t.addEventListener("input",h=>{r.setValue(e,{value:h.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(u.value===i.attributes.xfaOn?t.setAttribute("checked",!0):u.value===i.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",h=>{r.setValue(e,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(u.value!==null&&t.setAttribute("value",u.value),o==="print")break;t.addEventListener("input",h=>{r.setValue(e,{value:h.target.value})})}break;case"select":if(u.value!==null){t.setAttribute("value",u.value);for(const h of i.children)h.attributes.value===u.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}t.addEventListener("input",h=>{const f=h.target.options,p=f.selectedIndex===-1?"":f[f.selectedIndex].value;r.setValue(e,{value:p})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:r,linkService:o}){const{attributes:u}=e,h=t instanceof HTMLAnchorElement;u.type==="radio"&&(u.name=`${u.name}-${r}`);for(const[f,p]of Object.entries(u))if(p!=null)switch(f){case"class":p.length&&t.setAttribute(f,p.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",p);break;case"style":Object.assign(t.style,p);break;case"textContent":t.textContent=p;break;default:(!h||f!=="href"&&f!=="newWindow")&&t.setAttribute(f,p)}h&&o.addLinkAttributes(t,u.href,u.newWindow),i&&u.dataId&&this.setupStorage(t,u.dataId,e,i)}static render(t){var b,v;const e=t.annotationStorage,i=t.linkService,r=t.xfaHtml,o=t.intent||"display",u=document.createElement(r.name);r.attributes&&this.setAttributes({html:u,element:r,intent:o,linkService:i});const h=o!=="richText",f=t.div;if(f.append(u),t.viewport){const A=`matrix(${t.viewport.transform.join(",")})`;f.style.transform=A}h&&f.setAttribute("class","xfaLayer xfaFont");const p=[];if(r.children.length===0){if(r.value){const A=document.createTextNode(r.value);u.append(A),h&&ad.shouldBuildText(r.name)&&p.push(A)}return{textDivs:p}}const g=[[r,-1,u]];for(;g.length>0;){const[A,E,T]=g.at(-1);if(E+1===A.children.length){g.pop();continue}const D=A.children[++g.at(-1)[1]];if(D===null)continue;const{name:C}=D;if(C==="#text"){const N=document.createTextNode(D.value);p.push(N),T.append(N);continue}const P=(b=D==null?void 0:D.attributes)!=null&&b.xmlns?document.createElementNS(D.attributes.xmlns,C):document.createElement(C);if(T.append(P),D.attributes&&this.setAttributes({html:P,element:D,storage:e,intent:o,linkService:i}),((v=D.children)==null?void 0:v.length)>0)g.push([D,-1,P]);else if(D.value){const N=document.createTextNode(D.value);h&&ad.shouldBuildText(C)&&p.push(N),P.append(N)}}for(const A of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:p}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const wf=1e3,TD=9,yo=new WeakSet;function Pa(a){return{width:a[2]-a[0],height:a[3]-a[1]}}class CD{static create(t){switch(t.data.annotationType){case Ye.LINK:return new vw(t);case Ye.TEXT:return new RD(t);case Ye.WIDGET:switch(t.data.fieldType){case"Tx":return new kD(t);case"Btn":return t.data.radioButton?new Ew(t):t.data.checkBox?new DD(t):new LD(t);case"Ch":return new OD(t);case"Sig":return new MD(t)}return new _o(t);case Ye.POPUP:return new Ov(t);case Ye.FREETEXT:return new Cw(t);case Ye.LINE:return new PD(t);case Ye.SQUARE:return new zD(t);case Ye.CIRCLE:return new ID(t);case Ye.POLYLINE:return new Rw(t);case Ye.CARET:return new HD(t);case Ye.INK:return new F0(t);case Ye.POLYGON:return new FD(t);case Ye.HIGHLIGHT:return new kw(t);case Ye.UNDERLINE:return new BD(t);case Ye.SQUIGGLY:return new UD(t);case Ye.STRIKEOUT:return new jD(t);case Ye.STAMP:return new Mw(t);case Ye.FILEATTACHMENT:return new qD(t);default:return new Ie(t)}}}var Yl,nc,ic,Gd,Lv;const nA=class nA{constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){k(this,Gd);k(this,Yl,null);k(this,nc,!1);k(this,ic,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:i}){return!!(t!=null&&t.str||e!=null&&e.str||i!=null&&i.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return nA._hasPopupData(this.data)}updateEdited(t){var i;if(!this.container)return;d(this,Yl)||x(this,Yl,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&w(this,Gd,Lv).call(this,e),(i=d(this,ic))==null||i.popup.updateEdited(t)}resetEdited(){var t;d(this,Yl)&&(w(this,Gd,Lv).call(this,d(this,Yl).rect),(t=d(this,ic))==null||t.popup.resetEdited(),x(this,Yl,null))}_createContainer(t){const{data:e,parent:{page:i,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),this instanceof _o||(o.tabIndex=wf);const{style:u}=o;if(u.zIndex=this.parent.zIndex++,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof Ov){const{rotation:T}=e;return!e.hasOwnCanvas&&T!==0&&this.setRotation(T,o),o}const{width:h,height:f}=Pa(e.rect);if(!t&&e.borderStyle.width>0){u.borderWidth=`${e.borderStyle.width}px`;const T=e.borderStyle.horizontalCornerRadius,D=e.borderStyle.verticalCornerRadius;if(T>0||D>0){const P=`calc(${T}px * var(--scale-factor)) / calc(${D}px * var(--scale-factor))`;u.borderRadius=P}else if(this instanceof Ew){const P=`calc(${h}px * var(--scale-factor)) / calc(${f}px * var(--scale-factor))`;u.borderRadius=P}switch(e.borderStyle.style){case Mh.SOLID:u.borderStyle="solid";break;case Mh.DASHED:u.borderStyle="dashed";break;case Mh.BEVELED:Bt("Unimplemented border style: beveled");break;case Mh.INSET:Bt("Unimplemented border style: inset");break;case Mh.UNDERLINE:u.borderBottomStyle="solid";break}const C=e.borderColor||null;C?(x(this,nc,!0),u.borderColor=bt.makeHexColor(C[0]|0,C[1]|0,C[2]|0)):u.borderWidth=0}const p=bt.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:g,pageHeight:b,pageX:v,pageY:A}=r.rawDims;u.left=`${100*(p[0]-v)/g}%`,u.top=`${100*(p[1]-A)/b}%`;const{rotation:E}=e;return e.hasOwnCanvas||E===0?(u.width=`${100*h/g}%`,u.height=`${100*f/b}%`):this.setRotation(E,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims,{width:o,height:u}=Pa(this.data.rect);let h,f;t%180===0?(h=100*o/i,f=100*u/r):(h=100*u/i,f=100*o/r),e.style.width=`${h}%`,e.style.height=`${f}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,r)=>{const o=r.detail[e],u=o[0],h=o.slice(1);r.target.style[i]=S_[`${u}_HTML`](h),this.annotationStorage.setValue(this.data.id,{[i]:S_[`${u}_rgb`](h)})};return Yt(this,"_commonActions",{display:e=>{const{display:i}=e.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const r of Object.keys(e.detail)){const o=t[r]||i[r];o==null||o(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[r,o]of Object.entries(e)){const u=i[r];if(u){const h={detail:{[r]:o},target:t};u(h),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,r,o]=this.data.rect.map(T=>Math.fround(T));if(t.length===8){const[T,D,C,P]=t.subarray(2,6);if(r===T&&o===D&&e===C&&i===P)return}const{style:u}=this.container;let h;if(d(this,nc)){const{borderColor:T,borderWidth:D}=u;u.borderWidth=0,h=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${T}" stroke-width="${D}">`],this.container.classList.add("hasBorder")}const f=r-e,p=o-i,{svgFactory:g}=this,b=g.createElement("svg");b.classList.add("quadrilateralsContainer"),b.setAttribute("width",0),b.setAttribute("height",0);const v=g.createElement("defs");b.append(v);const A=g.createElement("clipPath"),E=`clippath_${this.data.id}`;A.setAttribute("id",E),A.setAttribute("clipPathUnits","objectBoundingBox"),v.append(A);for(let T=2,D=t.length;T<D;T+=8){const C=t[T],P=t[T+1],N=t[T+2],I=t[T+3],F=g.createElement("rect"),L=(N-e)/f,q=(o-P)/p,K=(C-N)/f,tt=(P-I)/p;F.setAttribute("x",L),F.setAttribute("y",q),F.setAttribute("width",K),F.setAttribute("height",tt),A.append(F),h==null||h.push(`<rect vector-effect="non-scaling-stroke" x="${L}" y="${q}" width="${K}" height="${tt}"/>`)}d(this,nc)&&(h.push("</g></svg>')"),u.backgroundImage=h.join("")),this.container.append(b),this.container.style.clipPath=`url(#${E})`}_createPopup(){const{data:t}=this,e=x(this,ic,new Ov({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){Ae("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:o,id:u,exportValues:h}of r){if(o===-1||u===e)continue;const f=typeof h=="string"?h:null,p=document.querySelector(`[data-element-id="${u}"]`);if(p&&!yo.has(p)){Bt(`_getElementsByName - element not allowed: ${u}`);continue}i.push({id:u,exportValue:f,domElement:p})}return i}for(const r of document.getElementsByName(t)){const{exportValue:o}=r,u=r.getAttribute("data-element-id");u!==e&&yo.has(r)&&i.push({id:u,exportValue:o,domElement:r})}return i}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};Yl=new WeakMap,nc=new WeakMap,ic=new WeakMap,Gd=new WeakSet,Lv=function(t){const{container:{style:e},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:u,pageX:h,pageY:f}}}}=this;i==null||i.splice(0,4,...t);const{width:p,height:g}=Pa(t);e.left=`${100*(t[0]-h)/o}%`,e.top=`${100*(u-t[3]+f)/u}%`,r===0?(e.width=`${100*p/o}%`,e.height=`${100*g/u}%`):this.setRotation(r)};let Ie=nA;var Ei,dl,Aw,Sw;class vw extends Ie{constructor(e,i=null){super(e,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});k(this,Ei);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let o=!1;return e.url?(i.addLinkAttributes(r,e.url,e.newWindow),o=!0):e.action?(this._bindNamedAction(r,e.action),o=!0):e.attachment?(w(this,Ei,Aw).call(this,r,e.attachment,e.attachmentDest),o=!0):e.setOCGState?(w(this,Ei,Sw).call(this,r,e.setOCGState),o=!0):e.dest?(this._bindLink(r,e.dest),o=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),o=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(r,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(r),this.container}_bindLink(e,i){e.href=this.linkService.getDestinationHash(i),e.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&w(this,Ei,dl).call(this)}_bindNamedAction(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(i),!1),w(this,Ei,dl).call(this)}_bindJSAction(e,i){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(i.actions)){const u=r.get(o);u&&(e[u]=()=>{var h;return(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:o}}),!1})}e.onclick||(e.onclick=()=>!1),w(this,Ei,dl).call(this)}_bindResetFormAction(e,i){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),w(this,Ei,dl).call(this),!this._fieldObjects){Bt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{var b;r==null||r();const{fields:o,refs:u,include:h}=i,f=[];if(o.length!==0||u.length!==0){const v=new Set(u);for(const A of o){const E=this._fieldObjects[A]||[];for(const{id:T}of E)v.add(T)}for(const A of Object.values(this._fieldObjects))for(const E of A)v.has(E.id)===h&&f.push(E)}else for(const v of Object.values(this._fieldObjects))f.push(...v);const p=this.annotationStorage,g=[];for(const v of f){const{id:A}=v;switch(g.push(A),v.type){case"text":{const T=v.defaultValue||"";p.setValue(A,{value:T});break}case"checkbox":case"radiobutton":{const T=v.defaultValue===v.exportValues;p.setValue(A,{value:T});break}case"combobox":case"listbox":{const T=v.defaultValue||"";p.setValue(A,{value:T});break}default:continue}const E=document.querySelector(`[data-element-id="${A}"]`);if(E){if(!yo.has(E)){Bt(`_bindResetFormAction - element not allowed: ${A}`);continue}}else continue;E.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:g,name:"ResetForm"}})),!1}}}Ei=new WeakSet,dl=function(){this.container.setAttribute("data-internal-link","")},Aw=function(e,i,r=null){e.href=this.linkService.getAnchorUrl(""),i.description&&(e.title=i.description),e.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(i.content,i.filename,r),!1},w(this,Ei,dl).call(this)},Sw=function(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(i),!1),w(this,Ei,dl).call(this)};class RD extends Ie{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class _o extends Ie{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return In.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,r,o){i.includes("mouse")?t.addEventListener(i,u=>{var h;(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(u),shift:u.shiftKey,modifier:this._getKeyModifier(u)}})}):t.addEventListener(i,u=>{var h;if(i==="blur"){if(!e.focused||!u.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}o&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(u)}}))})}_setEventListeners(t,e,i,r){var o,u,h;for(const[f,p]of i)(p==="Action"||(o=this.data.actions)!=null&&o[p])&&((p==="Focus"||p==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,f,p,r),p==="Focus"&&!((u=this.data.actions)!=null&&u.Blur)?this._setEventListener(t,e,"blur","Blur",null):p==="Blur"&&!((h=this.data.actions)!=null&&h.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":bt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||TD,o=t.style;let u;const h=2,f=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h),g=Math.round(p/(Rb*r))||1,b=p/g;u=Math.min(r,f(b/Rb))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h);u=Math.min(r,f(p/Rb))}o.fontSize=`calc(${u}px * var(--scale-factor))`,o.color=bt.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class kD extends _o{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,r){const o=this.annotationStorage;for(const u of this._getElementsByName(t.name,t.id))u.domElement&&(u.domElement[e]=i),o.setValue(u.id,{[r]:i})}render(){var r,o;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const u=t.getValue(e,{value:this.data.fieldValue});let h=u.value||"";const f=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;f&&h.length>f&&(h=h.slice(0,f));let p=u.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const g={userValue:h,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=p??h,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",p??h),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),yo.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=wf,this._setRequired(i,this.data.required),f&&(i.maxLength=f),i.addEventListener("input",v=>{t.setValue(e,{value:v.target.value}),this.setPropertyOnSiblings(i,"value",v.target.value,"value"),g.formattedValue=null}),i.addEventListener("resetform",v=>{const A=this.data.defaultFieldValue??"";i.value=g.userValue=A,g.formattedValue=null});let b=v=>{const{formattedValue:A}=g;A!=null&&(v.target.value=A),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",A=>{var T;if(g.focused)return;const{target:E}=A;g.userValue&&(E.value=g.userValue),g.lastCommittedValue=E.value,g.commitKey=1,(T=this.data.actions)!=null&&T.Focus||(g.focused=!0)}),i.addEventListener("updatefromsandbox",A=>{this.showElementAndHideCanvas(A.target);const E={value(T){g.userValue=T.detail.value??"",t.setValue(e,{value:g.userValue.toString()}),T.target.value=g.userValue},formattedValue(T){const{formattedValue:D}=T.detail;g.formattedValue=D,D!=null&&T.target!==document.activeElement&&(T.target.value=D),t.setValue(e,{formattedValue:D})},selRange(T){T.target.setSelectionRange(...T.detail.selRange)},charLimit:T=>{var N;const{charLimit:D}=T.detail,{target:C}=T;if(D===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",D);let P=g.userValue;!P||P.length<=D||(P=P.slice(0,D),C.value=g.userValue=P,t.setValue(e,{value:P}),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:P,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(E,A)}),i.addEventListener("keydown",A=>{var D;g.commitKey=1;let E=-1;if(A.key==="Escape"?E=0:A.key==="Enter"&&!this.data.multiLine?E=2:A.key==="Tab"&&(g.commitKey=3),E===-1)return;const{value:T}=A.target;g.lastCommittedValue!==T&&(g.lastCommittedValue=T,g.userValue=T,(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,willCommit:!0,commitKey:E,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const v=b;b=null,i.addEventListener("blur",A=>{var T,D;if(!g.focused||!A.relatedTarget)return;(T=this.data.actions)!=null&&T.Blur||(g.focused=!1);const{value:E}=A.target;g.userValue=E,g.lastCommittedValue!==E&&((D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:g.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}})),v(A)}),(o=this.data.actions)!=null&&o.Keystroke&&i.addEventListener("beforeinput",A=>{var F;g.lastCommittedValue=null;const{data:E,target:T}=A,{value:D,selectionStart:C,selectionEnd:P}=T;let N=C,I=P;switch(A.inputType){case"deleteWordBackward":{const L=D.substring(0,C).match(/\w*[^\w]*$/);L&&(N-=L[0].length);break}case"deleteWordForward":{const L=D.substring(C).match(/^[^\w]*\w*/);L&&(I+=L[0].length);break}case"deleteContentBackward":C===P&&(N-=1);break;case"deleteContentForward":C===P&&(I+=1);break}A.preventDefault(),(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:D,change:E||"",willCommit:!1,selStart:N,selEnd:I}})}),this._setEventListeners(i,g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(b&&i.addEventListener("blur",b),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/f;i.classList.add("comb"),i.style.letterSpacing=`calc(${A}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class MD extends _o{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class DD extends _o{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return yo.add(o),o.setAttribute("data-element-id",i),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=wf,o.addEventListener("change",u=>{const{name:h,checked:f}=u.target;for(const p of this._getElementsByName(h,i)){const g=f&&p.exportValue===e.exportValue;p.domElement&&(p.domElement.checked=g),t.setValue(p.id,{value:g})}t.setValue(i,{value:f})}),o.addEventListener("resetform",u=>{const h=e.defaultFieldValue||"Off";u.target.checked=h===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",u=>{const h={value(f){f.target.checked=f.detail.value!=="Off",t.setValue(i,{value:f.target.checked})}};this._dispatchEventFromSandbox(h,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class Ew extends _o{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(i,{value:r})),r)for(const u of this._getElementsByName(e.fieldName,i))t.setValue(u.id,{value:!1});const o=document.createElement("input");if(yo.add(o),o.setAttribute("data-element-id",i),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=wf,o.addEventListener("change",u=>{const{name:h,checked:f}=u.target;for(const p of this._getElementsByName(h,i))t.setValue(p.id,{value:!1});t.setValue(i,{value:f})}),o.addEventListener("resetform",u=>{const h=e.defaultFieldValue;u.target.checked=h!=null&&h===e.buttonValue}),this.enableScripting&&this.hasJSActions){const u=e.buttonValue;o.addEventListener("updatefromsandbox",h=>{const f={value:p=>{const g=u===p.detail.value;for(const b of this._getElementsByName(p.target.name)){const v=g&&b.id===i;b.domElement&&(b.domElement.checked=v),t.setValue(b.id,{value:v})}}};this._dispatchEventFromSandbox(f,h)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class LD extends vw{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class OD extends _o{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");yo.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=wf;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",g=>{const b=this.data.defaultFieldValue;for(const v of r.options)v.selected=v.value===b});for(const g of this.data.options){const b=document.createElement("option");b.textContent=g.displayValue,b.value=g.exportValue,i.value.includes(g.exportValue)&&(b.setAttribute("selected",!0),o=!1),r.append(b)}let u=null;if(o){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),r.prepend(g),u=()=>{g.remove(),r.removeEventListener("input",u),u=null},r.addEventListener("input",u)}const h=g=>{const b=g?"value":"textContent",{options:v,multiple:A}=r;return A?Array.prototype.filter.call(v,E=>E.selected).map(E=>E[b]):v.selectedIndex===-1?null:v[v.selectedIndex][b]};let f=h(!1);const p=g=>{const b=g.target.options;return Array.prototype.map.call(b,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",g=>{const b={value(v){u==null||u();const A=v.detail.value,E=new Set(Array.isArray(A)?A:[A]);for(const T of r.options)T.selected=E.has(T.value);t.setValue(e,{value:h(!0)}),f=h(!1)},multipleSelection(v){r.multiple=!0},remove(v){const A=r.options,E=v.detail.remove;A[E].selected=!1,r.remove(E),A.length>0&&Array.prototype.findIndex.call(A,D=>D.selected)===-1&&(A[0].selected=!0),t.setValue(e,{value:h(!0),items:p(v)}),f=h(!1)},clear(v){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),f=h(!1)},insert(v){const{index:A,displayValue:E,exportValue:T}=v.detail.insert,D=r.children[A],C=document.createElement("option");C.textContent=E,C.value=T,D?D.before(C):r.append(C),t.setValue(e,{value:h(!0),items:p(v)}),f=h(!1)},items(v){const{items:A}=v.detail;for(;r.length!==0;)r.remove(0);for(const E of A){const{displayValue:T,exportValue:D}=E,C=document.createElement("option");C.textContent=T,C.value=D,r.append(C)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:h(!0),items:p(v)}),f=h(!1)},indices(v){const A=new Set(v.detail.indices);for(const E of v.target.options)E.selected=A.has(E.index);t.setValue(e,{value:h(!0)}),f=h(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(b,g)}),r.addEventListener("input",g=>{var A;const b=h(!0),v=h(!1);t.setValue(e,{value:b}),g.preventDefault(),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:f,change:v,changeEx:b,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):r.addEventListener("input",function(g){t.setValue(e,{value:h(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Ov extends Ie{constructor(t){const{data:e,elements:i}=t;super(t,{isRenderable:Ie._hasPopupData(e)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new ND({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",e.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(i=>`${C0}${i}`).join(",")),this.container}}var sc,Vg,Xg,ac,Kl,De,Aa,rc,Vd,Xd,lc,Sa,rs,Ea,Yd,_a,Kd,Ql,Wl,he,lg,Nv,_w,xw,ww,Tw,og,ug,Pv;class ND{constructor({container:t,color:e,elements:i,titleObj:r,modificationDate:o,contentsObj:u,richText:h,parent:f,rect:p,parentRect:g,open:b}){k(this,he);k(this,sc,w(this,he,ww).bind(this));k(this,Vg,w(this,he,Pv).bind(this));k(this,Xg,w(this,he,ug).bind(this));k(this,ac,w(this,he,og).bind(this));k(this,Kl,null);k(this,De,null);k(this,Aa,null);k(this,rc,null);k(this,Vd,null);k(this,Xd,null);k(this,lc,null);k(this,Sa,!1);k(this,rs,null);k(this,Ea,null);k(this,Yd,null);k(this,_a,null);k(this,Kd,null);k(this,Ql,null);k(this,Wl,!1);var v;x(this,De,t),x(this,Kd,r),x(this,Aa,u),x(this,_a,h),x(this,Xd,f),x(this,Kl,e),x(this,Yd,p),x(this,lc,g),x(this,Vd,i),x(this,rc,M0.toDateObject(o)),this.trigger=i.flatMap(A=>A.getElementsToTriggerPopup());for(const A of this.trigger)A.addEventListener("click",d(this,ac)),A.addEventListener("mouseenter",d(this,Xg)),A.addEventListener("mouseleave",d(this,Vg)),A.classList.add("popupTriggerArea");for(const A of i)(v=A.container)==null||v.addEventListener("keydown",d(this,sc));d(this,De).hidden=!0,b&&w(this,he,og).call(this)}render(){if(d(this,rs))return;const t=x(this,rs,document.createElement("div"));if(t.className="popup",d(this,Kl)){const o=t.style.outlineColor=bt.makeHexColor(...d(this,Kl));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:t.style.backgroundColor=bt.makeHexColor(...d(this,Kl).map(h=>Math.floor(.7*(255-h)+h)))}const e=document.createElement("span");e.className="header";const i=document.createElement("h1");if(e.append(i),{dir:i.dir,str:i.textContent}=d(this,Kd),t.append(e),d(this,rc)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:d(this,rc).valueOf()})),e.append(o)}const r=d(this,he,lg);if(r)bw.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(d(this,Aa));t.append(o)}d(this,De).append(t)}_formatContents({str:t,dir:e}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let o=0,u=r.length;o<u;++o){const h=r[o];i.append(document.createTextNode(h)),o<u-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:t,popupContent:e}){var i;d(this,Ql)||x(this,Ql,{contentsObj:d(this,Aa),richText:d(this,_a)}),t&&x(this,Ea,null),e&&(x(this,_a,w(this,he,xw).call(this,e)),x(this,Aa,null)),(i=d(this,rs))==null||i.remove(),x(this,rs,null)}resetEdited(){var t;d(this,Ql)&&({contentsObj:On(this,Aa)._,richText:On(this,_a)._}=d(this,Ql),x(this,Ql,null),(t=d(this,rs))==null||t.remove(),x(this,rs,null),x(this,Ea,null))}forceHide(){x(this,Wl,this.isVisible),d(this,Wl)&&(d(this,De).hidden=!0)}maybeShow(){d(this,Wl)&&(d(this,rs)||w(this,he,ug).call(this),x(this,Wl,!1),d(this,De).hidden=!1)}get isVisible(){return d(this,De).hidden===!1}}sc=new WeakMap,Vg=new WeakMap,Xg=new WeakMap,ac=new WeakMap,Kl=new WeakMap,De=new WeakMap,Aa=new WeakMap,rc=new WeakMap,Vd=new WeakMap,Xd=new WeakMap,lc=new WeakMap,Sa=new WeakMap,rs=new WeakMap,Ea=new WeakMap,Yd=new WeakMap,_a=new WeakMap,Kd=new WeakMap,Ql=new WeakMap,Wl=new WeakMap,he=new WeakSet,lg=function(){const t=d(this,_a),e=d(this,Aa);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&d(this,_a).html||null},Nv=function(){var t,e,i;return((i=(e=(t=d(this,he,lg))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.fontSize)||0},_w=function(){var t,e,i;return((i=(e=(t=d(this,he,lg))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.color)||null},xw=function(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:d(this,he,_w),fontSize:d(this,he,Nv)?`calc(${d(this,he,Nv)}px * var(--scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:r});return i},ww=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&d(this,Sa))&&w(this,he,og).call(this)},Tw=function(){if(d(this,Ea)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:r,pageY:o}}}=d(this,Xd);let u=!!d(this,lc),h=u?d(this,lc):d(this,Yd);for(const E of d(this,Vd))if(!h||bt.intersect(E.data.rect,h)!==null){h=E.data.rect,u=!0;break}const f=bt.normalizeRect([h[0],t[3]-h[1]+t[1],h[2],t[3]-h[3]+t[1]]),g=u?h[2]-h[0]+5:0,b=f[0]+g,v=f[1];x(this,Ea,[100*(b-r)/e,100*(v-o)/i]);const{style:A}=d(this,De);A.left=`${d(this,Ea)[0]}%`,A.top=`${d(this,Ea)[1]}%`},og=function(){x(this,Sa,!d(this,Sa)),d(this,Sa)?(w(this,he,ug).call(this),d(this,De).addEventListener("click",d(this,ac)),d(this,De).addEventListener("keydown",d(this,sc))):(w(this,he,Pv).call(this),d(this,De).removeEventListener("click",d(this,ac)),d(this,De).removeEventListener("keydown",d(this,sc)))},ug=function(){d(this,rs)||this.render(),this.isVisible?d(this,Sa)&&d(this,De).classList.add("focused"):(w(this,he,Tw).call(this),d(this,De).hidden=!1,d(this,De).style.zIndex=parseInt(d(this,De).style.zIndex)+1e3)},Pv=function(){d(this,De).classList.remove("focused"),!(d(this,Sa)||!this.isVisible)&&(d(this,De).hidden=!0,d(this,De).style.zIndex=parseInt(d(this,De).style.zIndex)-1e3)};class Cw extends Ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=It.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Qd;class PD extends Ie{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});k(this,Qd,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:i,height:r}=Pa(e.rect),o=this.svgFactory.create(i,r,!0),u=x(this,Qd,this.svgFactory.createElement("svg:line"));return u.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),u.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),u.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),u.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),u.setAttribute("stroke-width",e.borderStyle.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),o.append(u),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Qd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qd=new WeakMap;var Wd;class zD extends Ie{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});k(this,Wd,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:i,height:r}=Pa(e.rect),o=this.svgFactory.create(i,r,!0),u=e.borderStyle.width,h=x(this,Wd,this.svgFactory.createElement("svg:rect"));return h.setAttribute("x",u/2),h.setAttribute("y",u/2),h.setAttribute("width",i-u),h.setAttribute("height",r-u),h.setAttribute("stroke-width",u||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),o.append(h),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Wd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Wd=new WeakMap;var $d;class ID extends Ie{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});k(this,$d,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:i,height:r}=Pa(e.rect),o=this.svgFactory.create(i,r,!0),u=e.borderStyle.width,h=x(this,$d,this.svgFactory.createElement("svg:ellipse"));return h.setAttribute("cx",i/2),h.setAttribute("cy",r/2),h.setAttribute("rx",i/2-u/2),h.setAttribute("ry",r/2-u/2),h.setAttribute("stroke-width",u||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),o.append(h),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,$d)}addHighlightArea(){this.container.classList.add("highlightArea")}}$d=new WeakMap;var Zd;class Rw extends Ie{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});k(this,Zd,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:i,borderStyle:r,popupRef:o}}=this;if(!i)return this.container;const{width:u,height:h}=Pa(e),f=this.svgFactory.create(u,h,!0);let p=[];for(let b=0,v=i.length;b<v;b+=2){const A=i[b]-e[0],E=e[3]-i[b+1];p.push(`${A},${E}`)}p=p.join(" ");const g=x(this,Zd,this.svgFactory.createElement(this.svgElementName));return g.setAttribute("points",p),g.setAttribute("stroke-width",r.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),f.append(g),this.container.append(f),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Zd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zd=new WeakMap;class FD extends Rw{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class HD extends Ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Jd;class F0 extends Ie{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});k(this,Jd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?It.HIGHLIGHT:It.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:i,borderStyle:r,popupRef:o}}=this,{width:u,height:h}=Pa(e),f=this.svgFactory.create(u,h,!0);for(const p of i){let g=[];for(let v=0,A=p.length;v<A;v+=2){const E=p[v]-e[0],T=e[3]-p[v+1];g.push(`${E},${T}`)}g=g.join(" ");const b=this.svgFactory.createElement(this.svgElementName);d(this,Jd).push(b),b.setAttribute("points",g),b.setAttribute("stroke-width",r.width||1),b.setAttribute("stroke","transparent"),b.setAttribute("fill","transparent"),f.append(b)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return d(this,Jd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Jd=new WeakMap;class kw extends Ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=It.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class BD extends Ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class UD extends Ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class jD extends Ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Mw extends Ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=It.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var tf,ef,zv;class qD extends Ie{constructor(e){var r;super(e,{isRenderable:!0});k(this,ef);k(this,tf,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",w(this,ef,zv).bind(this)),x(this,tf,r);const{isMac:o}=In.platform;return e.addEventListener("keydown",u=>{u.key==="Enter"&&(o?u.metaKey:u.ctrlKey)&&w(this,ef,zv).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return d(this,tf)}addHighlightArea(){this.container.classList.add("highlightArea")}}tf=new WeakMap,ef=new WeakSet,zv=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var nf,$l,Zl,sf,vo,Dw,Iv,bx;let GD=(bx=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:r,page:o,viewport:u,structTreeLayer:h}){k(this,vo);k(this,nf,null);k(this,$l,null);k(this,Zl,new Map);k(this,sf,null);this.div=t,x(this,nf,e),x(this,$l,i),x(this,sf,h||null),this.page=o,this.viewport=u,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return d(this,Zl).size>0}async render(t){var u;const{annotations:e}=t,i=this.div;go(i,this.viewport);const r=new Map,o={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new I0,annotationStorage:t.annotationStorage||new L0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const h of e){if(h.noHTML)continue;const f=h.annotationType===Ye.POPUP;if(f){const b=r.get(h.id);if(!b)continue;o.elements=b}else{const{width:b,height:v}=Pa(h.rect);if(b<=0||v<=0)continue}o.data=h;const p=CD.create(o);if(!p.isRenderable)continue;if(!f&&h.popupRef){const b=r.get(h.popupRef);b?b.push(p):r.set(h.popupRef,[p])}const g=p.render();h.hidden&&(g.style.visibility="hidden"),await w(this,vo,Dw).call(this,g,h.id),p._isEditable&&(d(this,Zl).set(p.data.id,p),(u=this._annotationEditorUIManager)==null||u.renderAnnotationElement(p))}w(this,vo,Iv).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,go(e,{rotation:t.rotation}),w(this,vo,Iv).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(d(this,Zl).values())}getEditableAnnotation(t){return d(this,Zl).get(t)}},nf=new WeakMap,$l=new WeakMap,Zl=new WeakMap,sf=new WeakMap,vo=new WeakSet,Dw=async function(t,e){var u,h;const i=t.firstChild||t,r=i.id=`${C0}${e}`,o=await((u=d(this,sf))==null?void 0:u.getAriaAttributes(r));if(o)for(const[f,p]of o)i.setAttribute(f,p);this.div.append(t),(h=d(this,nf))==null||h.moveElementInDOM(this.div,t,i,!1)},Iv=function(){if(!d(this,$l))return;const t=this.div;for(const[e,i]of d(this,$l)){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):r.append(i)}d(this,$l).clear()},bx);const Gp=/\r\n?|\n/g;var ls,gi,af,Jl,mi,Ge,Lw,Ow,Nw,cg,Ia,hg,dg,Pw,Hv,zw;const ye=class ye extends re{constructor(e){super({...e,name:"freeTextEditor"});k(this,Ge);k(this,ls);k(this,gi,"");k(this,af,`${this.id}-editor`);k(this,Jl,null);k(this,mi);x(this,ls,e.color||ye._defaultColor||re._defaultLineColor),x(this,mi,e.fontSize||ye._defaultFontSize)}static get _keyboardManager(){const e=ye.prototype,i=u=>u.isEmpty(),r=mo.TRANSLATE_SMALL,o=mo.TRANSLATE_BIG;return Yt(this,"_keyboardManager",new xf([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-o,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[o,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-o],checker:i}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,o],checker:i}]]))}static initialize(e,i){re.initialize(e,i);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,i){switch(e){case Dt.FREETEXT_SIZE:ye._defaultFontSize=i;break;case Dt.FREETEXT_COLOR:ye._defaultColor=i;break}}updateParams(e,i){switch(e){case Dt.FREETEXT_SIZE:w(this,Ge,Lw).call(this,i);break;case Dt.FREETEXT_COLOR:w(this,Ge,Ow).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Dt.FREETEXT_SIZE,ye._defaultFontSize],[Dt.FREETEXT_COLOR,ye._defaultColor||re._defaultLineColor]]}get propertiesToUpdate(){return[[Dt.FREETEXT_SIZE,d(this,mi)],[Dt.FREETEXT_COLOR,d(this,ls)]]}_translateEmpty(e,i){this._uiManager.translateSelectedEditors(e,i,!0)}getInitialTranslation(){const e=this.parentScale;return[-ye._internalPadding*e,-(ye._internalPadding+d(this,mi))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(It.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),x(this,Jl,new AbortController);const e=this._uiManager.combinedSignal(d(this,Jl));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",d(this,af)),this._isDraggable=!0,(e=d(this,Jl))==null||e.abort(),x(this,Jl,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=d(this,gi),i=x(this,gi,w(this,Ge,Nw).call(this).trimEnd());if(e===i)return;const r=o=>{if(x(this,gi,o),!o){this.remove();return}w(this,Ge,dg).call(this),this._uiManager.rebuild(this),w(this,Ge,cg).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(e)},mustExec:!1}),w(this,Ge,cg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){ye._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,i;this.width&&(e=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",d(this,af)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${d(this,mi)}px * var(--scale-factor))`,r.color=d(this,ls),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),wg(this,this.div,["dblclick","keydown"]),this.width){const[o,u]=this.parentDimensions;if(this.annotationElementId){const{position:h}=this._initialData;let[f,p]=this.getInitialTranslation();[f,p]=this.pageTranslationToScreen(f,p);const[g,b]=this.pageDimensions,[v,A]=this.pageTranslation;let E,T;switch(this.rotation){case 0:E=e+(h[0]-v)/g,T=i+this.height-(h[1]-A)/b;break;case 90:E=e+(h[0]-v)/g,T=i-(h[1]-A)/b,[f,p]=[p,-f];break;case 180:E=e-this.width+(h[0]-v)/g,T=i-(h[1]-A)/b,[f,p]=[-f,-p];break;case 270:E=e+(h[0]-v-this.height*b)/g,T=i+(h[1]-A-this.width*g)/b,[f,p]=[-p,f];break}this.setAt(E*o,T*u,f,p)}else this.setAt(e*o,i*u,this.width*o,this.height*u);w(this,Ge,dg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var E,T,D;const i=e.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const o=w(E=ye,Ia,Hv).call(E,i.getData("text")||"").replaceAll(Gp,`
`);if(!o)return;const u=window.getSelection();if(!u.rangeCount)return;this.editorDiv.normalize(),u.deleteFromDocument();const h=u.getRangeAt(0);if(!o.includes(`
`)){h.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),u.collapseToStart();return}const{startContainer:f,startOffset:p}=h,g=[],b=[];if(f.nodeType===Node.TEXT_NODE){const C=f.parentElement;if(b.push(f.nodeValue.slice(p).replaceAll(Gp,"")),C!==this.editorDiv){let P=g;for(const N of this.editorDiv.childNodes){if(N===C){P=b;continue}P.push(w(T=ye,Ia,hg).call(T,N))}}g.push(f.nodeValue.slice(0,p).replaceAll(Gp,""))}else if(f===this.editorDiv){let C=g,P=0;for(const N of this.editorDiv.childNodes)P++===p&&(C=b),C.push(w(D=ye,Ia,hg).call(D,N))}x(this,gi,`${g.join(`
`)}${o}${b.join(`
`)}`),w(this,Ge,dg).call(this);const v=new Range;let A=g.reduce((C,P)=>C+P.length,0);for(const{firstChild:C}of this.editorDiv.childNodes)if(C.nodeType===Node.TEXT_NODE){const P=C.nodeValue.length;if(A<=P){v.setStart(C,A),v.setEnd(C,A);break}A-=P}u.removeAllRanges(),u.addRange(v)}get contentDiv(){return this.editorDiv}static async deserialize(e,i,r){var h;let o=null;if(e instanceof Cw){const{data:{defaultAppearanceData:{fontSize:f,fontColor:p},rect:g,rotation:b,id:v,popupRef:A},textContent:E,textPosition:T,parent:{page:{pageNumber:D}}}=e;if(!E||E.length===0)return null;o=e={annotationType:It.FREETEXT,color:Array.from(p),fontSize:f,value:E.join(`
`),position:T,pageIndex:D-1,rect:g.slice(0),rotation:b,id:v,deleted:!1,popupRef:A}}const u=await super.deserialize(e,i,r);return x(u,mi,e.fontSize),x(u,ls,bt.makeHexColor(...e.color)),x(u,gi,w(h=ye,Ia,Hv).call(h,e.value)),u.annotationElementId=e.id||null,u._initialData=o,u}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=ye._internalPadding*this.parentScale,r=this.getRect(i,i),o=re._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:d(this,ls)),u={annotationType:It.FREETEXT,color:o,fontSize:d(this,mi),value:w(this,Ge,Pw).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?u:this.annotationElementId&&!w(this,Ge,zw).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(e){const i=super.renderAnnotationElement(e);if(this.deleted)return i;const{style:r}=i;r.fontSize=`calc(${d(this,mi)}px * var(--scale-factor))`,r.color=d(this,ls),i.replaceChildren();for(const u of d(this,gi).split(`
`)){const h=document.createElement("div");h.append(u?document.createTextNode(u):document.createElement("br")),i.append(h)}const o=ye._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(o,o),popupContent:d(this,gi)}),i}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};ls=new WeakMap,gi=new WeakMap,af=new WeakMap,Jl=new WeakMap,mi=new WeakMap,Ge=new WeakSet,Lw=function(e){const i=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-d(this,mi))*this.parentScale),x(this,mi,o),w(this,Ge,cg).call(this)},r=d(this,mi);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Ow=function(e){const i=o=>{x(this,ls,this.editorDiv.style.color=o)},r=d(this,ls);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Nw=function(){var r;const e=[];this.editorDiv.normalize();let i=null;for(const o of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(e.push(w(r=ye,Ia,hg).call(r,o)),i=o);return e.join(`
`)},cg=function(){const[e,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:o,div:u}=this,h=u.style.display,f=u.classList.contains("hidden");u.classList.remove("hidden"),u.style.display="hidden",o.div.append(this.div),r=u.getBoundingClientRect(),u.remove(),u.style.display=h,u.classList.toggle("hidden",f)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/i):(this.width=r.height/e,this.height=r.width/i),this.fixAndSetPosition()},Ia=new WeakSet,hg=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Gp,"")},dg=function(){if(this.editorDiv.replaceChildren(),!!d(this,gi))for(const e of d(this,gi).split(`
`)){const i=document.createElement("div");i.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(i)}},Pw=function(){return d(this,gi).replaceAll(""," ")},Hv=function(e){return e.replaceAll(" ","")},zw=function(e){const{value:i,fontSize:r,color:o,pageIndex:u}=this._initialData;return this._hasBeenMoved||e.value!==i||e.fontSize!==r||e.color.some((h,f)=>h!==o[f])||e.pageIndex!==u},k(ye,Ia),Mt(ye,"_freeTextDefaultContent",""),Mt(ye,"_internalPadding",0),Mt(ye,"_defaultColor",null),Mt(ye,"_defaultFontSize",10),Mt(ye,"_type","freetext"),Mt(ye,"_editorType",It.FREETEXT);let Fv=ye;class Iw{toSVGPath(){Ae("Abstract method `toSVGPath` must be implemented.")}get box(){Ae("Abstract getter `box` must be implemented.")}serialize(t,e){Ae("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){Ae("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){Ae("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var yi,os,oc,uc,Ns,jt,to,eo,rf,lf,cc,hc,Dr,of,Yg,Kg,Ze,Xh,Fw,Hw,Bw,Uw,jw,qw;const ua=class ua{constructor({x:t,y:e},i,r,o,u,h=0){k(this,Ze);k(this,yi);k(this,os,[]);k(this,oc);k(this,uc);k(this,Ns,[]);k(this,jt,new Float64Array(18));k(this,to);k(this,eo);k(this,rf);k(this,lf);k(this,cc);k(this,hc);k(this,Dr,[]);x(this,yi,i),x(this,hc,o*r),x(this,uc,u),d(this,jt).set([NaN,NaN,NaN,NaN,t,e],6),x(this,oc,h),x(this,lf,d(ua,of)*r),x(this,rf,d(ua,Kg)*r),x(this,cc,r),d(this,Dr).push(t,e)}isEmpty(){return isNaN(d(this,jt)[8])}add({x:t,y:e}){var tt;x(this,to,t),x(this,eo,e);const[i,r,o,u]=d(this,yi);let[h,f,p,g]=d(this,jt).subarray(8,12);const b=t-p,v=e-g,A=Math.hypot(b,v);if(A<d(this,rf))return!1;const E=A-d(this,lf),T=E/A,D=T*b,C=T*v;let P=h,N=f;h=p,f=g,p+=D,g+=C,(tt=d(this,Dr))==null||tt.push(t,e);const I=-C/E,F=D/E,L=I*d(this,hc),q=F*d(this,hc);return d(this,jt).set(d(this,jt).subarray(2,8),0),d(this,jt).set([p+L,g+q],4),d(this,jt).set(d(this,jt).subarray(14,18),12),d(this,jt).set([p-L,g-q],16),isNaN(d(this,jt)[6])?(d(this,Ns).length===0&&(d(this,jt).set([h+L,f+q],2),d(this,Ns).push(NaN,NaN,NaN,NaN,(h+L-i)/o,(f+q-r)/u),d(this,jt).set([h-L,f-q],14),d(this,os).push(NaN,NaN,NaN,NaN,(h-L-i)/o,(f-q-r)/u)),d(this,jt).set([P,N,h,f,p,g],6),!this.isEmpty()):(d(this,jt).set([P,N,h,f,p,g],6),Math.abs(Math.atan2(N-f,P-h)-Math.atan2(C,D))<Math.PI/2?([h,f,p,g]=d(this,jt).subarray(2,6),d(this,Ns).push(NaN,NaN,NaN,NaN,((h+p)/2-i)/o,((f+g)/2-r)/u),[h,f,P,N]=d(this,jt).subarray(14,18),d(this,os).push(NaN,NaN,NaN,NaN,((P+h)/2-i)/o,((N+f)/2-r)/u),!0):([P,N,h,f,p,g]=d(this,jt).subarray(0,6),d(this,Ns).push(((P+5*h)/6-i)/o,((N+5*f)/6-r)/u,((5*h+p)/6-i)/o,((5*f+g)/6-r)/u,((h+p)/2-i)/o,((f+g)/2-r)/u),[p,g,h,f,P,N]=d(this,jt).subarray(12,18),d(this,os).push(((P+5*h)/6-i)/o,((N+5*f)/6-r)/u,((5*h+p)/6-i)/o,((5*f+g)/6-r)/u,((h+p)/2-i)/o,((f+g)/2-r)/u),!0))}toSVGPath(){if(this.isEmpty())return"";const t=d(this,Ns),e=d(this,os);if(isNaN(d(this,jt)[6])&&!this.isEmpty())return w(this,Ze,Fw).call(this);const i=[];i.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);w(this,Ze,Bw).call(this,i);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return w(this,Ze,Hw).call(this,i),i.join(" ")}newFreeDrawOutline(t,e,i,r,o,u){return new Gw(t,e,i,r,o,u)}getOutlines(){var b;const t=d(this,Ns),e=d(this,os),i=d(this,jt),[r,o,u,h]=d(this,yi),f=new Float64Array((((b=d(this,Dr))==null?void 0:b.length)??0)+2);for(let v=0,A=f.length-2;v<A;v+=2)f[v]=(d(this,Dr)[v]-r)/u,f[v+1]=(d(this,Dr)[v+1]-o)/h;if(f[f.length-2]=(d(this,to)-r)/u,f[f.length-1]=(d(this,eo)-o)/h,isNaN(i[6])&&!this.isEmpty())return w(this,Ze,Uw).call(this,f);const p=new Float64Array(d(this,Ns).length+24+d(this,os).length);let g=t.length;for(let v=0;v<g;v+=2){if(isNaN(t[v])){p[v]=p[v+1]=NaN;continue}p[v]=t[v],p[v+1]=t[v+1]}g=w(this,Ze,qw).call(this,p,g);for(let v=e.length-6;v>=6;v-=6)for(let A=0;A<6;A+=2){if(isNaN(e[v+A])){p[g]=p[g+1]=NaN,g+=2;continue}p[g]=e[v+A],p[g+1]=e[v+A+1],g+=2}return w(this,Ze,jw).call(this,p,g),this.newFreeDrawOutline(p,f,d(this,yi),d(this,cc),d(this,oc),d(this,uc))}};yi=new WeakMap,os=new WeakMap,oc=new WeakMap,uc=new WeakMap,Ns=new WeakMap,jt=new WeakMap,to=new WeakMap,eo=new WeakMap,rf=new WeakMap,lf=new WeakMap,cc=new WeakMap,hc=new WeakMap,Dr=new WeakMap,of=new WeakMap,Yg=new WeakMap,Kg=new WeakMap,Ze=new WeakSet,Xh=function(){const t=d(this,jt).subarray(4,6),e=d(this,jt).subarray(16,18),[i,r,o,u]=d(this,yi);return[(d(this,to)+(t[0]-e[0])/2-i)/o,(d(this,eo)+(t[1]-e[1])/2-r)/u,(d(this,to)+(e[0]-t[0])/2-i)/o,(d(this,eo)+(e[1]-t[1])/2-r)/u]},Fw=function(){const[t,e,i,r]=d(this,yi),[o,u,h,f]=w(this,Ze,Xh).call(this);return`M${(d(this,jt)[2]-t)/i} ${(d(this,jt)[3]-e)/r} L${(d(this,jt)[4]-t)/i} ${(d(this,jt)[5]-e)/r} L${o} ${u} L${h} ${f} L${(d(this,jt)[16]-t)/i} ${(d(this,jt)[17]-e)/r} L${(d(this,jt)[14]-t)/i} ${(d(this,jt)[15]-e)/r} Z`},Hw=function(t){const e=d(this,os);t.push(`L${e[4]} ${e[5]} Z`)},Bw=function(t){const[e,i,r,o]=d(this,yi),u=d(this,jt).subarray(4,6),h=d(this,jt).subarray(16,18),[f,p,g,b]=w(this,Ze,Xh).call(this);t.push(`L${(u[0]-e)/r} ${(u[1]-i)/o} L${f} ${p} L${g} ${b} L${(h[0]-e)/r} ${(h[1]-i)/o}`)},Uw=function(t){const e=d(this,jt),[i,r,o,u]=d(this,yi),[h,f,p,g]=w(this,Ze,Xh).call(this),b=new Float64Array(36);return b.set([NaN,NaN,NaN,NaN,(e[2]-i)/o,(e[3]-r)/u,NaN,NaN,NaN,NaN,(e[4]-i)/o,(e[5]-r)/u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(e[16]-i)/o,(e[17]-r)/u,NaN,NaN,NaN,NaN,(e[14]-i)/o,(e[15]-r)/u],0),this.newFreeDrawOutline(b,t,d(this,yi),d(this,cc),d(this,oc),d(this,uc))},jw=function(t,e){const i=d(this,os);return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6},qw=function(t,e){const i=d(this,jt).subarray(4,6),r=d(this,jt).subarray(16,18),[o,u,h,f]=d(this,yi),[p,g,b,v]=w(this,Ze,Xh).call(this);return t.set([NaN,NaN,NaN,NaN,(i[0]-o)/h,(i[1]-u)/f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,b,v,NaN,NaN,NaN,NaN,(r[0]-o)/h,(r[1]-u)/f],e),e+=24},k(ua,of,8),k(ua,Yg,2),k(ua,Kg,d(ua,of)+d(ua,Yg));let Cg=ua;var dc,no,xa,uf,bi,cf,ze,Jn,Yh,Kh,Vw;class Gw extends Iw{constructor(e,i,r,o,u,h){super();k(this,Jn);k(this,dc);k(this,no,null);k(this,xa);k(this,uf);k(this,bi);k(this,cf);k(this,ze);x(this,ze,e),x(this,bi,i),x(this,dc,r),x(this,cf,o),x(this,xa,u),x(this,uf,h),w(this,Jn,Vw).call(this,h);const{x:f,y:p,width:g,height:b}=d(this,no);for(let v=0,A=e.length;v<A;v+=2)e[v]=(e[v]-f)/g,e[v+1]=(e[v+1]-p)/b;for(let v=0,A=i.length;v<A;v+=2)i[v]=(i[v]-f)/g,i[v+1]=(i[v+1]-p)/b}toSVGPath(){const e=[`M${d(this,ze)[4]} ${d(this,ze)[5]}`];for(let i=6,r=d(this,ze).length;i<r;i+=6){if(isNaN(d(this,ze)[i])){e.push(`L${d(this,ze)[i+4]} ${d(this,ze)[i+5]}`);continue}e.push(`C${d(this,ze)[i]} ${d(this,ze)[i+1]} ${d(this,ze)[i+2]} ${d(this,ze)[i+3]} ${d(this,ze)[i+4]} ${d(this,ze)[i+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,i,r,o],u){const h=r-e,f=o-i;let p,g;switch(u){case 0:p=w(this,Jn,Yh).call(this,d(this,ze),e,o,h,-f),g=w(this,Jn,Yh).call(this,d(this,bi),e,o,h,-f);break;case 90:p=w(this,Jn,Kh).call(this,d(this,ze),e,i,h,f),g=w(this,Jn,Kh).call(this,d(this,bi),e,i,h,f);break;case 180:p=w(this,Jn,Yh).call(this,d(this,ze),r,i,-h,f),g=w(this,Jn,Yh).call(this,d(this,bi),r,i,-h,f);break;case 270:p=w(this,Jn,Kh).call(this,d(this,ze),r,o,-h,-f),g=w(this,Jn,Kh).call(this,d(this,bi),r,o,-h,-f);break}return{outline:Array.from(p),points:[Array.from(g)]}}get box(){return d(this,no)}newOutliner(e,i,r,o,u,h=0){return new Cg(e,i,r,o,u,h)}getNewOutline(e,i){const{x:r,y:o,width:u,height:h}=d(this,no),[f,p,g,b]=d(this,dc),v=u*g,A=h*b,E=r*g+f,T=o*b+p,D=this.newOutliner({x:d(this,bi)[0]*v+E,y:d(this,bi)[1]*A+T},d(this,dc),d(this,cf),e,d(this,uf),i??d(this,xa));for(let C=2;C<d(this,bi).length;C+=2)D.add({x:d(this,bi)[C]*v+E,y:d(this,bi)[C+1]*A+T});return D.getOutlines()}get mustRemoveSelfIntersections(){return!0}}dc=new WeakMap,no=new WeakMap,xa=new WeakMap,uf=new WeakMap,bi=new WeakMap,cf=new WeakMap,ze=new WeakMap,Jn=new WeakSet,Yh=function(e,i,r,o,u){const h=new Float64Array(e.length);for(let f=0,p=e.length;f<p;f+=2)h[f]=i+e[f]*o,h[f+1]=r+e[f+1]*u;return h},Kh=function(e,i,r,o,u){const h=new Float64Array(e.length);for(let f=0,p=e.length;f<p;f+=2)h[f]=i+e[f+1]*o,h[f+1]=r+e[f]*u;return h},Vw=function(e){const i=d(this,ze);let r=i[4],o=i[5],u=r,h=o,f=r,p=o,g=r,b=o;const v=e?Math.max:Math.min;for(let C=6,P=i.length;C<P;C+=6){if(isNaN(i[C]))u=Math.min(u,i[C+4]),h=Math.min(h,i[C+5]),f=Math.max(f,i[C+4]),p=Math.max(p,i[C+5]),b<i[C+5]?(g=i[C+4],b=i[C+5]):b===i[C+5]&&(g=v(g,i[C+4]));else{const N=bt.bezierBoundingBox(r,o,...i.slice(C,C+6));u=Math.min(u,N[0]),h=Math.min(h,N[1]),f=Math.max(f,N[2]),p=Math.max(p,N[3]),b<N[3]?(g=N[2],b=N[3]):b===N[3]&&(g=v(g,N[2]))}r=i[C+4],o=i[C+5]}const A=u-d(this,xa),E=h-d(this,xa),T=f-u+2*d(this,xa),D=p-h+2*d(this,xa);x(this,no,{x:A,y:E,width:T,height:D,lastPoint:[g,b]})};var hf,Lr,us,Hn,Xw,fg,Yw,Kw,Bv;class E_{constructor(t,e=0,i=0,r=!0){k(this,Hn);k(this,hf);k(this,Lr,[]);k(this,us,[]);let o=1/0,u=-1/0,h=1/0,f=-1/0;const p=10**-4;for(const{x:D,y:C,width:P,height:N}of t){const I=Math.floor((D-e)/p)*p,F=Math.ceil((D+P+e)/p)*p,L=Math.floor((C-e)/p)*p,q=Math.ceil((C+N+e)/p)*p,K=[I,L,q,!0],tt=[F,L,q,!1];d(this,Lr).push(K,tt),o=Math.min(o,I),u=Math.max(u,F),h=Math.min(h,L),f=Math.max(f,q)}const g=u-o+2*i,b=f-h+2*i,v=o-i,A=h-i,E=d(this,Lr).at(r?-1:-2),T=[E[0],E[2]];for(const D of d(this,Lr)){const[C,P,N]=D;D[0]=(C-v)/g,D[1]=(P-A)/b,D[2]=(N-A)/b}x(this,hf,{x:v,y:A,width:g,height:b,lastPoint:T})}getOutlines(){d(this,Lr).sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of d(this,Lr))e[3]?(t.push(...w(this,Hn,Bv).call(this,e)),w(this,Hn,Yw).call(this,e)):(w(this,Hn,Kw).call(this,e),t.push(...w(this,Hn,Bv).call(this,e)));return w(this,Hn,Xw).call(this,t)}}hf=new WeakMap,Lr=new WeakMap,us=new WeakMap,Hn=new WeakSet,Xw=function(t){const e=[],i=new Set;for(const u of t){const[h,f,p]=u;e.push([h,f,u],[h,p,u])}e.sort((u,h)=>u[1]-h[1]||u[0]-h[0]);for(let u=0,h=e.length;u<h;u+=2){const f=e[u][2],p=e[u+1][2];f.push(p),p.push(f),i.add(f),i.add(p)}const r=[];let o;for(;i.size>0;){const u=i.values().next().value;let[h,f,p,g,b]=u;i.delete(u);let v=h,A=f;for(o=[h,p],r.push(o);;){let E;if(i.has(g))E=g;else if(i.has(b))E=b;else break;i.delete(E),[h,f,p,g,b]=E,v!==h&&(o.push(v,A,h,A===f?f:p),v=h),A=A===f?p:f}o.push(v,A)}return new VD(r,d(this,hf))},fg=function(t){const e=d(this,us);let i=0,r=e.length-1;for(;i<=r;){const o=i+r>>1,u=e[o][0];if(u===t)return o;u<t?i=o+1:r=o-1}return r+1},Yw=function([,t,e]){const i=w(this,Hn,fg).call(this,t);d(this,us).splice(i,0,[t,e])},Kw=function([,t,e]){const i=w(this,Hn,fg).call(this,t);for(let r=i;r<d(this,us).length;r++){const[o,u]=d(this,us)[r];if(o!==t)break;if(o===t&&u===e){d(this,us).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[o,u]=d(this,us)[r];if(o!==t)break;if(o===t&&u===e){d(this,us).splice(r,1);return}}},Bv=function(t){const[e,i,r]=t,o=[[e,i,r]],u=w(this,Hn,fg).call(this,r);for(let h=0;h<u;h++){const[f,p]=d(this,us)[h];for(let g=0,b=o.length;g<b;g++){const[,v,A]=o[g];if(!(p<=v||A<=f)){if(v>=f){if(A>p)o[g][1]=p;else{if(b===1)return[];o.splice(g,1),g--,b--}continue}o[g][2]=f,A>p&&o.push([e,p,A])}}}return o};var df,fc;class VD extends Iw{constructor(e,i){super();k(this,df);k(this,fc);x(this,fc,e),x(this,df,i)}toSVGPath(){const e=[];for(const i of d(this,fc)){let[r,o]=i;e.push(`M${r} ${o}`);for(let u=2;u<i.length;u+=2){const h=i[u],f=i[u+1];h===r?(e.push(`V${f}`),o=f):f===o&&(e.push(`H${h}`),r=h)}e.push("Z")}return e.join(" ")}serialize([e,i,r,o],u){const h=[],f=r-e,p=o-i;for(const g of d(this,fc)){const b=new Array(g.length);for(let v=0;v<g.length;v+=2)b[v]=e+g[v]*f,b[v+1]=o-g[v+1]*p;h.push(b)}return h}get box(){return d(this,df)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}df=new WeakMap,fc=new WeakMap;class Uv extends Cg{newFreeDrawOutline(t,e,i,r,o,u){return new XD(t,e,i,r,o,u)}get classNamesForDrawing(){return["highlight","free"]}}class XD extends Gw{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,i,r,o,u=0){return new Uv(t,e,i,r,o,u)}}var cs,io,pc,Qe,ff,gc,pf,gf,Or,hs,mc,mf,ce,jv,qv,Gv,fl,Qw,hr;const Kn=class Kn{constructor({editor:t=null,uiManager:e=null}){k(this,ce);k(this,cs,null);k(this,io,null);k(this,pc);k(this,Qe,null);k(this,ff,!1);k(this,gc,!1);k(this,pf,null);k(this,gf);k(this,Or,null);k(this,hs,null);k(this,mc);var i;t?(x(this,gc,!1),x(this,mc,Dt.HIGHLIGHT_COLOR),x(this,pf,t)):(x(this,gc,!0),x(this,mc,Dt.HIGHLIGHT_DEFAULT_COLOR)),x(this,hs,(t==null?void 0:t._uiManager)||e),x(this,gf,d(this,hs)._eventBus),x(this,pc,(t==null?void 0:t.color)||((i=d(this,hs))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),d(Kn,mf)||x(Kn,mf,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Yt(this,"_keyboardManager",new xf([[["Escape","mac+Escape"],Kn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Kn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Kn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Kn.prototype._moveToPrevious],[["Home","mac+Home"],Kn.prototype._moveToBeginning],[["End","mac+End"],Kn.prototype._moveToEnd]]))}renderButton(){const t=x(this,cs,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=d(this,hs)._signal;t.addEventListener("click",w(this,ce,fl).bind(this),{signal:e}),t.addEventListener("keydown",w(this,ce,Gv).bind(this),{signal:e});const i=x(this,io,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=d(this,pc),t.append(i),t}renderMainDropdown(){const t=x(this,Qe,w(this,ce,jv).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===d(this,cs)){w(this,ce,fl).call(this,t);return}const e=t.target.getAttribute("data-color");e&&w(this,ce,qv).call(this,e,t)}_moveToNext(t){var e,i;if(!d(this,ce,hr)){w(this,ce,fl).call(this,t);return}if(t.target===d(this,cs)){(e=d(this,Qe).firstChild)==null||e.focus();return}(i=t.target.nextSibling)==null||i.focus()}_moveToPrevious(t){var e,i;if(t.target===((e=d(this,Qe))==null?void 0:e.firstChild)||t.target===d(this,cs)){d(this,ce,hr)&&this._hideDropdownFromKeyboard();return}d(this,ce,hr)||w(this,ce,fl).call(this,t),(i=t.target.previousSibling)==null||i.focus()}_moveToBeginning(t){var e;if(!d(this,ce,hr)){w(this,ce,fl).call(this,t);return}(e=d(this,Qe).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!d(this,ce,hr)){w(this,ce,fl).call(this,t);return}(e=d(this,Qe).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=d(this,Qe))==null||t.classList.add("hidden"),(e=d(this,Or))==null||e.abort(),x(this,Or,null)}_hideDropdownFromKeyboard(){var t;if(!d(this,gc)){if(!d(this,ce,hr)){(t=d(this,pf))==null||t.unselect();return}this.hideDropdown(),d(this,cs).focus({preventScroll:!0,focusVisible:d(this,ff)})}}updateColor(t){if(d(this,io)&&(d(this,io).style.backgroundColor=t),!d(this,Qe))return;const e=d(this,hs).highlightColors.values();for(const i of d(this,Qe).children)i.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=d(this,cs))==null||t.remove(),x(this,cs,null),x(this,io,null),(e=d(this,Qe))==null||e.remove(),x(this,Qe,null)}};cs=new WeakMap,io=new WeakMap,pc=new WeakMap,Qe=new WeakMap,ff=new WeakMap,gc=new WeakMap,pf=new WeakMap,gf=new WeakMap,Or=new WeakMap,hs=new WeakMap,mc=new WeakMap,mf=new WeakMap,ce=new WeakSet,jv=function(){const t=document.createElement("div"),e=d(this,hs)._signal;t.addEventListener("contextmenu",Vi,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,r]of d(this,hs).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=i,o.setAttribute("data-l10n-id",d(Kn,mf)[i]);const u=document.createElement("span");o.append(u),u.className="swatch",u.style.backgroundColor=r,o.setAttribute("aria-selected",r===d(this,pc)),o.addEventListener("click",w(this,ce,qv).bind(this,r),{signal:e}),t.append(o)}return t.addEventListener("keydown",w(this,ce,Gv).bind(this),{signal:e}),t},qv=function(t,e){e.stopPropagation(),d(this,gf).dispatch("switchannotationeditorparams",{source:this,type:d(this,mc),value:t})},Gv=function(t){Kn._keyboardManager.exec(this,t)},fl=function(t){if(d(this,ce,hr)){this.hideDropdown();return}if(x(this,ff,t.detail===0),d(this,Or)||(x(this,Or,new AbortController),window.addEventListener("pointerdown",w(this,ce,Qw).bind(this),{signal:d(this,hs).combinedSignal(d(this,Or))})),d(this,Qe)){d(this,Qe).classList.remove("hidden");return}const e=x(this,Qe,w(this,ce,jv).call(this));d(this,cs).append(e)},Qw=function(t){var e;(e=d(this,Qe))!=null&&e.contains(t.target)||this.hideDropdown()},hr=function(){return d(this,Qe)&&!d(this,Qe).classList.contains("hidden")},k(Kn,mf,null);let Rg=Kn;var yc,yf,wa,so,bc,Fi,bf,vf,ao,ds,Tn,$n,vc,Ta,We,Ac,Hi,Af,Nt,Vv,pg,Ww,$w,Zw,Xv,pl,qi,Au,Jw,gg,Qh,tT,eT,nT,iT,sT;const Jt=class Jt extends re{constructor(e){super({...e,name:"highlightEditor"});k(this,Nt);k(this,yc,null);k(this,yf,0);k(this,wa);k(this,so,null);k(this,bc,null);k(this,Fi,null);k(this,bf,null);k(this,vf,0);k(this,ao,null);k(this,ds,null);k(this,Tn,null);k(this,$n,!1);k(this,vc,null);k(this,Ta);k(this,We,null);k(this,Ac,"");k(this,Hi);k(this,Af,"");this.color=e.color||Jt._defaultColor,x(this,Hi,e.thickness||Jt._defaultThickness),x(this,Ta,e.opacity||Jt._defaultOpacity),x(this,wa,e.boxes||null),x(this,Af,e.methodOfCreation||""),x(this,Ac,e.text||""),this._isDraggable=!1,e.highlightId>-1?(x(this,$n,!0),w(this,Nt,pg).call(this,e),w(this,Nt,pl).call(this)):d(this,wa)&&(x(this,yc,e.anchorNode),x(this,yf,e.anchorOffset),x(this,bf,e.focusNode),x(this,vf,e.focusOffset),w(this,Nt,Vv).call(this),w(this,Nt,pl).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=Jt.prototype;return Yt(this,"_keyboardManager",new xf([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:d(this,$n)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:d(this,Hi),methodOfCreation:d(this,Af)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,i){var r;re.initialize(e,i),Jt._defaultColor||(Jt._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(e,i){switch(e){case Dt.HIGHLIGHT_DEFAULT_COLOR:Jt._defaultColor=i;break;case Dt.HIGHLIGHT_THICKNESS:Jt._defaultThickness=i;break}}translateInPage(e,i){}get toolbarPosition(){return d(this,vc)}updateParams(e,i){switch(e){case Dt.HIGHLIGHT_COLOR:w(this,Nt,Ww).call(this,i);break;case Dt.HIGHLIGHT_THICKNESS:w(this,Nt,$w).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Dt.HIGHLIGHT_DEFAULT_COLOR,Jt._defaultColor],[Dt.HIGHLIGHT_THICKNESS,Jt._defaultThickness]]}get propertiesToUpdate(){return[[Dt.HIGHLIGHT_COLOR,this.color||Jt._defaultColor],[Dt.HIGHLIGHT_THICKNESS,d(this,Hi)||Jt._defaultThickness],[Dt.HIGHLIGHT_FREE,d(this,$n)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(x(this,bc,new Rg({editor:this})),e.addColorPicker(d(this,bc))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(w(this,Nt,Qh).call(this))}getBaseTranslation(){return[0,0]}getRect(e,i){return super.getRect(e,i,w(this,Nt,Qh).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){w(this,Nt,Xv).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(w(this,Nt,pl).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let i=!1;this.parent&&!e?w(this,Nt,Xv).call(this):e&&(w(this,Nt,pl).call(this,e),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),i&&this.select()}rotate(e){var o,u,h;const{drawLayer:i}=this.parent;let r;d(this,$n)?(e=(e-this.rotation+360)%360,r=w(o=Jt,qi,Au).call(o,d(this,ds).box,e)):r=w(u=Jt,qi,Au).call(u,this,e),i.rotate(d(this,Tn),e),i.rotate(d(this,We),e),i.updateBox(d(this,Tn),r),i.updateBox(d(this,We),w(h=Jt,qi,Au).call(h,d(this,Fi).box,e))}render(){if(this.div)return this.div;const e=super.render();d(this,Ac)&&(e.setAttribute("aria-label",d(this,Ac)),e.setAttribute("role","mark")),d(this,$n)?e.classList.add("free"):this.div.addEventListener("keydown",w(this,Nt,Jw).bind(this),{signal:this._uiManager._signal});const i=x(this,ao,document.createElement("div"));e.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=d(this,so);const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),wg(this,d(this,ao),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(d(this,We),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(d(this,We),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:w(this,Nt,gg).call(this,!0);break;case 1:case 3:w(this,Nt,gg).call(this,!1);break}}select(){var e,i;super.select(),d(this,We)&&((e=this.parent)==null||e.drawLayer.removeClass(d(this,We),"hovered"),(i=this.parent)==null||i.drawLayer.addClass(d(this,We),"selected"))}unselect(){var e;super.unselect(),d(this,We)&&((e=this.parent)==null||e.drawLayer.removeClass(d(this,We),"selected"),d(this,$n)||w(this,Nt,gg).call(this,!1))}get _mustFixPosition(){return!d(this,$n)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(d(this,Tn),e),this.parent.drawLayer.show(d(this,We),e))}static startHighlighting(e,i,{target:r,x:o,y:u}){const{x:h,y:f,width:p,height:g}=r.getBoundingClientRect(),b=new AbortController,v=e.combinedSignal(b),A=T=>{T.preventDefault(),T.stopPropagation()},E=T=>{b.abort(),w(this,qi,iT).call(this,e,T)};window.addEventListener("blur",E,{signal:v}),window.addEventListener("pointerup",E,{signal:v}),window.addEventListener("pointerdown",A,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",Vi,{signal:v}),r.addEventListener("pointermove",w(this,qi,nT).bind(this,e),{signal:v}),this._freeHighlight=new Uv({x:o,y:u},[h,f,p,g],e.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,i,r){var T,D,C,P;let o=null;if(e instanceof kw){const{data:{quadPoints:N,rect:I,rotation:F,id:L,color:q,opacity:K,popupRef:tt},parent:{page:{pageNumber:ot}}}=e;o=e={annotationType:It.HIGHLIGHT,color:Array.from(q),opacity:K,quadPoints:N,boxes:null,pageIndex:ot-1,rect:I.slice(0),rotation:F,id:L,deleted:!1,popupRef:tt}}else if(e instanceof F0){const{data:{inkLists:N,rect:I,rotation:F,id:L,color:q,borderStyle:{rawWidth:K},popupRef:tt},parent:{page:{pageNumber:ot}}}=e;o=e={annotationType:It.HIGHLIGHT,color:Array.from(q),thickness:K,inkLists:N,boxes:null,pageIndex:ot-1,rect:I.slice(0),rotation:F,id:L,deleted:!1,popupRef:tt}}const{color:u,quadPoints:h,inkLists:f,opacity:p}=e,g=await super.deserialize(e,i,r);g.color=bt.makeHexColor(...u),x(g,Ta,p||1),f&&x(g,Hi,e.thickness),g.annotationElementId=e.id||null,g._initialData=o;const[b,v]=g.pageDimensions,[A,E]=g.pageTranslation;if(h){const N=x(g,wa,[]);for(let I=0;I<h.length;I+=8)N.push({x:(h[I]-A)/b,y:1-(h[I+1]-E)/v,width:(h[I+2]-h[I])/b,height:(h[I+1]-h[I+5])/v});w(T=g,Nt,Vv).call(T),w(D=g,Nt,pl).call(D),g.rotate(g.rotation)}else if(f){x(g,$n,!0);const N=f[0],I={x:N[0]-A,y:v-(N[1]-E)},F=new Uv(I,[0,0,b,v],1,d(g,Hi)/2,!0,.001);for(let K=0,tt=N.length;K<tt;K+=2)I.x=N[K]-A,I.y=v-(N[K+1]-E),F.add(I);const{id:L,clipPathId:q}=i.drawLayer.draw(F,g.color,g._defaultOpacity,!0);w(C=g,Nt,pg).call(C,{highlightOutlines:F.getOutlines(),highlightId:L,clipPathId:q}),w(P=g,Nt,pl).call(P)}return g}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),r=re._colorManager.convert(this.color),o={annotationType:It.HIGHLIGHT,color:r,opacity:d(this,Ta),thickness:d(this,Hi),quadPoints:w(this,Nt,tT).call(this),outlines:w(this,Nt,eT).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:w(this,Nt,Qh).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!w(this,Nt,sT).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};yc=new WeakMap,yf=new WeakMap,wa=new WeakMap,so=new WeakMap,bc=new WeakMap,Fi=new WeakMap,bf=new WeakMap,vf=new WeakMap,ao=new WeakMap,ds=new WeakMap,Tn=new WeakMap,$n=new WeakMap,vc=new WeakMap,Ta=new WeakMap,We=new WeakMap,Ac=new WeakMap,Hi=new WeakMap,Af=new WeakMap,Nt=new WeakSet,Vv=function(){const e=new E_(d(this,wa),.001);x(this,ds,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=d(this,ds).box;const i=new E_(d(this,wa),.0025,.001,this._uiManager.direction==="ltr");x(this,Fi,i.getOutlines());const{lastPoint:r}=d(this,Fi).box;x(this,vc,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},pg=function({highlightOutlines:e,highlightId:i,clipPathId:r}){var b,v;if(x(this,ds,e),x(this,Fi,e.getNewOutline(d(this,Hi)/2+1.5,.0025)),i>=0)x(this,Tn,i),x(this,so,r),this.parent.drawLayer.finalizeLine(i,e),x(this,We,this.parent.drawLayer.drawOutline(d(this,Fi)));else if(this.parent){const A=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(d(this,Tn),e),this.parent.drawLayer.updateBox(d(this,Tn),w(b=Jt,qi,Au).call(b,d(this,ds).box,(A-this.rotation+360)%360)),this.parent.drawLayer.updateLine(d(this,We),d(this,Fi)),this.parent.drawLayer.updateBox(d(this,We),w(v=Jt,qi,Au).call(v,d(this,Fi).box,A))}const{x:u,y:h,width:f,height:p}=e.box;switch(this.rotation){case 0:this.x=u,this.y=h,this.width=f,this.height=p;break;case 90:{const[A,E]=this.parentDimensions;this.x=h,this.y=1-u,this.width=f*E/A,this.height=p*A/E;break}case 180:this.x=1-u,this.y=1-h,this.width=f,this.height=p;break;case 270:{const[A,E]=this.parentDimensions;this.x=1-h,this.y=u,this.width=f*E/A,this.height=p*A/E;break}}const{lastPoint:g}=d(this,Fi).box;x(this,vc,[(g[0]-u)/f,(g[1]-h)/p])},Ww=function(e){const i=(u,h)=>{var f,p,g;this.color=u,(f=this.parent)==null||f.drawLayer.changeColor(d(this,Tn),u),(p=d(this,bc))==null||p.updateColor(u),x(this,Ta,h),(g=this.parent)==null||g.drawLayer.changeOpacity(d(this,Tn),h)},r=this.color,o=d(this,Ta);this.addCommands({cmd:i.bind(this,e,Jt._defaultOpacity),undo:i.bind(this,r,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},$w=function(e){const i=d(this,Hi),r=o=>{x(this,Hi,o),w(this,Nt,Zw).call(this,o)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},Zw=function(e){if(!d(this,$n))return;w(this,Nt,pg).call(this,{highlightOutlines:d(this,ds).getNewOutline(e/2)}),this.fixAndSetPosition();const[i,r]=this.parentDimensions;this.setDims(this.width*i,this.height*r)},Xv=function(){d(this,Tn)===null||!this.parent||(this.parent.drawLayer.remove(d(this,Tn)),x(this,Tn,null),this.parent.drawLayer.remove(d(this,We)),x(this,We,null))},pl=function(e=this.parent){d(this,Tn)===null&&({id:On(this,Tn)._,clipPathId:On(this,so)._}=e.drawLayer.draw(d(this,ds),this.color,d(this,Ta)),x(this,We,e.drawLayer.drawOutline(d(this,Fi))),d(this,ao)&&(d(this,ao).style.clipPath=d(this,so)))},qi=new WeakSet,Au=function({x:e,y:i,width:r,height:o},u){switch(u){case 90:return{x:1-i-o,y:e,width:o,height:r};case 180:return{x:1-e-r,y:1-i-o,width:r,height:o};case 270:return{x:i,y:1-e-r,width:o,height:r}}return{x:e,y:i,width:r,height:o}},Jw=function(e){Jt._keyboardManager.exec(this,e)},gg=function(e){if(!d(this,yc))return;const i=window.getSelection();e?i.setPosition(d(this,yc),d(this,yf)):i.setPosition(d(this,bf),d(this,vf))},Qh=function(){return d(this,$n)?this.rotation:0},tT=function(){if(d(this,$n))return null;const[e,i]=this.pageDimensions,[r,o]=this.pageTranslation,u=d(this,wa),h=new Float32Array(u.length*8);let f=0;for(const{x:p,y:g,width:b,height:v}of u){const A=p*e+r,E=(1-g-v)*i+o;h[f]=h[f+4]=A,h[f+1]=h[f+3]=E,h[f+2]=h[f+6]=A+b*e,h[f+5]=h[f+7]=E+v*i,f+=8}return h},eT=function(e){return d(this,ds).serialize(e,w(this,Nt,Qh).call(this))},nT=function(e,i){this._freeHighlight.add(i)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},iT=function(e,i){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},sT=function(e){const{color:i}=this._initialData;return e.color.some((r,o)=>r!==i[o])},k(Jt,qi),Mt(Jt,"_defaultColor",null),Mt(Jt,"_defaultOpacity",1),Mt(Jt,"_defaultThickness",12),Mt(Jt,"_type","highlight"),Mt(Jt,"_editorType",It.HIGHLIGHT),Mt(Jt,"_freeHighlightId",-1),Mt(Jt,"_freeHighlight",null),Mt(Jt,"_freeHighlightClipId","");let kg=Jt;var ro,lo,Ps,Ca,Bi,oo,uo,co,Ra,Sc,ho,fo,Nr,ft,aT,rT,lT,oT,Kv,uT,Qv,cT,hT,dT,fT,pT,gl,Wv,$v,Zv,mg,yg,Su,Jv,bg,Ha,gT,t0,mT,yT,e0,vg,Wh;const we=class we extends re{constructor(e){super({...e,name:"inkEditor"});k(this,ft);k(this,ro,0);k(this,lo,0);k(this,Ps,null);k(this,Ca,new Path2D);k(this,Bi,!1);k(this,oo,null);k(this,uo,!1);k(this,co,!1);k(this,Ra,null);k(this,Sc,null);k(this,ho,0);k(this,fo,0);k(this,Nr,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,i){re.initialize(e,i)}static updateDefaultParams(e,i){switch(e){case Dt.INK_THICKNESS:we._defaultThickness=i;break;case Dt.INK_COLOR:we._defaultColor=i;break;case Dt.INK_OPACITY:we._defaultOpacity=i/100;break}}updateParams(e,i){switch(e){case Dt.INK_THICKNESS:w(this,ft,aT).call(this,i);break;case Dt.INK_COLOR:w(this,ft,rT).call(this,i);break;case Dt.INK_OPACITY:w(this,ft,lT).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Dt.INK_THICKNESS,we._defaultThickness],[Dt.INK_COLOR,we._defaultColor||re._defaultLineColor],[Dt.INK_OPACITY,Math.round(we._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Dt.INK_THICKNESS,this.thickness||we._defaultThickness],[Dt.INK_COLOR,this.color||we._defaultColor||re._defaultLineColor],[Dt.INK_OPACITY,Math.round(100*(this.opacity??we._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(w(this,ft,mg).call(this),w(this,ft,yg).call(this)),this.isAttachedToDOM||(this.parent.add(this),w(this,ft,Su).call(this)),w(this,ft,Wh).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,d(this,Ps)&&(clearTimeout(d(this,Ps)),x(this,Ps,null)),(e=d(this,Ra))==null||e.disconnect(),x(this,Ra,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,i]=this.parentDimensions,r=this.width*e,o=this.height*i;this.setDimensions(r,o)}enableEditMode(){d(this,Bi)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,w(this,ft,Wv).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),w(this,ft,$v).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){d(this,Bi)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),x(this,Bi,!0),this.div.classList.add("disabled"),w(this,ft,Wh).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||d(this,Bi)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),w(this,ft,uT).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),w(this,ft,Qv).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),w(this,ft,Zv).call(this,e)}canvasPointerleave(e){w(this,ft,Zv).call(this,e)}get isResizable(){return!this.isEmpty()&&d(this,Bi)}render(){if(this.div)return this.div;let e,i;this.width&&(e=this.x,i=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,o,u,h]=w(this,ft,oT).call(this);if(this.setAt(r,o,0,0),this.setDims(u,h),w(this,ft,mg).call(this),this.width){const[f,p]=this.parentDimensions;this.setAspectRatio(this.width*f,this.height*p),this.setAt(e*f,i*p,this.width*f,this.height*p),x(this,co,!0),w(this,ft,Su).call(this),this.setDims(this.width*f,this.height*p),w(this,ft,gl).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return w(this,ft,yg).call(this),this.div}setDimensions(e,i){const r=Math.round(e),o=Math.round(i);if(d(this,ho)===r&&d(this,fo)===o)return;x(this,ho,r),x(this,fo,o),this.canvas.style.visibility="hidden";const[u,h]=this.parentDimensions;this.width=e/u,this.height=i/h,this.fixAndSetPosition(),d(this,Bi)&&w(this,ft,Jv).call(this,e,i),w(this,ft,Su).call(this),w(this,ft,gl).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,i,r){var D,C,P;if(e instanceof F0)return null;const o=await super.deserialize(e,i,r);o.thickness=e.thickness,o.color=bt.makeHexColor(...e.color),o.opacity=e.opacity;const[u,h]=o.pageDimensions,f=o.width*u,p=o.height*h,g=o.parentScale,b=e.thickness/2;x(o,Bi,!0),x(o,ho,Math.round(f)),x(o,fo,Math.round(p));const{paths:v,rect:A,rotation:E}=e;for(let{bezier:N}of v){N=w(D=we,Ha,mT).call(D,N,A,E);const I=[];o.paths.push(I);let F=g*(N[0]-b),L=g*(N[1]-b);for(let K=2,tt=N.length;K<tt;K+=6){const ot=g*(N[K]-b),Q=g*(N[K+1]-b),it=g*(N[K+2]-b),st=g*(N[K+3]-b),J=g*(N[K+4]-b),at=g*(N[K+5]-b);I.push([[F,L],[ot,Q],[it,st],[J,at]]),F=J,L=at}const q=w(this,Ha,gT).call(this,I);o.bezierPath2D.push(q)}const T=w(C=o,ft,e0).call(C);return x(o,lo,Math.max(re.MIN_SIZE,T[2]-T[0])),x(o,ro,Math.max(re.MIN_SIZE,T[3]-T[1])),w(P=o,ft,Jv).call(P,f,p),o}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),i=re._colorManager.convert(this.ctx.strokeStyle);return{annotationType:It.INK,color:i,thickness:this.thickness,opacity:this.opacity,paths:w(this,ft,yT).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};ro=new WeakMap,lo=new WeakMap,Ps=new WeakMap,Ca=new WeakMap,Bi=new WeakMap,oo=new WeakMap,uo=new WeakMap,co=new WeakMap,Ra=new WeakMap,Sc=new WeakMap,ho=new WeakMap,fo=new WeakMap,Nr=new WeakMap,ft=new WeakSet,aT=function(e){const i=o=>{this.thickness=o,w(this,ft,Wh).call(this)},r=this.thickness;this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},rT=function(e){const i=o=>{this.color=o,w(this,ft,gl).call(this)},r=this.color;this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},lT=function(e){const i=o=>{this.opacity=o,w(this,ft,gl).call(this)};e/=100;const r=this.opacity;this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},oT=function(){const{parentRotation:e,parentDimensions:[i,r]}=this;switch(e){case 90:return[0,r,r,i];case 180:return[i,r,i,r];case 270:return[i,0,r,i];default:return[0,0,i,r]}},Kv=function(){const{ctx:e,color:i,opacity:r,thickness:o,parentScale:u,scaleFactor:h}=this;e.lineWidth=o*u/h,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${i}${pM(r)}`},uT=function(e,i){this.canvas.addEventListener("contextmenu",Vi,{signal:this._uiManager._signal}),w(this,ft,$v).call(this),x(this,oo,new AbortController);const r=this._uiManager.combinedSignal(d(this,oo));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,d(this,co)||(x(this,co,!0),w(this,ft,Su).call(this),this.thickness||(this.thickness=we._defaultThickness),this.color||(this.color=we._defaultColor||re._defaultLineColor),this.opacity??(this.opacity=we._defaultOpacity)),this.currentPath.push([e,i]),x(this,uo,!1),w(this,ft,Kv).call(this),x(this,Nr,()=>{w(this,ft,dT).call(this),d(this,Nr)&&window.requestAnimationFrame(d(this,Nr))}),window.requestAnimationFrame(d(this,Nr))},Qv=function(e,i){const[r,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===r&&i===o)return;const u=this.currentPath;let h=d(this,Ca);if(u.push([e,i]),x(this,uo,!0),u.length<=2){h.moveTo(...u[0]),h.lineTo(e,i);return}u.length===3&&(x(this,Ca,h=new Path2D),h.moveTo(...u[0])),w(this,ft,fT).call(this,h,...u.at(-3),...u.at(-2),e,i)},cT=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);d(this,Ca).lineTo(...e)},hT=function(e,i){x(this,Nr,null),e=Math.min(Math.max(e,0),this.canvas.width),i=Math.min(Math.max(i,0),this.canvas.height),w(this,ft,Qv).call(this,e,i),w(this,ft,cT).call(this);let r;if(this.currentPath.length!==1)r=w(this,ft,pT).call(this);else{const p=[e,i];r=[[p,p.slice(),p.slice(),p]]}const o=d(this,Ca),u=this.currentPath;this.currentPath=[],x(this,Ca,new Path2D);const h=()=>{this.allRawPaths.push(u),this.paths.push(r),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},f=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(w(this,ft,mg).call(this),w(this,ft,yg).call(this)),w(this,ft,Wh).call(this))};this.addCommands({cmd:h,undo:f,mustExec:!0})},dT=function(){if(!d(this,uo))return;x(this,uo,!1);const e=Math.ceil(this.thickness*this.parentScale),i=this.currentPath.slice(-3),r=i.map(h=>h[0]),o=i.map(h=>h[1]);Math.min(...r)-e,Math.max(...r)+e,Math.min(...o)-e,Math.max(...o)+e;const{ctx:u}=this;u.save(),u.clearRect(0,0,this.canvas.width,this.canvas.height);for(const h of this.bezierPath2D)u.stroke(h);u.stroke(d(this,Ca)),u.restore()},fT=function(e,i,r,o,u,h,f){const p=(i+o)/2,g=(r+u)/2,b=(o+h)/2,v=(u+f)/2;e.bezierCurveTo(p+2*(o-p)/3,g+2*(u-g)/3,b+2*(o-b)/3,v+2*(u-v)/3,b,v)},pT=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const i=[];let r,[o,u]=e[0];for(r=1;r<e.length-2;r++){const[A,E]=e[r],[T,D]=e[r+1],C=(A+T)/2,P=(E+D)/2,N=[o+2*(A-o)/3,u+2*(E-u)/3],I=[C+2*(A-C)/3,P+2*(E-P)/3];i.push([[o,u],N,I,[C,P]]),[o,u]=[C,P]}const[h,f]=e[r],[p,g]=e[r+1],b=[o+2*(h-o)/3,u+2*(f-u)/3],v=[p+2*(h-p)/3,g+2*(f-g)/3];return i.push([[o,u],b,v,[p,g]]),i},gl=function(){if(this.isEmpty()){w(this,ft,bg).call(this);return}w(this,ft,Kv).call(this);const{canvas:e,ctx:i}=this;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,e.width,e.height),w(this,ft,bg).call(this);for(const r of this.bezierPath2D)i.stroke(r)},Wv=function(){if(d(this,Sc))return;x(this,Sc,new AbortController);const e=this._uiManager.combinedSignal(d(this,Sc));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},$v=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},Zv=function(e){var i;(i=d(this,oo))==null||i.abort(),x(this,oo,null),w(this,ft,Wv).call(this),d(this,Ps)&&clearTimeout(d(this,Ps)),x(this,Ps,setTimeout(()=>{x(this,Ps,null),this.canvas.removeEventListener("contextmenu",Vi)},10)),w(this,ft,hT).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},mg=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},yg=function(){x(this,Ra,new ResizeObserver(e=>{const i=e[0].contentRect;i.width&&i.height&&this.setDimensions(i.width,i.height)})),d(this,Ra).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=d(this,Ra))==null||e.disconnect(),x(this,Ra,null)},{once:!0})},Su=function(){if(!d(this,co))return;const[e,i]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*i),w(this,ft,bg).call(this)},Jv=function(e,i){const r=w(this,ft,vg).call(this),o=(e-r)/d(this,lo),u=(i-r)/d(this,ro);this.scaleFactor=Math.min(o,u)},bg=function(){const e=w(this,ft,vg).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},Ha=new WeakSet,gT=function(e){const i=new Path2D;for(let r=0,o=e.length;r<o;r++){const[u,h,f,p]=e[r];r===0&&i.moveTo(...u),i.bezierCurveTo(h[0],h[1],f[0],f[1],p[0],p[1])}return i},t0=function(e,i,r){const[o,u,h,f]=i;switch(r){case 0:for(let p=0,g=e.length;p<g;p+=2)e[p]+=o,e[p+1]=f-e[p+1];break;case 90:for(let p=0,g=e.length;p<g;p+=2){const b=e[p];e[p]=e[p+1]+o,e[p+1]=b+u}break;case 180:for(let p=0,g=e.length;p<g;p+=2)e[p]=h-e[p],e[p+1]+=u;break;case 270:for(let p=0,g=e.length;p<g;p+=2){const b=e[p];e[p]=h-e[p+1],e[p+1]=f-b}break;default:throw new Error("Invalid rotation")}return e},mT=function(e,i,r){const[o,u,h,f]=i;switch(r){case 0:for(let p=0,g=e.length;p<g;p+=2)e[p]-=o,e[p+1]=f-e[p+1];break;case 90:for(let p=0,g=e.length;p<g;p+=2){const b=e[p];e[p]=e[p+1]-u,e[p+1]=b-o}break;case 180:for(let p=0,g=e.length;p<g;p+=2)e[p]=h-e[p],e[p+1]-=u;break;case 270:for(let p=0,g=e.length;p<g;p+=2){const b=e[p];e[p]=f-e[p+1],e[p+1]=h-b}break;default:throw new Error("Invalid rotation")}return e},yT=function(e,i,r,o){var g,b;const u=[],h=this.thickness/2,f=e*i+h,p=e*r+h;for(const v of this.paths){const A=[],E=[];for(let T=0,D=v.length;T<D;T++){const[C,P,N,I]=v[T];if(C[0]===I[0]&&C[1]===I[1]&&D===1){const st=e*C[0]+f,J=e*C[1]+p;A.push(st,J),E.push(st,J);break}const F=e*C[0]+f,L=e*C[1]+p,q=e*P[0]+f,K=e*P[1]+p,tt=e*N[0]+f,ot=e*N[1]+p,Q=e*I[0]+f,it=e*I[1]+p;T===0&&(A.push(F,L),E.push(F,L)),A.push(q,K,tt,ot,Q,it),E.push(q,K),T===D-1&&E.push(Q,it)}u.push({bezier:w(g=we,Ha,t0).call(g,A,o,this.rotation),points:w(b=we,Ha,t0).call(b,E,o,this.rotation)})}return u},e0=function(){let e=1/0,i=-1/0,r=1/0,o=-1/0;for(const u of this.paths)for(const[h,f,p,g]of u){const b=bt.bezierBoundingBox(...h,...f,...p,...g);e=Math.min(e,b[0]),r=Math.min(r,b[1]),i=Math.max(i,b[2]),o=Math.max(o,b[3])}return[e,r,i,o]},vg=function(){return d(this,Bi)?Math.ceil(this.thickness*this.parentScale):0},Wh=function(e=!1){if(this.isEmpty())return;if(!d(this,Bi)){w(this,ft,gl).call(this);return}const i=w(this,ft,e0).call(this),r=w(this,ft,vg).call(this);x(this,lo,Math.max(re.MIN_SIZE,i[2]-i[0])),x(this,ro,Math.max(re.MIN_SIZE,i[3]-i[1]));const o=Math.ceil(r+d(this,lo)*this.scaleFactor),u=Math.ceil(r+d(this,ro)*this.scaleFactor),[h,f]=this.parentDimensions;this.width=o/h,this.height=u/f,this.setAspectRatio(o,u);const p=this.translationX,g=this.translationY;this.translationX=-i[0],this.translationY=-i[1],w(this,ft,Su).call(this),w(this,ft,gl).call(this),x(this,ho,o),x(this,fo,u),this.setDims(o,u);const b=e?r/this.scaleFactor/2:0;this.translate(p-this.translationX-b,g-this.translationY-b)},k(we,Ha),Mt(we,"_defaultColor",null),Mt(we,"_defaultOpacity",1),Mt(we,"_defaultThickness",1),Mt(we,"_type","ink"),Mt(we,"_editorType",It.INK);let Yv=we;var Ce,yn,Pr,ka,zr,Ec,zs,Ma,Is,vi,_c,Vt,$h,Zh,Ag,i0,bT,Sg,s0,Eg,vT,AT;const sd=class sd extends re{constructor(e){super({...e,name:"stampEditor"});k(this,Vt);k(this,Ce,null);k(this,yn,null);k(this,Pr,null);k(this,ka,null);k(this,zr,null);k(this,Ec,"");k(this,zs,null);k(this,Ma,null);k(this,Is,null);k(this,vi,!1);k(this,_c,!1);x(this,ka,e.bitmapUrl),x(this,zr,e.bitmapFile)}static initialize(e,i){re.initialize(e,i)}static get supportedTypes(){return Yt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(i=>`image/${i}`))}static get supportedTypesStr(){return Yt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,i){i.pasteEditor(It.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const i=e.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(e=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:u,height:h}=e||this.copyCanvas(null,null,!0).imageData,f=await r.guess({name:"altText",request:{data:o,width:u,height:h,channels:o.length/(u*h)}});if(!f)throw new Error("No response from the AI service.");if(f.error)throw new Error("Error from the AI service.");if(f.cancel)return null;if(!f.output)throw new Error("No valid response from the AI service.");const p=f.output;return await this.setGuessedAltText(p),i&&!this.hasAltTextData()&&(this.altTextData={alt:p,decorative:!1}),p}remove(){var e,i;d(this,yn)&&(x(this,Ce,null),this._uiManager.imageManager.deleteId(d(this,yn)),(e=d(this,zs))==null||e.remove(),x(this,zs,null),(i=d(this,Ma))==null||i.disconnect(),x(this,Ma,null),d(this,Is)&&(clearTimeout(d(this,Is)),x(this,Is,null))),super.remove()}rebuild(){if(!this.parent){d(this,yn)&&w(this,Vt,Ag).call(this);return}super.rebuild(),this.div!==null&&(d(this,yn)&&d(this,zs)===null&&w(this,Vt,Ag).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(d(this,Pr)||d(this,Ce)||d(this,ka)||d(this,zr)||d(this,yn))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,i;if(this.width&&(e=this.x,i=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),d(this,Ce)?w(this,Vt,i0).call(this):w(this,Vt,Ag).call(this),this.width&&!this.annotationElementId){const[r,o]=this.parentDimensions;this.setAt(e*r,i*o,this.width*r,this.height*o)}return this.div}copyCanvas(e,i,r=!1){var A;e||(e=224);const{width:o,height:u}=d(this,Ce),h=new Zb;let f=d(this,Ce),p=o,g=u,b=null;if(i){if(o>i||u>i){const K=Math.min(i/o,i/u);p=Math.floor(o*K),g=Math.floor(u*K)}b=document.createElement("canvas");const E=b.width=Math.ceil(p*h.sx),T=b.height=Math.ceil(g*h.sy);d(this,vi)||(f=w(this,Vt,Sg).call(this,E,T));const D=b.getContext("2d");D.filter=this._uiManager.hcmFilter;let C="white",P="#cfcfd8";this._uiManager.hcmFilter!=="none"?P="black":(A=window.matchMedia)!=null&&A.call(window,"(prefers-color-scheme: dark)").matches&&(C="#8f8f9d",P="#42414d");const N=15,I=N*h.sx,F=N*h.sy,L=new OffscreenCanvas(I*2,F*2),q=L.getContext("2d");q.fillStyle=C,q.fillRect(0,0,I*2,F*2),q.fillStyle=P,q.fillRect(0,0,I,F),q.fillRect(I,F,I,F),D.fillStyle=D.createPattern(L,"repeat"),D.fillRect(0,0,E,T),D.drawImage(f,0,0,f.width,f.height,0,0,E,T)}let v=null;if(r){let E,T;if(h.symmetric&&f.width<e&&f.height<e)E=f.width,T=f.height;else if(f=d(this,Ce),o>e||u>e){const P=Math.min(e/o,e/u);E=Math.floor(o*P),T=Math.floor(u*P),d(this,vi)||(f=w(this,Vt,Sg).call(this,E,T))}const C=new OffscreenCanvas(E,T).getContext("2d",{willReadFrequently:!0});C.drawImage(f,0,0,f.width,f.height,0,0,E,T),v={width:E,height:T,data:C.getImageData(0,0,E,T).data}}return{canvas:b,width:p,height:g,imageData:v}}getImageForAltText(){return d(this,zs)}static async deserialize(e,i,r){var T;let o=null;if(e instanceof Mw){const{data:{rect:D,rotation:C,id:P,structParent:N,popupRef:I},container:F,parent:{page:{pageNumber:L}}}=e,q=F.querySelector("canvas"),K=r.imageManager.getFromCanvas(F.id,q);q.remove();const tt=((T=await i._structTree.getAriaAttributes(`${C0}${P}`))==null?void 0:T.get("aria-label"))||"";o=e={annotationType:It.STAMP,bitmapId:K.id,bitmap:K.bitmap,pageIndex:L-1,rect:D.slice(0),rotation:C,id:P,deleted:!1,accessibilityData:{decorative:!1,altText:tt},isSvg:!1,structParent:N,popupRef:I}}const u=await super.deserialize(e,i,r),{rect:h,bitmap:f,bitmapUrl:p,bitmapId:g,isSvg:b,accessibilityData:v}=e;g&&r.imageManager.isValidId(g)?(x(u,yn,g),f&&x(u,Ce,f)):x(u,ka,p),x(u,vi,b);const[A,E]=u.pageDimensions;return u.width=(h[2]-h[0])/A,u.height=(h[3]-h[1])/E,u.annotationElementId=e.id||null,v&&(u.altTextData=v),u._initialData=o,x(u,_c,!!o),u}serialize(e=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:It.STAMP,bitmapId:d(this,yn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:d(this,vi),structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=w(this,Vt,Eg).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:o,altText:u}=this.serializeAltText(!1);if(!o&&u&&(r.accessibilityData={type:"Figure",alt:u}),this.annotationElementId){const f=w(this,Vt,AT).call(this,r);if(f.isSame)return null;f.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,i===null)return r;i.stamps||(i.stamps=new Map);const h=d(this,vi)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(d(this,yn)))i.stamps.set(d(this,yn),{area:h,serialized:r}),r.bitmap=w(this,Vt,Eg).call(this,!1);else if(d(this,vi)){const f=i.stamps.get(d(this,yn));h>f.area&&(f.area=h,f.serialized.bitmap.close(),f.serialized.bitmap=w(this,Vt,Eg).call(this,!1))}return r}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};Ce=new WeakMap,yn=new WeakMap,Pr=new WeakMap,ka=new WeakMap,zr=new WeakMap,Ec=new WeakMap,zs=new WeakMap,Ma=new WeakMap,Is=new WeakMap,vi=new WeakMap,_c=new WeakMap,Vt=new WeakSet,$h=function(e,i=!1){if(!e){this.remove();return}x(this,Ce,e.bitmap),i||(x(this,yn,e.id),x(this,vi,e.isSvg)),e.file&&x(this,Ec,e.file.name),w(this,Vt,i0).call(this)},Zh=function(){if(x(this,Pr,null),this._uiManager.enableWaiting(!1),!!d(this,zs)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,Ce)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,Ce)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Ag=function(){if(d(this,yn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(d(this,yn)).then(r=>w(this,Vt,$h).call(this,r,!0)).finally(()=>w(this,Vt,Zh).call(this));return}if(d(this,ka)){const r=d(this,ka);x(this,ka,null),this._uiManager.enableWaiting(!0),x(this,Pr,this._uiManager.imageManager.getFromUrl(r).then(o=>w(this,Vt,$h).call(this,o)).finally(()=>w(this,Vt,Zh).call(this)));return}if(d(this,zr)){const r=d(this,zr);x(this,zr,null),this._uiManager.enableWaiting(!0),x(this,Pr,this._uiManager.imageManager.getFromFile(r).then(o=>w(this,Vt,$h).call(this,o)).finally(()=>w(this,Vt,Zh).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=sd.supportedTypesStr;const i=this._uiManager._signal;x(this,Pr,new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),w(this,Vt,$h).call(this,o)}r()},{signal:i}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>w(this,Vt,Zh).call(this))),e.click()},i0=function(){const{div:e}=this;let{width:i,height:r}=d(this,Ce);const[o,u]=this.pageDimensions,h=.75;if(this.width)i=this.width*o,r=this.height*u;else if(i>h*o||r>h*u){const b=Math.min(h*o/i,h*u/r);i*=b,r*=b}const[f,p]=this.parentDimensions;this.setDims(i*f/o,r*p/u),this._uiManager.enableWaiting(!1);const g=x(this,zs,document.createElement("canvas"));g.setAttribute("role","img"),this.addContainer(g),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),w(this,Vt,s0).call(this,i,r),w(this,Vt,vT).call(this),d(this,_c)||(this.parent.addUndoableEditor(this),x(this,_c,!0)),this._reportTelemetry({action:"inserted_image"}),d(this,Ec)&&g.setAttribute("aria-label",d(this,Ec))},bT=function(e,i){var h;const[r,o]=this.parentDimensions;this.width=e/r,this.height=i/o,(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,d(this,Is)!==null&&clearTimeout(d(this,Is)),x(this,Is,setTimeout(()=>{x(this,Is,null),w(this,Vt,s0).call(this,e,i)},200))},Sg=function(e,i){const{width:r,height:o}=d(this,Ce);let u=r,h=o,f=d(this,Ce);for(;u>2*e||h>2*i;){const p=u,g=h;u>2*e&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2)),h>2*i&&(h=h>=16384?Math.floor(h/2)-1:Math.ceil(h/2));const b=new OffscreenCanvas(u,h);b.getContext("2d").drawImage(f,0,0,p,g,0,0,u,h),f=b.transferToImageBitmap()}return f},s0=function(e,i){const r=new Zb,o=Math.ceil(e*r.sx),u=Math.ceil(i*r.sy),h=d(this,zs);if(!h||h.width===o&&h.height===u)return;h.width=o,h.height=u;const f=d(this,vi)?d(this,Ce):w(this,Vt,Sg).call(this,o,u),p=h.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,o,u)},Eg=function(e){if(e){if(d(this,vi)){const o=this._uiManager.imageManager.getSvgUrl(d(this,yn));if(o)return o}const i=document.createElement("canvas");return{width:i.width,height:i.height}=d(this,Ce),i.getContext("2d").drawImage(d(this,Ce),0,0),i.toDataURL()}if(d(this,vi)){const[i,r]=this.pageDimensions,o=Math.round(this.width*i*Br.PDF_TO_CSS_UNITS),u=Math.round(this.height*r*Br.PDF_TO_CSS_UNITS),h=new OffscreenCanvas(o,u);return h.getContext("2d").drawImage(d(this,Ce),0,0,d(this,Ce).width,d(this,Ce).height,0,0,o,u),h.transferToImageBitmap()}return structuredClone(d(this,Ce))},vT=function(){this._uiManager._signal&&(x(this,Ma,new ResizeObserver(e=>{const i=e[0].contentRect;i.width&&i.height&&w(this,Vt,bT).call(this,i.width,i.height)})),d(this,Ma).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=d(this,Ma))==null||e.disconnect(),x(this,Ma,null)},{once:!0}))},AT=function(e){var p;const{rect:i,pageIndex:r,accessibilityData:{altText:o}}=this._initialData,u=e.rect.every((g,b)=>Math.abs(g-i[b])<1),h=e.pageIndex===r,f=(((p=e.accessibilityData)==null?void 0:p.alt)||"")===o;return{isSame:u&&h&&f,isSameAltText:f}},Mt(sd,"_type","stamp"),Mt(sd,"_editorType",It.STAMP);let n0=sd;var po,xc,Fs,Ir,Da,Ai,Fr,wc,Tc,Cn,La,_t,Hr,bn,ST,r0,l0,o0,_g;const Zi=class Zi{constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:r,accessibilityManager:o,annotationLayer:u,drawLayer:h,textLayer:f,viewport:p,l10n:g}){k(this,bn);k(this,po);k(this,xc,!1);k(this,Fs,null);k(this,Ir,null);k(this,Da,null);k(this,Ai,new Map);k(this,Fr,!1);k(this,wc,!1);k(this,Tc,!1);k(this,Cn,null);k(this,La,null);k(this,_t);const b=[...d(Zi,Hr).values()];if(!Zi._initialized){Zi._initialized=!0;for(const v of b)v.initialize(g,t)}t.registerEditorTypes(b),x(this,_t,t),this.pageIndex=e,this.div=i,x(this,po,o),x(this,Fs,u),this.viewport=p,x(this,Cn,f),this.drawLayer=h,this._structTree=r,d(this,_t).addLayer(this)}get isEmpty(){return d(this,Ai).size===0}get isInvisible(){return this.isEmpty&&d(this,_t).getMode()===It.NONE}updateToolbar(t){d(this,_t).updateToolbar(t)}updateMode(t=d(this,_t).getMode()){switch(w(this,bn,_g).call(this),t){case It.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case It.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case It.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const i of d(Zi,Hr).values())e.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=d(this,Cn))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(d(this,_t).getMode()!==It.INK)return;if(!t){for(const i of d(this,Ai).values())if(i.isEmpty()){i.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){d(this,_t).setEditingState(t)}addCommands(t){d(this,_t).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=d(this,Fs))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const i of d(this,Ai).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(d(this,_t).removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!d(this,Fs))return;const e=d(this,Fs).getEditableAnnotations();for(const i of e){if(i.hide(),d(this,_t).isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const r=await this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;x(this,Tc,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const o of d(this,Ai).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){t.set(o.annotationElementId,o);continue}else e.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}if(d(this,Fs)){const o=d(this,Fs).getEditableAnnotations();for(const u of o){const{id:h}=u.data;if(d(this,_t).isDeletedAnnotationElement(h))continue;let f=e.get(h);if(f){f.resetAnnotationElement(u),f.show(!1),u.show();continue}f=t.get(h),f&&(d(this,_t).addChangedExistingAnnotation(f),f.renderAnnotationElement(u)&&f.show(!1)),u.show()}}w(this,bn,_g).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const o of d(Zi,Hr).values())i.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),x(this,Tc,!1)}getEditableAnnotation(t){var e;return((e=d(this,Fs))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){d(this,_t).getActive()!==t&&d(this,_t).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=d(this,Cn))!=null&&t.div&&!d(this,La)){x(this,La,new AbortController);const e=d(this,_t).combinedSignal(d(this,La));d(this,Cn).div.addEventListener("pointerdown",w(this,bn,ST).bind(this),{signal:e}),d(this,Cn).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=d(this,Cn))!=null&&t.div&&d(this,La)&&(d(this,La).abort(),x(this,La,null),d(this,Cn).div.classList.remove("highlighting"))}enableClick(){if(d(this,Ir))return;x(this,Ir,new AbortController);const t=d(this,_t).combinedSignal(d(this,Ir));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=d(this,Ir))==null||t.abort(),x(this,Ir,null)}attach(t){d(this,Ai).set(t.id,t);const{annotationElementId:e}=t;e&&d(this,_t).isDeletedAnnotationElement(e)&&d(this,_t).removeDeletedAnnotationElement(t)}detach(t){var e;d(this,Ai).delete(t.id),(e=d(this,po))==null||e.removePointerInTextLayer(t.contentDiv),!d(this,Tc)&&t.annotationElementId&&d(this,_t).addDeletedAnnotationElement(t)}remove(t){this.detach(t),d(this,_t).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,d(this,wc)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(d(this,_t).addDeletedAnnotationElement(t.annotationElementId),re.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),d(this,_t).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),d(this,_t).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var i;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!d(this,Da)&&(t._focusEventsAllowed=!1,x(this,Da,setTimeout(()=>{x(this,Da,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:d(this,_t)._signal}),e.focus())},0))),t._structTreeParentId=(i=d(this,po))==null?void 0:i.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getNextId(){return d(this,_t).getId()}combinedSignal(t){return d(this,_t).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=d(this,bn,r0))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){d(this,_t).updateToolbar(t),d(this,_t).updateMode(t);const{offsetX:i,offsetY:r}=w(this,bn,o0).call(this),o=this.getNextId(),u=w(this,bn,l0).call(this,{parent:this,id:o,x:i,y:r,uiManager:d(this,_t),isCentered:!0,...e});u&&this.add(u)}async deserialize(t){var e;return await((e=d(Zi,Hr).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,d(this,_t)))||null}createAndAddNewEditor(t,e,i={}){const r=this.getNextId(),o=w(this,bn,l0).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:d(this,_t),isCentered:e,...i});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(w(this,bn,o0).call(this),!0)}setSelected(t){d(this,_t).setSelected(t)}toggleSelected(t){d(this,_t).toggleSelected(t)}unselect(t){d(this,_t).unselect(t)}pointerup(t){const{isMac:e}=In.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&d(this,Fr)){if(x(this,Fr,!1),!d(this,xc)){x(this,xc,!0);return}if(d(this,_t).getMode()===It.STAMP){d(this,_t).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(d(this,_t).getMode()===It.HIGHLIGHT&&this.enableTextSelection(),d(this,Fr)){x(this,Fr,!1);return}const{isMac:e}=In.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;x(this,Fr,!0);const i=d(this,_t).getActive();x(this,xc,!i||i.isEmpty())}findNewParent(t,e,i){const r=d(this,_t).findParent(e,i);return r===null||r===this?!1:(r.changeParent(t),!0)}destroy(){var t,e;((t=d(this,_t).getActive())==null?void 0:t.parent)===this&&(d(this,_t).commitOrRemove(),d(this,_t).setActiveEditor(null)),d(this,Da)&&(clearTimeout(d(this,Da)),x(this,Da,null));for(const i of d(this,Ai).values())(e=d(this,po))==null||e.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,d(this,Ai).clear(),d(this,_t).removeLayer(this)}render({viewport:t}){this.viewport=t,go(this.div,t);for(const e of d(this,_t).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){d(this,_t).commitOrRemove(),w(this,bn,_g).call(this);const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,go(this.div,{rotation:i}),e!==i)for(const r of d(this,Ai).values())r.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return d(this,_t).viewParameters.realScale}};po=new WeakMap,xc=new WeakMap,Fs=new WeakMap,Ir=new WeakMap,Da=new WeakMap,Ai=new WeakMap,Fr=new WeakMap,wc=new WeakMap,Tc=new WeakMap,Cn=new WeakMap,La=new WeakMap,_t=new WeakMap,Hr=new WeakMap,bn=new WeakSet,ST=function(t){d(this,_t).unselectAll();const{target:e}=t;if(e===d(this,Cn).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&d(this,Cn).div.contains(e)){const{isMac:i}=In.platform;if(t.button!==0||t.ctrlKey&&i)return;d(this,_t).showAllEditors("highlight",!0,!0),d(this,Cn).div.classList.add("free"),this.toggleDrawing(),kg.startHighlighting(this,d(this,_t).direction==="ltr",{target:d(this,Cn).div,x:t.x,y:t.y}),d(this,Cn).div.addEventListener("pointerup",()=>{d(this,Cn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:d(this,_t)._signal}),t.preventDefault()}},r0=function(){return d(Zi,Hr).get(d(this,_t).getMode())},l0=function(t){const e=d(this,bn,r0);return e?new e.prototype.constructor(t):null},o0=function(){const{x:t,y:e,width:i,height:r}=this.div.getBoundingClientRect(),o=Math.max(0,t),u=Math.max(0,e),h=Math.min(window.innerWidth,t+i),f=Math.min(window.innerHeight,e+r),p=(o+h)/2-t,g=(u+f)/2-e,[b,v]=this.viewport.rotation%180===0?[p,g]:[g,p];return{offsetX:b,offsetY:v}},_g=function(){x(this,wc,!0);for(const t of d(this,Ai).values())t.isEmpty()&&t.remove();x(this,wc,!1)},Mt(Zi,"_initialized",!1),k(Zi,Hr,new Map([Fv,Yv,n0,kg].map(t=>[t._editorType,t])));let a0=Zi;var Hs,Sf,je,Oa,Ef,c0,Ao,h0,ET;const pn=class pn{constructor({pageIndex:t}){k(this,Ao);k(this,Hs,null);k(this,Sf,0);k(this,je,new Map);k(this,Oa,new Map);this.pageIndex=t}setParent(t){if(!d(this,Hs)){x(this,Hs,t);return}if(d(this,Hs)!==t){if(d(this,je).size>0)for(const e of d(this,je).values())e.remove(),t.append(e);x(this,Hs,t)}}static get _svgFactory(){return Yt(this,"_svgFactory",new I0)}draw(t,e,i,r=!1){const o=On(this,Sf)._++,u=w(this,Ao,h0).call(this,t.box);u.classList.add(...t.classNamesForDrawing);const h=pn._svgFactory.createElement("defs");u.append(h);const f=pn._svgFactory.createElement("path");h.append(f);const p=`path_p${this.pageIndex}_${o}`;f.setAttribute("id",p),f.setAttribute("d",t.toSVGPath()),r&&d(this,Oa).set(o,f);const g=w(this,Ao,ET).call(this,h,p),b=pn._svgFactory.createElement("use");return u.append(b),u.setAttribute("fill",e),u.setAttribute("fill-opacity",i),b.setAttribute("href",`#${p}`),d(this,je).set(o,u),{id:o,clipPathId:`url(#${g})`}}drawOutline(t){const e=On(this,Sf)._++,i=w(this,Ao,h0).call(this,t.box);i.classList.add(...t.classNamesForOutlining);const r=pn._svgFactory.createElement("defs");i.append(r);const o=pn._svgFactory.createElement("path");r.append(o);const u=`path_p${this.pageIndex}_${e}`;o.setAttribute("id",u),o.setAttribute("d",t.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let h;if(t.mustRemoveSelfIntersections){const g=pn._svgFactory.createElement("mask");r.append(g),h=`mask_p${this.pageIndex}_${e}`,g.setAttribute("id",h),g.setAttribute("maskUnits","objectBoundingBox");const b=pn._svgFactory.createElement("rect");g.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const v=pn._svgFactory.createElement("use");g.append(v),v.setAttribute("href",`#${u}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const f=pn._svgFactory.createElement("use");i.append(f),f.setAttribute("href",`#${u}`),h&&f.setAttribute("mask",`url(#${h})`);const p=f.cloneNode();return i.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),d(this,je).set(e,i),e}finalizeLine(t,e){const i=d(this,Oa).get(t);d(this,Oa).delete(t),this.updateBox(t,e.box),i.setAttribute("d",e.toSVGPath())}updateLine(t,e){d(this,je).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){d(this,Oa).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var i;w(i=pn,Ef,c0).call(i,d(this,je).get(t),e)}show(t,e){d(this,je).get(t).classList.toggle("hidden",!e)}rotate(t,e){d(this,je).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){d(this,je).get(t).setAttribute("fill",e)}changeOpacity(t,e){d(this,je).get(t).setAttribute("fill-opacity",e)}addClass(t,e){d(this,je).get(t).classList.add(e)}removeClass(t,e){d(this,je).get(t).classList.remove(e)}getSVGRoot(t){return d(this,je).get(t)}remove(t){d(this,Oa).delete(t),d(this,Hs)!==null&&(d(this,je).get(t).remove(),d(this,je).delete(t))}destroy(){x(this,Hs,null);for(const t of d(this,je).values())t.remove();d(this,je).clear(),d(this,Oa).clear()}};Hs=new WeakMap,Sf=new WeakMap,je=new WeakMap,Oa=new WeakMap,Ef=new WeakSet,c0=function(t,{x:e=0,y:i=0,width:r=1,height:o=1}={}){const{style:u}=t;u.top=`${100*i}%`,u.left=`${100*e}%`,u.width=`${100*r}%`,u.height=`${100*o}%`},Ao=new WeakSet,h0=function(t){var i;const e=pn._svgFactory.create(1,1,!0);return d(this,Hs).append(e),e.setAttribute("aria-hidden",!0),w(i=pn,Ef,c0).call(i,e,t),e},ET=function(t,e){const i=pn._svgFactory.createElement("clipPath");t.append(i);const r=`clip_${e}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const o=pn._svgFactory.createElement("use");return i.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),r},k(pn,Ef);let u0=pn;var YD=Ot.AbortException,KD=Ot.AnnotationEditorLayer,QD=Ot.AnnotationEditorParamsType,WD=Ot.AnnotationEditorType,$D=Ot.AnnotationEditorUIManager,_T=Ot.AnnotationLayer,xT=Ot.AnnotationMode,ZD=Ot.ColorPicker,JD=Ot.DOMSVGFactory,tL=Ot.DrawLayer,eL=Ot.FeatureTest,H0=Ot.GlobalWorkerOptions,nL=Ot.ImageKind,iL=Ot.InvalidPDFException,sL=Ot.MissingPDFException,aL=Ot.OPS,rL=Ot.OutputScale,lL=Ot.PDFDataRangeTransport,oL=Ot.PDFDateString,uL=Ot.PDFWorker,cL=Ot.PasswordResponses,hL=Ot.PermissionFlag,dL=Ot.PixelsPerInch,fL=Ot.RenderingCancelledException,wT=Ot.TextLayer,pL=Ot.UnexpectedResponseException,gL=Ot.Util,mL=Ot.VerbosityLevel,yL=Ot.XfaLayer,bL=Ot.build,vL=Ot.createValidAbsoluteUrl,AL=Ot.fetchData,TT=Ot.getDocument,SL=Ot.getFilenameFromUrl,EL=Ot.getPdfFilenameFromUrl,_L=Ot.getXfaPageViewport,xL=Ot.isDataScheme,wL=Ot.isPdfFile,TL=Ot.noContextMenu,CL=Ot.normalizeUnicode,RL=Ot.setLayerDimensions,kL=Ot.shadow,ML=Ot.version;const DL=Object.freeze(Object.defineProperty({__proto__:null,AbortException:YD,AnnotationEditorLayer:KD,AnnotationEditorParamsType:QD,AnnotationEditorType:WD,AnnotationEditorUIManager:$D,AnnotationLayer:_T,AnnotationMode:xT,ColorPicker:ZD,DOMSVGFactory:JD,DrawLayer:tL,FeatureTest:eL,GlobalWorkerOptions:H0,ImageKind:nL,InvalidPDFException:iL,MissingPDFException:sL,OPS:aL,OutputScale:rL,PDFDataRangeTransport:lL,PDFDateString:oL,PDFWorker:uL,PasswordResponses:cL,PermissionFlag:hL,PixelsPerInch:dL,RenderingCancelledException:fL,TextLayer:wT,UnexpectedResponseException:pL,Util:gL,VerbosityLevel:mL,XfaLayer:yL,build:bL,createValidAbsoluteUrl:vL,fetchData:AL,getDocument:TT,getFilenameFromUrl:SL,getPdfFilenameFromUrl:EL,getXfaPageViewport:_L,isDataScheme:xL,isPdfFile:wL,noContextMenu:TL,normalizeUnicode:CL,setLayerDimensions:RL,shadow:kL,version:ML},Symbol.toStringTag,{value:"Module"}));var an=function(a,t,e){if(e||arguments.length===2)for(var i=0,r=t.length,o;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return a.concat(o||Array.prototype.slice.call(t))},LL=["onCopy","onCut","onPaste"],OL=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],NL=["onFocus","onBlur"],PL=["onInput","onInvalid","onReset","onSubmit"],zL=["onLoad","onError"],IL=["onKeyDown","onKeyPress","onKeyUp"],FL=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],HL=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],BL=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],UL=["onSelect"],jL=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],qL=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],GL=["onScroll"],VL=["onWheel"],XL=["onAnimationStart","onAnimationEnd","onAnimationIteration"],YL=["onTransitionEnd"],KL=["onToggle"],QL=["onChange"],WL=an(an(an(an(an(an(an(an(an(an(an(an(an(an(an(an(an(an([],LL,!0),OL,!0),NL,!0),PL,!0),zL,!0),IL,!0),FL,!0),HL,!0),BL,!0),UL,!0),jL,!0),qL,!0),GL,!0),VL,!0),XL,!0),YL,!0),QL,!0),KL,!0);function CT(a,t){var e={};return WL.forEach(function(i){var r=a[i];r&&(t?e[i]=function(o){return r(o,t(i))}:e[i]=r)}),e}function Tf(a){var t=!1,e=new Promise(function(i,r){a.then(function(o){return!t&&i(o)}).catch(function(o){return!t&&r(o)})});return{promise:e,cancel:function(){t=!0}}}function RT(a){var t,e,i="";if(typeof a=="string"||typeof a=="number")i+=a;else if(typeof a=="object")if(Array.isArray(a)){var r=a.length;for(t=0;t<r;t++)a[t]&&(e=RT(a[t]))&&(i&&(i+=" "),i+=e)}else for(e in a)a[e]&&(i&&(i+=" "),i+=e);return i}function im(){for(var a,t,e=0,i="",r=arguments.length;e<r;e++)(a=arguments[e])&&(t=RT(a))&&(i&&(i+=" "),i+=t);return i}var $L="Invariant failed";function pe(a,t){if(!a)throw new Error($L)}var Nb,__;function ZL(){if(__)return Nb;__=1;var a=function(){};return Nb=a,Nb}var JL=ZL();const Rn=x0(JL);var x_=Object.prototype.hasOwnProperty;function w_(a,t,e){for(e of a.keys())if(wu(e,t))return e}function wu(a,t){var e,i,r;if(a===t)return!0;if(a&&t&&(e=a.constructor)===t.constructor){if(e===Date)return a.getTime()===t.getTime();if(e===RegExp)return a.toString()===t.toString();if(e===Array){if((i=a.length)===t.length)for(;i--&&wu(a[i],t[i]););return i===-1}if(e===Set){if(a.size!==t.size)return!1;for(i of a)if(r=i,r&&typeof r=="object"&&(r=w_(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(a.size!==t.size)return!1;for(i of a)if(r=i[0],r&&typeof r=="object"&&(r=w_(t,r),!r)||!wu(i[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)a=new Uint8Array(a),t=new Uint8Array(t);else if(e===DataView){if((i=a.byteLength)===t.byteLength)for(;i--&&a.getInt8(i)===t.getInt8(i););return i===-1}if(ArrayBuffer.isView(a)){if((i=a.byteLength)===t.byteLength)for(;i--&&a[i]===t[i];);return i===-1}if(!e||typeof a=="object"){i=0;for(e in a)if(x_.call(a,e)&&++i&&!x_.call(t,e)||!(e in t)||!wu(a[e],t[e]))return!1;return Object.keys(t).length===i}}return a!==a&&t!==t}const kT=dt.createContext(null);function Tu({children:a,type:t}){return ct.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:a})}const t2="noopener noreferrer nofollow";class e2{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return pe(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){pe(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{pe(this.pdfDocument),pe(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{pe(Array.isArray(e));const i=e[0];new Promise(r=>{pe(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(o=>{r(o)}).catch(()=>{pe(!1)}):typeof i=="number"?r(i):pe(!1)}).then(r=>{const o=r+1;pe(this.pdfViewer),pe(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:o})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;pe(this.pdfViewer),pe(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,i){t.href=e,t.rel=this.externalLinkRel||t2,t.target=i?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const T_={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},sm=typeof window<"u",MT=sm&&window.location.protocol==="file:";function n2(a){return typeof a<"u"}function hl(a){return n2(a)&&a!==null}function i2(a){return typeof a=="string"}function s2(a){return a instanceof ArrayBuffer}function a2(a){return pe(sm),a instanceof Blob}function d0(a){return i2(a)&&/^data:/.test(a)}function C_(a){pe(d0(a));const[t="",e=""]=a.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function r2(){return sm&&window.devicePixelRatio||1}const DT="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function R_(){Rn(!MT,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${DT}`)}function l2(){Rn(!MT,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${DT}`)}function bo(a){a!=null&&a.cancel&&a.cancel()}function f0(a,t){return Object.defineProperty(a,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(a,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(a,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(a,"originalHeight",{get(){return this.view[3]},configurable:!0}),a}function o2(a){return a.name==="RenderingCancelledException"}function u2(a){return new Promise((t,e)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return e(new Error("Error while reading a file."));t(i.result)},i.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return e(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},i.readAsArrayBuffer(a)})}function c2(a,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return a}}function Cc(){return dt.useReducer(c2,{value:void 0,error:void 0})}var h2=function(a,t,e,i){function r(o){return o instanceof e?o:new e(function(u){u(o)})}return new(e||(e=Promise))(function(o,u){function h(g){try{p(i.next(g))}catch(b){u(b)}}function f(g){try{p(i.throw(g))}catch(b){u(b)}}function p(g){g.done?o(g.value):r(g.value).then(h,f)}p((i=i.apply(a,t||[])).next())})},k_=function(a,t){var e={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&t.indexOf(i)<0&&(e[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(a);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(a,i[r])&&(e[i[r]]=a[i[r]]);return e};const{PDFDataRangeTransport:d2}=DL,f2=(a,t)=>{switch(t){case T_.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");a(e);break}case T_.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");a(e);break}}};function M_(a){return typeof a=="object"&&a!==null&&("data"in a||"range"in a||"url"in a)}const p2=dt.forwardRef(function(t,e){var{children:i,className:r,error:o="Failed to load PDF file.",externalLinkRel:u,externalLinkTarget:h,file:f,inputRef:p,imageResourcesPath:g,loading:b="Loading PDF",noData:v="No PDF file specified.",onItemClick:A,onLoadError:E,onLoadProgress:T,onLoadSuccess:D,onPassword:C=f2,onSourceError:P,onSourceSuccess:N,options:I,renderMode:F,rotate:L}=t,q=k_(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[K,tt]=Cc(),{value:ot,error:Q}=K,[it,st]=Cc(),{value:J,error:at}=it,H=dt.useRef(new e2),G=dt.useRef([]),et=dt.useRef(void 0),St=dt.useRef(void 0);f&&f!==et.current&&M_(f)&&(Rn(!wu(f,et.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),et.current=f),I&&I!==St.current&&(Rn(!wu(I,St.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),St.current=I);const _=dt.useRef({scrollPageIntoView:Wt=>{const{dest:ge,pageNumber:Oe,pageIndex:_e=Oe-1}=Wt;if(A){A({dest:ge,pageIndex:_e,pageNumber:Oe});return}const Fe=G.current[_e];if(Fe){Fe.scrollIntoView();return}Rn(!1,`An internal link leading to page ${Oe} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});dt.useImperativeHandle(e,()=>({linkService:H,pages:G,viewer:_}),[]);function Y(){N&&N()}function rt(){Q&&(Rn(!1,Q.toString()),P&&P(Q))}function M(){tt({type:"RESET"})}dt.useEffect(M,[f,tt]);const pt=dt.useCallback(()=>h2(this,void 0,void 0,function*(){if(!f)return null;if(typeof f=="string")return d0(f)?{data:C_(f)}:(R_(),{url:f});if(f instanceof d2)return{range:f};if(s2(f))return{data:f};if(sm&&a2(f))return{data:yield u2(f)};if(pe(typeof f=="object"),pe(M_(f)),"url"in f&&typeof f.url=="string"){if(d0(f.url)){const{url:Wt}=f,ge=k_(f,["url"]),Oe=C_(Wt);return Object.assign({data:Oe},ge)}R_()}return f}),[f]);dt.useEffect(()=>{const Wt=Tf(pt());return Wt.promise.then(ge=>{tt({type:"RESOLVE",value:ge})}).catch(ge=>{tt({type:"REJECT",error:ge})}),()=>{bo(Wt)}},[pt,tt]),dt.useEffect(()=>{if(!(typeof ot>"u")){if(ot===!1){rt();return}Y()}},[ot]);function xt(){J&&(D&&D(J),G.current=new Array(J.numPages),H.current.setDocument(J))}function ht(){at&&(Rn(!1,at.toString()),E&&E(at))}dt.useEffect(function(){st({type:"RESET"})},[st,ot]),dt.useEffect(function(){if(!ot)return;const ge=I?Object.assign(Object.assign({},ot),I):ot,Oe=TT(ge);T&&(Oe.onProgress=T),C&&(Oe.onPassword=C);const _e=Oe,Fe=_e.promise.then(js=>{st({type:"RESOLVE",value:js})}).catch(js=>{_e.destroyed||st({type:"REJECT",error:js})});return()=>{Fe.finally(()=>_e.destroy())}},[I,st,ot]),dt.useEffect(()=>{if(!(typeof J>"u")){if(J===!1){ht();return}xt()}},[J]),dt.useEffect(function(){H.current.setViewer(_.current),H.current.setExternalLinkRel(u),H.current.setExternalLinkTarget(h)},[u,h]);const Tt=dt.useCallback((Wt,ge)=>{G.current[Wt]=ge},[]),Lt=dt.useCallback(Wt=>{delete G.current[Wt]},[]),de=dt.useMemo(()=>({imageResourcesPath:g,linkService:H.current,onItemClick:A,pdf:J,registerPage:Tt,renderMode:F,rotate:L,unregisterPage:Lt}),[g,A,J,Tt,F,L,Lt]),Xt=dt.useMemo(()=>CT(q,()=>J),[q,J]);function Dn(){return ct.jsx(kT.Provider,{value:de,children:i})}function Xi(){return f?J==null?ct.jsx(Tu,{type:"loading",children:typeof b=="function"?b():b}):J===!1?ct.jsx(Tu,{type:"error",children:typeof o=="function"?o():o}):Dn():ct.jsx(Tu,{type:"no-data",children:typeof v=="function"?v():v})}return ct.jsx("div",Object.assign({className:im("react-pdf__Document",r),ref:p,style:{"--scale-factor":"1"}},Xt,{children:Xi()}))});function LT(){return dt.useContext(kT)}function OT(){for(var a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];var e=a.filter(Boolean);if(e.length<=1){var i=e[0];return i||null}return function(o){e.forEach(function(u){typeof u=="function"?u(o):u&&(u.current=o)})}}const NT=dt.createContext(null),PT={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},g2=/^H(\d+)$/;function m2(a){return a in PT}function am(a){return"children"in a}function zT(a){return am(a)?a.children.length===1&&0 in a.children&&"id"in a.children[0]:!1}function y2(a){const t={};if(am(a)){const{role:e}=a,i=e.match(g2);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if(m2(e)){const r=PT[e];r&&(t.role=r)}}return t}function IT(a){const t={};if(am(a)){if(a.alt!==void 0&&(t["aria-label"]=a.alt),a.lang!==void 0&&(t.lang=a.lang),zT(a)){const[e]=a.children;if(e){const i=IT(e);return Object.assign(Object.assign({},t),i)}}}else"id"in a&&(t["aria-owns"]=a.id);return t}function b2(a){return a?Object.assign(Object.assign({},y2(a)),IT(a)):null}function FT({className:a,node:t}){const e=dt.useMemo(()=>b2(t),[t]),i=dt.useMemo(()=>!am(t)||zT(t)?null:t.children.map((r,o)=>ct.jsx(FT,{node:r},o)),[t]);return ct.jsx("span",Object.assign({className:a},e,{children:i}))}function rm(){return dt.useContext(NT)}function v2(){const a=rm();pe(a);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=a,[i,r]=Cc(),{value:o,error:u}=i,{customTextRenderer:h,page:f}=a;function p(){o&&e&&e(o)}function g(){u&&(Rn(!1,u.toString()),t&&t(u))}return dt.useEffect(function(){r({type:"RESET"})},[r,f]),dt.useEffect(function(){if(h||!f)return;const v=Tf(f.getStructTree()),A=v;return v.promise.then(E=>{r({type:"RESOLVE",value:E})}).catch(E=>{r({type:"REJECT",error:E})}),()=>bo(A)},[h,f,r]),dt.useEffect(()=>{if(o!==void 0){if(o===!1){g();return}p()}},[o]),o?ct.jsx(FT,{className:"react-pdf__Page__structTree structTree",node:o}):null}const D_=xT;function A2(a){const t=rm();pe(t);const e=Object.assign(Object.assign({},t),a),{_className:i,canvasBackground:r,devicePixelRatio:o=r2(),onRenderError:u,onRenderSuccess:h,page:f,renderForms:p,renderTextLayer:g,rotate:b,scale:v}=e,{canvasRef:A}=a;pe(f);const E=dt.useRef(null);function T(){f&&h&&h(f0(f,v))}function D(I){o2(I)||(Rn(!1,I.toString()),u&&u(I))}const C=dt.useMemo(()=>f.getViewport({scale:v*o,rotation:b}),[o,f,b,v]),P=dt.useMemo(()=>f.getViewport({scale:v,rotation:b}),[f,b,v]);dt.useEffect(function(){if(!f)return;f.cleanup();const{current:F}=E;if(!F)return;F.width=C.width,F.height=C.height,F.style.width=`${Math.floor(P.width)}px`,F.style.height=`${Math.floor(P.height)}px`,F.style.visibility="hidden";const L={annotationMode:p?D_.ENABLE_FORMS:D_.ENABLE,canvasContext:F.getContext("2d",{alpha:!1}),viewport:C};r&&(L.background=r);const q=f.render(L),K=q;return q.promise.then(()=>{F.style.visibility="",T()}).catch(D),()=>bo(K)},[r,f,p,C,P]);const N=dt.useCallback(()=>{const{current:I}=E;I&&(I.width=0,I.height=0)},[]);return dt.useEffect(()=>N,[N]),ct.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:OT(A,E),style:{display:"block",userSelect:"none"},children:g?ct.jsx(v2,{}):null})}function S2(a){return"str"in a}function E2(){const a=rm();pe(a);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:i,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:u,pageIndex:h,pageNumber:f,rotate:p,scale:g}=a;pe(u);const[b,v]=Cc(),{value:A,error:E}=b,T=dt.useRef(null);Rn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function D(){A&&i&&i(A)}function C(){E&&(Rn(!1,E.toString()),e&&e(E))}dt.useEffect(function(){v({type:"RESET"})},[u,v]),dt.useEffect(function(){if(!u)return;const K=Tf(u.getTextContent()),tt=K;return K.promise.then(ot=>{v({type:"RESOLVE",value:ot})}).catch(ot=>{v({type:"REJECT",error:ot})}),()=>bo(tt)},[u,v]),dt.useEffect(()=>{if(A!==void 0){if(A===!1){C();return}D()}},[A]);const P=dt.useCallback(()=>{o&&o()},[o]),N=dt.useCallback(q=>{Rn(!1,q.toString()),r&&r(q)},[r]);function I(){const q=T.current;q&&q.classList.add("selecting")}function F(){const q=T.current;q&&q.classList.remove("selecting")}const L=dt.useMemo(()=>u.getViewport({scale:g,rotation:p}),[u,p,g]);return dt.useLayoutEffect(function(){if(!u||!A)return;const{current:K}=T;if(!K)return;K.innerHTML="";const tt=u.streamTextContent({includeMarkedContent:!0}),ot={container:K,textContentSource:tt,viewport:L},Q=new wT(ot),it=Q;return Q.render().then(()=>{const st=document.createElement("div");st.className="endOfContent",K.append(st);const J=K.querySelectorAll('[role="presentation"]');if(t){let at=0;A.items.forEach((H,G)=>{if(!S2(H))return;const et=J[at];if(!et)return;const St=t(Object.assign({pageIndex:h,pageNumber:f,itemIndex:G},H));et.innerHTML=St,at+=H.str&&H.hasEOL?2:1})}P()}).catch(N),()=>bo(it)},[t,N,P,u,h,f,A,L]),ct.jsx("div",{className:im("react-pdf__Page__textContent","textLayer"),onMouseUp:F,onMouseDown:I,ref:T})}function _2(){const a=LT(),t=rm();pe(t);const e=Object.assign(Object.assign({},a),t),{imageResourcesPath:i,linkService:r,onGetAnnotationsError:o,onGetAnnotationsSuccess:u,onRenderAnnotationLayerError:h,onRenderAnnotationLayerSuccess:f,page:p,pdf:g,renderForms:b,rotate:v,scale:A=1}=e;pe(g),pe(p),pe(r);const[E,T]=Cc(),{value:D,error:C}=E,P=dt.useRef(null);Rn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function N(){D&&u&&u(D)}function I(){C&&(Rn(!1,C.toString()),o&&o(C))}dt.useEffect(function(){T({type:"RESET"})},[T,p]),dt.useEffect(function(){if(!p)return;const tt=Tf(p.getAnnotations()),ot=tt;return tt.promise.then(Q=>{T({type:"RESOLVE",value:Q})}).catch(Q=>{T({type:"REJECT",error:Q})}),()=>{bo(ot)}},[T,p]),dt.useEffect(()=>{if(D!==void 0){if(D===!1){I();return}N()}},[D]);function F(){f&&f()}function L(K){Rn(!1,`${K}`),h&&h(K)}const q=dt.useMemo(()=>p.getViewport({scale:A,rotation:v}),[p,v,A]);return dt.useEffect(function(){if(!g||!p||!r||!D)return;const{current:tt}=P;if(!tt)return;const ot=q.clone({dontFlip:!0}),Q={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:tt,l10n:null,page:p,structTreeLayer:null,viewport:ot},it={annotations:D,annotationStorage:g.annotationStorage,div:tt,imageResourcesPath:i,linkService:r,page:p,renderForms:b,viewport:ot};tt.innerHTML="";try{new _T(Q).render(it),F()}catch(st){L(st)}return()=>{}},[D,i,r,p,g,b,q]),ct.jsx("div",{className:im("react-pdf__Page__annotations","annotationLayer"),ref:P})}var x2=function(a,t){var e={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&t.indexOf(i)<0&&(e[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(a);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(a,i[r])&&(e[i[r]]=a[i[r]]);return e};const L_=1;function w2(a){const t=LT(),e=Object.assign(Object.assign({},t),a),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:u,children:h,className:f,customRenderer:p,customTextRenderer:g,devicePixelRatio:b,error:v="Failed to load the page.",height:A,inputRef:E,loading:T="Loading page",noData:D="No page specified.",onGetAnnotationsError:C,onGetAnnotationsSuccess:P,onGetStructTreeError:N,onGetStructTreeSuccess:I,onGetTextError:F,onGetTextSuccess:L,onLoadError:q,onLoadSuccess:K,onRenderAnnotationLayerError:tt,onRenderAnnotationLayerSuccess:ot,onRenderError:Q,onRenderSuccess:it,onRenderTextLayerError:st,onRenderTextLayerSuccess:J,pageIndex:at,pageNumber:H,pdf:G,registerPage:et,renderAnnotationLayer:St=!0,renderForms:_=!1,renderMode:Y="canvas",renderTextLayer:rt=!0,rotate:M,scale:pt=L_,unregisterPage:xt,width:ht}=e,Tt=x2(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Lt,de]=Cc(),{value:Xt,error:Dn}=Lt,Xi=dt.useRef(null);pe(G);const Wt=hl(H)?H-1:at??null,ge=H??(hl(at)?at+1:null),Oe=M??(Xt?Xt.rotate:null),_e=dt.useMemo(()=>{if(!Xt)return null;let lt=1;const vt=pt??L_;if(ht||A){const Et=Xt.getViewport({scale:1,rotation:Oe});ht?lt=ht/Et.width:A&&(lt=A/Et.height)}return vt*lt},[A,Xt,Oe,pt,ht]);dt.useEffect(function(){return()=>{hl(Wt)&&r&&xt&&xt(Wt)}},[r,G,Wt,xt]);function Fe(){if(K){if(!Xt||!_e)return;K(f0(Xt,_e))}if(r&&et){if(!hl(Wt)||!Xi.current)return;et(Wt,Xi.current)}}function js(){Dn&&(Rn(!1,Dn.toString()),q&&q(Dn))}dt.useEffect(function(){de({type:"RESET"})},[de,G,Wt]),dt.useEffect(function(){if(!G||!ge)return;const vt=Tf(G.getPage(ge)),Et=vt;return vt.promise.then(Qt=>{de({type:"RESOLVE",value:Qt})}).catch(Qt=>{de({type:"REJECT",error:Qt})}),()=>bo(Et)},[de,G,ge]),dt.useEffect(()=>{if(Xt!==void 0){if(Xt===!1){js();return}Fe()}},[Xt,_e]);const Xr=dt.useMemo(()=>Xt&&hl(Wt)&&ge&&hl(Oe)&&hl(_e)?{_className:i,canvasBackground:o,customTextRenderer:g,devicePixelRatio:b,onGetAnnotationsError:C,onGetAnnotationsSuccess:P,onGetStructTreeError:N,onGetStructTreeSuccess:I,onGetTextError:F,onGetTextSuccess:L,onRenderAnnotationLayerError:tt,onRenderAnnotationLayerSuccess:ot,onRenderError:Q,onRenderSuccess:it,onRenderTextLayerError:st,onRenderTextLayerSuccess:J,page:Xt,pageIndex:Wt,pageNumber:ge,renderForms:_,renderTextLayer:rt,rotate:Oe,scale:_e}:null,[i,o,g,b,C,P,N,I,F,L,tt,ot,Q,it,st,J,Xt,Wt,ge,_,rt,Oe,_e]),Yr=dt.useMemo(()=>CT(Tt,()=>Xt&&(_e?f0(Xt,_e):void 0)),[Tt,Xt,_e]),Yi=`${Wt}@${_e}/${Oe}`;function Mc(){switch(Y){case"custom":return pe(p),ct.jsx(p,{},`${Yi}_custom`);case"none":return null;case"canvas":default:return ct.jsx(A2,{canvasRef:u},`${Yi}_canvas`)}}function wo(){return rt?ct.jsx(E2,{},`${Yi}_text`):null}function Dc(){return St?ct.jsx(_2,{},`${Yi}_annotations`):null}function Lc(){return ct.jsxs(NT.Provider,{value:Xr,children:[Mc(),wo(),Dc(),h]})}function W(){return ge?G===null||Xt===void 0||Xt===null?ct.jsx(Tu,{type:"loading",children:typeof T=="function"?T():T}):G===!1||Xt===!1?ct.jsx(Tu,{type:"error",children:typeof v=="function"?v():v}):Lc():ct.jsx(Tu,{type:"no-data",children:typeof D=="function"?D():D})}return ct.jsx("div",Object.assign({className:im(i,f),"data-page-number":ge,ref:OT(E,Xi),style:{"--scale-factor":`${_e}`,backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Yr,{children:W()}))}l2();H0.workerSrc="pdf.worker.mjs";const T2="/ollama-rag-book-assistant-ui/assets/iama4-Bp9S0SBv.pdf";function C2({page:a,setPage:t,llmResponse:e,searchText:i,setSearchText:r}){H0.workerSrc=new URL("/ollama-rag-book-assistant-ui/assets/pdf.worker.min-GB3t0DcA.mjs",import.meta.url).toString();const[o,u]=dt.useState(),[h,f]=dt.useState(1);dt.useEffect(()=>{f(a)},[a]);const p=v=>{const A=Math.min(Math.max(v.target.value,1),o);f(A)};function g({numPages:v}){u(v)}const b=dt.useCallback(v=>{const A=new RegExp(i,"gi");return v.str.replace(A,E=>`<mark>${E}</mark>`)},[i]);return ct.jsxs(ct.Fragment,{children:[ct.jsx(p2,{file:T2,onLoadSuccess:g,children:ct.jsx(w2,{pageNumber:a,height:1100,scale:1,renderTextLayer:!0,renderAnnotationLayer:!1,customTextRenderer:b})}),ct.jsxs("div",{children:[" Page ",a," of ",o,"",ct.jsx("div",{className:"d-inline c-point",onClick:()=>t(a>1?a-1:a),children:""}),"",ct.jsx("div",{className:"d-inline c-point",onClick:()=>t(a<o?a+1:a),children:""}),ct.jsxs("div",{className:"d-inline go-to-input",children:["Go to",ct.jsx("input",{type:"number",min:1,max:o,value:h,onChange:p,onKeyDown:()=>{event.key==="Enter"&&t(h)}}),ct.jsx("div",{className:"d-inline c-point",onClick:()=>t(h),children:""})]}),ct.jsxs("div",{className:"d-inline go-to-input",children:["Search in page:",ct.jsx("input",{type:"text",value:i,onChange:v=>r(v.target.value)})]})]})]})}const R2=dt.forwardRef(({timer:a=100},t)=>{const e=["","","","","","","","","","","","","","",""],[i,r]=dt.useState(!1),o=dt.useRef(null);return dt.useImperativeHandle(t,()=>({start:()=>r(!0),stop:()=>{r(!1),o.current.textContent=""}})),dt.useEffect(()=>{let u;if(i){let h=0;u=setInterval(()=>{o.current.textContent=e[h],h+=1,h>=e.length&&(h=0)},a)}else clearInterval(u);return()=>clearInterval(u)},[i,a]),ct.jsx("div",{className:"d-inline",ref:o,children:i?"":""})});function k2({selectedQuestionText:a="",demo:t=!1,setAskedQuestion:e}){const[i,r]=dt.useState("");dt.useEffect(()=>{t&&r(a)},[t,a]);const o=function(h){h.preventDefault(),e(i)},u=function(){return ct.jsx("textarea",{name:"question",className:"question-box",disabled:t,value:t&&a,onChange:h=>r(h.target.value),rows:3,cols:40})};return ct.jsxs("div",{className:"card-inn",children:[ct.jsx(u,{}),ct.jsx("br",{}),ct.jsx("button",{onClick:h=>o(h),children:"Ask"})]})}function M2(a,t){const e={};return(a[a.length-1]===""?[...a,""]:a).join((e.padRight?" ":"")+","+(e.padLeft===!1?"":" ")).trim()}const D2=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,L2=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,O2={};function O_(a,t){return(O2.jsx?L2:D2).test(a)}const N2=/[ \t\n\f\r]/g;function P2(a){return typeof a=="object"?a.type==="text"?N_(a.value):!1:N_(a)}function N_(a){return a.replace(N2,"")===""}class Cf{constructor(t,e,i){this.normal=e,this.property=t,i&&(this.space=i)}}Cf.prototype.normal={};Cf.prototype.property={};Cf.prototype.space=void 0;function HT(a,t){const e={},i={};for(const r of a)Object.assign(e,r.property),Object.assign(i,r.normal);return new Cf(e,i,t)}function p0(a){return a.toLowerCase()}class ei{constructor(t,e){this.attribute=e,this.property=t}}ei.prototype.attribute="";ei.prototype.booleanish=!1;ei.prototype.boolean=!1;ei.prototype.commaOrSpaceSeparated=!1;ei.prototype.commaSeparated=!1;ei.prototype.defined=!1;ei.prototype.mustUseProperty=!1;ei.prototype.number=!1;ei.prototype.overloadedBoolean=!1;ei.prototype.property="";ei.prototype.spaceSeparated=!1;ei.prototype.space=void 0;let z2=0;const zt=xo(),qe=xo(),g0=xo(),ut=xo(),be=xo(),Cu=xo(),di=xo();function xo(){return 2**++z2}const m0=Object.freeze(Object.defineProperty({__proto__:null,boolean:zt,booleanish:qe,commaOrSpaceSeparated:di,commaSeparated:Cu,number:ut,overloadedBoolean:g0,spaceSeparated:be},Symbol.toStringTag,{value:"Module"})),Pb=Object.keys(m0);class B0 extends ei{constructor(t,e,i,r){let o=-1;if(super(t,e),P_(this,"space",r),typeof i=="number")for(;++o<Pb.length;){const u=Pb[o];P_(this,Pb[o],(i&m0[u])===m0[u])}}}B0.prototype.defined=!0;function P_(a,t,e){e&&(a[t]=e)}function Rc(a){const t={},e={};for(const[i,r]of Object.entries(a.properties)){const o=new B0(i,a.transform(a.attributes||{},i),r,a.space);a.mustUseProperty&&a.mustUseProperty.includes(i)&&(o.mustUseProperty=!0),t[i]=o,e[p0(i)]=i,e[p0(o.attribute)]=i}return new Cf(t,e,a.space)}const BT=Rc({properties:{ariaActiveDescendant:null,ariaAtomic:qe,ariaAutoComplete:null,ariaBusy:qe,ariaChecked:qe,ariaColCount:ut,ariaColIndex:ut,ariaColSpan:ut,ariaControls:be,ariaCurrent:null,ariaDescribedBy:be,ariaDetails:null,ariaDisabled:qe,ariaDropEffect:be,ariaErrorMessage:null,ariaExpanded:qe,ariaFlowTo:be,ariaGrabbed:qe,ariaHasPopup:null,ariaHidden:qe,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:be,ariaLevel:ut,ariaLive:null,ariaModal:qe,ariaMultiLine:qe,ariaMultiSelectable:qe,ariaOrientation:null,ariaOwns:be,ariaPlaceholder:null,ariaPosInSet:ut,ariaPressed:qe,ariaReadOnly:qe,ariaRelevant:null,ariaRequired:qe,ariaRoleDescription:be,ariaRowCount:ut,ariaRowIndex:ut,ariaRowSpan:ut,ariaSelected:qe,ariaSetSize:ut,ariaSort:null,ariaValueMax:ut,ariaValueMin:ut,ariaValueNow:ut,ariaValueText:null,role:null},transform(a,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function UT(a,t){return t in a?a[t]:t}function jT(a,t){return UT(a,t.toLowerCase())}const I2=Rc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Cu,acceptCharset:be,accessKey:be,action:null,allow:null,allowFullScreen:zt,allowPaymentRequest:zt,allowUserMedia:zt,alt:null,as:null,async:zt,autoCapitalize:null,autoComplete:be,autoFocus:zt,autoPlay:zt,blocking:be,capture:null,charSet:null,checked:zt,cite:null,className:be,cols:ut,colSpan:null,content:null,contentEditable:qe,controls:zt,controlsList:be,coords:ut|Cu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:zt,defer:zt,dir:null,dirName:null,disabled:zt,download:g0,draggable:qe,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:zt,formTarget:null,headers:be,height:ut,hidden:g0,high:ut,href:null,hrefLang:null,htmlFor:be,httpEquiv:be,id:null,imageSizes:null,imageSrcSet:null,inert:zt,inputMode:null,integrity:null,is:null,isMap:zt,itemId:null,itemProp:be,itemRef:be,itemScope:zt,itemType:be,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:zt,low:ut,manifest:null,max:null,maxLength:ut,media:null,method:null,min:null,minLength:ut,multiple:zt,muted:zt,name:null,nonce:null,noModule:zt,noValidate:zt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:zt,optimum:ut,pattern:null,ping:be,placeholder:null,playsInline:zt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:zt,referrerPolicy:null,rel:be,required:zt,reversed:zt,rows:ut,rowSpan:ut,sandbox:be,scope:null,scoped:zt,seamless:zt,selected:zt,shadowRootClonable:zt,shadowRootDelegatesFocus:zt,shadowRootMode:null,shape:null,size:ut,sizes:null,slot:null,span:ut,spellCheck:qe,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ut,step:null,style:null,tabIndex:ut,target:null,title:null,translate:null,type:null,typeMustMatch:zt,useMap:null,value:qe,width:ut,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:be,axis:null,background:null,bgColor:null,border:ut,borderColor:null,bottomMargin:ut,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:zt,declare:zt,event:null,face:null,frame:null,frameBorder:null,hSpace:ut,leftMargin:ut,link:null,longDesc:null,lowSrc:null,marginHeight:ut,marginWidth:ut,noResize:zt,noHref:zt,noShade:zt,noWrap:zt,object:null,profile:null,prompt:null,rev:null,rightMargin:ut,rules:null,scheme:null,scrolling:qe,standby:null,summary:null,text:null,topMargin:ut,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ut,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:zt,disableRemotePlayback:zt,prefix:null,property:null,results:ut,security:null,unselectable:null},space:"html",transform:jT}),F2=Rc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:di,accentHeight:ut,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ut,amplitude:ut,arabicForm:null,ascent:ut,attributeName:null,attributeType:null,azimuth:ut,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ut,by:null,calcMode:null,capHeight:ut,className:be,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ut,diffuseConstant:ut,direction:null,display:null,dur:null,divisor:ut,dominantBaseline:null,download:zt,dx:null,dy:null,edgeMode:null,editable:null,elevation:ut,enableBackground:null,end:null,event:null,exponent:ut,externalResourcesRequired:null,fill:null,fillOpacity:ut,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Cu,g2:Cu,glyphName:Cu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ut,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ut,horizOriginX:ut,horizOriginY:ut,id:null,ideographic:ut,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ut,k:ut,k1:ut,k2:ut,k3:ut,k4:ut,kernelMatrix:di,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ut,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ut,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ut,overlineThickness:ut,paintOrder:null,panose1:null,path:null,pathLength:ut,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:be,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ut,pointsAtY:ut,pointsAtZ:ut,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:di,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:di,rev:di,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:di,requiredFeatures:di,requiredFonts:di,requiredFormats:di,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ut,specularExponent:ut,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ut,strikethroughThickness:ut,string:null,stroke:null,strokeDashArray:di,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ut,strokeOpacity:ut,strokeWidth:null,style:null,surfaceScale:ut,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:di,tabIndex:ut,tableValues:null,target:null,targetX:ut,targetY:ut,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:di,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ut,underlineThickness:ut,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ut,values:null,vAlphabetic:ut,vMathematical:ut,vectorEffect:null,vHanging:ut,vIdeographic:ut,version:null,vertAdvY:ut,vertOriginX:ut,vertOriginY:ut,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ut,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:UT}),qT=Rc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(a,t){return"xlink:"+t.slice(5).toLowerCase()}}),GT=Rc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:jT}),VT=Rc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(a,t){return"xml:"+t.slice(3).toLowerCase()}}),H2={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},B2=/[A-Z]/g,z_=/-[a-z]/g,U2=/^data[-\w.:]+$/i;function j2(a,t){const e=p0(t);let i=t,r=ei;if(e in a.normal)return a.property[a.normal[e]];if(e.length>4&&e.slice(0,4)==="data"&&U2.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(z_,G2);i="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!z_.test(o)){let u=o.replace(B2,q2);u.charAt(0)!=="-"&&(u="-"+u),t="data"+u}}r=B0}return new r(i,t)}function q2(a){return"-"+a.toLowerCase()}function G2(a){return a.charAt(1).toUpperCase()}const V2=HT([BT,I2,qT,GT,VT],"html"),U0=HT([BT,F2,qT,GT,VT],"svg");function X2(a){return a.join(" ").trim()}var du={},zb,I_;function Y2(){if(I_)return zb;I_=1;var a=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,e=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,h=/^\s+|\s+$/g,f=`
`,p="/",g="*",b="",v="comment",A="declaration";zb=function(T,D){if(typeof T!="string")throw new TypeError("First argument must be a string");if(!T)return[];D=D||{};var C=1,P=1;function N(st){var J=st.match(t);J&&(C+=J.length);var at=st.lastIndexOf(f);P=~at?st.length-at:P+st.length}function I(){var st={line:C,column:P};return function(J){return J.position=new F(st),K(),J}}function F(st){this.start=st,this.end={line:C,column:P},this.source=D.source}F.prototype.content=T;function L(st){var J=new Error(D.source+":"+C+":"+P+": "+st);if(J.reason=st,J.filename=D.source,J.line=C,J.column=P,J.source=T,!D.silent)throw J}function q(st){var J=st.exec(T);if(J){var at=J[0];return N(at),T=T.slice(at.length),J}}function K(){q(e)}function tt(st){var J;for(st=st||[];J=ot();)J!==!1&&st.push(J);return st}function ot(){var st=I();if(!(p!=T.charAt(0)||g!=T.charAt(1))){for(var J=2;b!=T.charAt(J)&&(g!=T.charAt(J)||p!=T.charAt(J+1));)++J;if(J+=2,b===T.charAt(J-1))return L("End of comment missing");var at=T.slice(2,J-2);return P+=2,N(at),T=T.slice(J),P+=2,st({type:v,comment:at})}}function Q(){var st=I(),J=q(i);if(J){if(ot(),!q(r))return L("property missing ':'");var at=q(o),H=st({type:A,property:E(J[0].replace(a,b)),value:at?E(at[0].replace(a,b)):b});return q(u),H}}function it(){var st=[];tt(st);for(var J;J=Q();)J!==!1&&(st.push(J),tt(st));return st}return K(),it()};function E(T){return T?T.replace(h,b):b}return zb}var F_;function K2(){if(F_)return du;F_=1;var a=du&&du.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(du,"__esModule",{value:!0}),du.default=e;var t=a(Y2());function e(i,r){var o=null;if(!i||typeof i!="string")return o;var u=(0,t.default)(i),h=typeof r=="function";return u.forEach(function(f){if(f.type==="declaration"){var p=f.property,g=f.value;h?r(p,g,f):g&&(o=o||{},o[p]=g)}}),o}return du}var Oh={},H_;function Q2(){if(H_)return Oh;H_=1,Object.defineProperty(Oh,"__esModule",{value:!0}),Oh.camelCase=void 0;var a=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,e=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,o=function(p){return!p||e.test(p)||a.test(p)},u=function(p,g){return g.toUpperCase()},h=function(p,g){return"".concat(g,"-")},f=function(p,g){return g===void 0&&(g={}),o(p)?p:(p=p.toLowerCase(),g.reactCompat?p=p.replace(r,h):p=p.replace(i,h),p.replace(t,u))};return Oh.camelCase=f,Oh}var Nh,B_;function W2(){if(B_)return Nh;B_=1;var a=Nh&&Nh.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},t=a(K2()),e=Q2();function i(r,o){var u={};return!r||typeof r!="string"||(0,t.default)(r,function(h,f){h&&f&&(u[(0,e.camelCase)(h,o)]=f)}),u}return i.default=i,Nh=i,Nh}var $2=W2();const Z2=x0($2),XT=YT("end"),j0=YT("start");function YT(a){return t;function t(e){const i=e&&e.position&&e.position[a]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function J2(a){const t=j0(a),e=XT(a);if(t&&e)return{start:t,end:e}}function ed(a){return!a||typeof a!="object"?"":"position"in a||"type"in a?U_(a.position):"start"in a||"end"in a?U_(a):"line"in a||"column"in a?y0(a):""}function y0(a){return j_(a&&a.line)+":"+j_(a&&a.column)}function U_(a){return y0(a&&a.start)+"-"+y0(a&&a.end)}function j_(a){return a&&typeof a=="number"?a:1}class Mn extends Error{constructor(t,e,i){super(),typeof e=="string"&&(i=e,e=void 0);let r="",o={},u=!1;if(e&&("line"in e&&"column"in e?o={place:e}:"start"in e&&"end"in e?o={place:e}:"type"in e?o={ancestors:[e],place:e.position}:o={...e}),typeof t=="string"?r=t:!o.cause&&t&&(u=!0,r=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof i=="string"){const f=i.indexOf(":");f===-1?o.ruleId=i:(o.source=i.slice(0,f),o.ruleId=i.slice(f+1))}if(!o.place&&o.ancestors&&o.ancestors){const f=o.ancestors[o.ancestors.length-1];f&&(o.place=f.position)}const h=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=h?h.line:void 0,this.name=ed(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}Mn.prototype.file="";Mn.prototype.name="";Mn.prototype.reason="";Mn.prototype.message="";Mn.prototype.stack="";Mn.prototype.column=void 0;Mn.prototype.line=void 0;Mn.prototype.ancestors=void 0;Mn.prototype.cause=void 0;Mn.prototype.fatal=void 0;Mn.prototype.place=void 0;Mn.prototype.ruleId=void 0;Mn.prototype.source=void 0;const q0={}.hasOwnProperty,tO=new Map,eO=/[A-Z]/g,nO=new Set(["table","tbody","thead","tfoot","tr"]),iO=new Set(["td","th"]),KT="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function sO(a,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const e=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=dO(e,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=hO(e,t.jsx,t.jsxs)}const r={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:e,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?U0:V2,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=QT(r,a,void 0);return o&&typeof o!="string"?o:r.create(a,r.Fragment,{children:o||void 0},void 0)}function QT(a,t,e){if(t.type==="element")return aO(a,t,e);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return rO(a,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return oO(a,t,e);if(t.type==="mdxjsEsm")return lO(a,t);if(t.type==="root")return uO(a,t,e);if(t.type==="text")return cO(a,t)}function aO(a,t,e){const i=a.schema;let r=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=U0,a.schema=r),a.ancestors.push(t);const o=$T(a,t.tagName,!1),u=fO(a,t);let h=V0(a,t);return nO.has(t.tagName)&&(h=h.filter(function(f){return typeof f=="string"?!P2(f):!0})),WT(a,u,o,t),G0(u,h),a.ancestors.pop(),a.schema=i,a.create(t,o,u,e)}function rO(a,t){if(t.data&&t.data.estree&&a.evaluater){const i=t.data.estree.body[0];return i.type,a.evaluater.evaluateExpression(i.expression)}rd(a,t.position)}function lO(a,t){if(t.data&&t.data.estree&&a.evaluater)return a.evaluater.evaluateProgram(t.data.estree);rd(a,t.position)}function oO(a,t,e){const i=a.schema;let r=i;t.name==="svg"&&i.space==="html"&&(r=U0,a.schema=r),a.ancestors.push(t);const o=t.name===null?a.Fragment:$T(a,t.name,!0),u=pO(a,t),h=V0(a,t);return WT(a,u,o,t),G0(u,h),a.ancestors.pop(),a.schema=i,a.create(t,o,u,e)}function uO(a,t,e){const i={};return G0(i,V0(a,t)),a.create(t,a.Fragment,i,e)}function cO(a,t){return t.value}function WT(a,t,e,i){typeof e!="string"&&e!==a.Fragment&&a.passNode&&(t.node=i)}function G0(a,t){if(t.length>0){const e=t.length>1?t:t[0];e&&(a.children=e)}}function hO(a,t,e){return i;function i(r,o,u,h){const p=Array.isArray(u.children)?e:t;return h?p(o,u,h):p(o,u)}}function dO(a,t){return e;function e(i,r,o,u){const h=Array.isArray(o.children),f=j0(i);return t(r,o,u,h,{columnNumber:f?f.column-1:void 0,fileName:a,lineNumber:f?f.line:void 0},void 0)}}function fO(a,t){const e={};let i,r;for(r in t.properties)if(r!=="children"&&q0.call(t.properties,r)){const o=gO(a,r,t.properties[r]);if(o){const[u,h]=o;a.tableCellAlignToStyle&&u==="align"&&typeof h=="string"&&iO.has(t.tagName)?i=h:e[u]=h}}if(i){const o=e.style||(e.style={});o[a.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return e}function pO(a,t){const e={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&a.evaluater){const o=i.data.estree.body[0];o.type;const u=o.expression;u.type;const h=u.properties[0];h.type,Object.assign(e,a.evaluater.evaluateExpression(h.argument))}else rd(a,t.position);else{const r=i.name;let o;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&a.evaluater){const h=i.value.data.estree.body[0];h.type,o=a.evaluater.evaluateExpression(h.expression)}else rd(a,t.position);else o=i.value===null?!0:i.value;e[r]=o}return e}function V0(a,t){const e=[];let i=-1;const r=a.passKeys?new Map:tO;for(;++i<t.children.length;){const o=t.children[i];let u;if(a.passKeys){const f=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(f){const p=r.get(f)||0;u=f+"-"+p,r.set(f,p+1)}}const h=QT(a,o,u);h!==void 0&&e.push(h)}return e}function gO(a,t,e){const i=j2(a.schema,t);if(!(e==null||typeof e=="number"&&Number.isNaN(e))){if(Array.isArray(e)&&(e=i.commaSeparated?M2(e):X2(e)),i.property==="style"){let r=typeof e=="object"?e:mO(a,String(e));return a.stylePropertyNameCase==="css"&&(r=yO(r)),["style",r]}return[a.elementAttributeNameCase==="react"&&i.space?H2[i.property]||i.property:i.attribute,e]}}function mO(a,t){try{return Z2(t,{reactCompat:!0})}catch(e){if(a.ignoreInvalidStyle)return{};const i=e,r=new Mn("Cannot parse `style` attribute",{ancestors:a.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=a.filePath||void 0,r.url=KT+"#cannot-parse-style-attribute",r}}function $T(a,t,e){let i;if(!e)i={type:"Literal",value:t};else if(t.includes(".")){const r=t.split(".");let o=-1,u;for(;++o<r.length;){const h=O_(r[o])?{type:"Identifier",name:r[o]}:{type:"Literal",value:r[o]};u=u?{type:"MemberExpression",object:u,property:h,computed:!!(o&&h.type==="Literal"),optional:!1}:h}i=u}else i=O_(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const r=i.value;return q0.call(a.components,r)?a.components[r]:r}if(a.evaluater)return a.evaluater.evaluateExpression(i);rd(a)}function rd(a,t){const e=new Mn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:a.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw e.file=a.filePath||void 0,e.url=KT+"#cannot-handle-mdx-estrees-without-createevaluater",e}function yO(a){const t={};let e;for(e in a)q0.call(a,e)&&(t[bO(e)]=a[e]);return t}function bO(a){let t=a.replace(eO,vO);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function vO(a){return"-"+a.toLowerCase()}const Ib={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},AO={};function SO(a,t){const e=AO,i=typeof e.includeImageAlt=="boolean"?e.includeImageAlt:!0,r=typeof e.includeHtml=="boolean"?e.includeHtml:!0;return ZT(a,i,r)}function ZT(a,t,e){if(EO(a)){if("value"in a)return a.type==="html"&&!e?"":a.value;if(t&&"alt"in a&&a.alt)return a.alt;if("children"in a)return q_(a.children,t,e)}return Array.isArray(a)?q_(a,t,e):""}function q_(a,t,e){const i=[];let r=-1;for(;++r<a.length;)i[r]=ZT(a[r],t,e);return i.join("")}function EO(a){return!!(a&&typeof a=="object")}const G_=document.createElement("i");function X0(a){const t="&"+a+";";G_.innerHTML=t;const e=G_.textContent;return e.charCodeAt(e.length-1)===59&&a!=="semi"||e===t?!1:e}function Us(a,t,e,i){const r=a.length;let o=0,u;if(t<0?t=-t>r?0:r+t:t=t>r?r:t,e=e>0?e:0,i.length<1e4)u=Array.from(i),u.unshift(t,e),a.splice(...u);else for(e&&a.splice(t,e);o<i.length;)u=i.slice(o,o+1e4),u.unshift(t,0),a.splice(...u),o+=1e4,t+=1e4}function Ui(a,t){return a.length>0?(Us(a,a.length,0,t),a):t}const V_={}.hasOwnProperty;function _O(a){const t={};let e=-1;for(;++e<a.length;)xO(t,a[e]);return t}function xO(a,t){let e;for(e in t){const r=(V_.call(a,e)?a[e]:void 0)||(a[e]={}),o=t[e];let u;if(o)for(u in o){V_.call(r,u)||(r[u]=[]);const h=o[u];wO(r[u],Array.isArray(h)?h:h?[h]:[])}}}function wO(a,t){let e=-1;const i=[];for(;++e<t.length;)(t[e].add==="after"?a:i).push(t[e]);Us(a,0,0,i)}function JT(a,t){const e=Number.parseInt(a,t);return e<9||e===11||e>13&&e<32||e>126&&e<160||e>55295&&e<57344||e>64975&&e<65008||(e&65535)===65535||(e&65535)===65534||e>1114111?"":String.fromCodePoint(e)}function Ru(a){return a.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Bs=Vr(/[A-Za-z]/),_i=Vr(/[\dA-Za-z]/),TO=Vr(/[#-'*+\--9=?A-Z^-~]/);function b0(a){return a!==null&&(a<32||a===127)}const v0=Vr(/\d/),CO=Vr(/[\dA-Fa-f]/),RO=Vr(/[!-/:-@[-`{-~]/);function kt(a){return a!==null&&a<-2}function ti(a){return a!==null&&(a<0||a===32)}function te(a){return a===-2||a===-1||a===32}const kO=Vr(new RegExp("\\p{P}|\\p{S}","u")),MO=Vr(/\s/);function Vr(a){return t;function t(e){return e!==null&&e>-1&&a.test(String.fromCharCode(e))}}function kc(a){const t=[];let e=-1,i=0,r=0;for(;++e<a.length;){const o=a.charCodeAt(e);let u="";if(o===37&&_i(a.charCodeAt(e+1))&&_i(a.charCodeAt(e+2)))r=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const h=a.charCodeAt(e+1);o<56320&&h>56319&&h<57344?(u=String.fromCharCode(o,h),r=1):u=""}else u=String.fromCharCode(o);u&&(t.push(a.slice(i,e),encodeURIComponent(u)),i=e+r+1,u=""),r&&(e+=r,r=0)}return t.join("")+a.slice(i)}function ve(a,t,e,i){const r=i?i-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(f){return te(f)?(a.enter(e),h(f)):t(f)}function h(f){return te(f)&&o++<r?(a.consume(f),h):(a.exit(e),t(f))}}const DO={tokenize:LO};function LO(a){const t=a.attempt(this.parser.constructs.contentInitial,i,r);let e;return t;function i(h){if(h===null){a.consume(h);return}return a.enter("lineEnding"),a.consume(h),a.exit("lineEnding"),ve(a,t,"linePrefix")}function r(h){return a.enter("paragraph"),o(h)}function o(h){const f=a.enter("chunkText",{contentType:"text",previous:e});return e&&(e.next=f),e=f,u(h)}function u(h){if(h===null){a.exit("chunkText"),a.exit("paragraph"),a.consume(h);return}return kt(h)?(a.consume(h),a.exit("chunkText"),o):(a.consume(h),u)}}const OO={tokenize:NO},X_={tokenize:PO};function NO(a){const t=this,e=[];let i=0,r,o,u;return h;function h(N){if(i<e.length){const I=e[i];return t.containerState=I[1],a.attempt(I[0].continuation,f,p)(N)}return p(N)}function f(N){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&P();const I=t.events.length;let F=I,L;for(;F--;)if(t.events[F][0]==="exit"&&t.events[F][1].type==="chunkFlow"){L=t.events[F][1].end;break}C(i);let q=I;for(;q<t.events.length;)t.events[q][1].end={...L},q++;return Us(t.events,F+1,0,t.events.slice(I)),t.events.length=q,p(N)}return h(N)}function p(N){if(i===e.length){if(!r)return v(N);if(r.currentConstruct&&r.currentConstruct.concrete)return E(N);t.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},a.check(X_,g,b)(N)}function g(N){return r&&P(),C(i),v(N)}function b(N){return t.parser.lazy[t.now().line]=i!==e.length,u=t.now().offset,E(N)}function v(N){return t.containerState={},a.attempt(X_,A,E)(N)}function A(N){return i++,e.push([t.currentConstruct,t.containerState]),v(N)}function E(N){if(N===null){r&&P(),C(0),a.consume(N);return}return r=r||t.parser.flow(t.now()),a.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:o}),T(N)}function T(N){if(N===null){D(a.exit("chunkFlow"),!0),C(0),a.consume(N);return}return kt(N)?(a.consume(N),D(a.exit("chunkFlow")),i=0,t.interrupt=void 0,h):(a.consume(N),T)}function D(N,I){const F=t.sliceStream(N);if(I&&F.push(null),N.previous=o,o&&(o.next=N),o=N,r.defineSkip(N.start),r.write(F),t.parser.lazy[N.start.line]){let L=r.events.length;for(;L--;)if(r.events[L][1].start.offset<u&&(!r.events[L][1].end||r.events[L][1].end.offset>u))return;const q=t.events.length;let K=q,tt,ot;for(;K--;)if(t.events[K][0]==="exit"&&t.events[K][1].type==="chunkFlow"){if(tt){ot=t.events[K][1].end;break}tt=!0}for(C(i),L=q;L<t.events.length;)t.events[L][1].end={...ot},L++;Us(t.events,K+1,0,t.events.slice(q)),t.events.length=L}}function C(N){let I=e.length;for(;I-- >N;){const F=e[I];t.containerState=F[1],F[0].exit.call(t,a)}e.length=N}function P(){r.write([null]),o=void 0,r=void 0,t.containerState._closeFlow=void 0}}function PO(a,t,e){return ve(a,a.attempt(this.parser.constructs.document,t,e),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Y_(a){if(a===null||ti(a)||MO(a))return 1;if(kO(a))return 2}function Y0(a,t,e){const i=[];let r=-1;for(;++r<a.length;){const o=a[r].resolveAll;o&&!i.includes(o)&&(t=o(t,e),i.push(o))}return t}const A0={name:"attention",resolveAll:zO,tokenize:IO};function zO(a,t){let e=-1,i,r,o,u,h,f,p,g;for(;++e<a.length;)if(a[e][0]==="enter"&&a[e][1].type==="attentionSequence"&&a[e][1]._close){for(i=e;i--;)if(a[i][0]==="exit"&&a[i][1].type==="attentionSequence"&&a[i][1]._open&&t.sliceSerialize(a[i][1]).charCodeAt(0)===t.sliceSerialize(a[e][1]).charCodeAt(0)){if((a[i][1]._close||a[e][1]._open)&&(a[e][1].end.offset-a[e][1].start.offset)%3&&!((a[i][1].end.offset-a[i][1].start.offset+a[e][1].end.offset-a[e][1].start.offset)%3))continue;f=a[i][1].end.offset-a[i][1].start.offset>1&&a[e][1].end.offset-a[e][1].start.offset>1?2:1;const b={...a[i][1].end},v={...a[e][1].start};K_(b,-f),K_(v,f),u={type:f>1?"strongSequence":"emphasisSequence",start:b,end:{...a[i][1].end}},h={type:f>1?"strongSequence":"emphasisSequence",start:{...a[e][1].start},end:v},o={type:f>1?"strongText":"emphasisText",start:{...a[i][1].end},end:{...a[e][1].start}},r={type:f>1?"strong":"emphasis",start:{...u.start},end:{...h.end}},a[i][1].end={...u.start},a[e][1].start={...h.end},p=[],a[i][1].end.offset-a[i][1].start.offset&&(p=Ui(p,[["enter",a[i][1],t],["exit",a[i][1],t]])),p=Ui(p,[["enter",r,t],["enter",u,t],["exit",u,t],["enter",o,t]]),p=Ui(p,Y0(t.parser.constructs.insideSpan.null,a.slice(i+1,e),t)),p=Ui(p,[["exit",o,t],["enter",h,t],["exit",h,t],["exit",r,t]]),a[e][1].end.offset-a[e][1].start.offset?(g=2,p=Ui(p,[["enter",a[e][1],t],["exit",a[e][1],t]])):g=0,Us(a,i-1,e-i+3,p),e=i+p.length-g-2;break}}for(e=-1;++e<a.length;)a[e][1].type==="attentionSequence"&&(a[e][1].type="data");return a}function IO(a,t){const e=this.parser.constructs.attentionMarkers.null,i=this.previous,r=Y_(i);let o;return u;function u(f){return o=f,a.enter("attentionSequence"),h(f)}function h(f){if(f===o)return a.consume(f),h;const p=a.exit("attentionSequence"),g=Y_(f),b=!g||g===2&&r||e.includes(f),v=!r||r===2&&g||e.includes(i);return p._open=!!(o===42?b:b&&(r||!v)),p._close=!!(o===42?v:v&&(g||!b)),t(f)}}function K_(a,t){a.column+=t,a.offset+=t,a._bufferIndex+=t}const FO={name:"autolink",tokenize:HO};function HO(a,t,e){let i=0;return r;function r(A){return a.enter("autolink"),a.enter("autolinkMarker"),a.consume(A),a.exit("autolinkMarker"),a.enter("autolinkProtocol"),o}function o(A){return Bs(A)?(a.consume(A),u):A===64?e(A):p(A)}function u(A){return A===43||A===45||A===46||_i(A)?(i=1,h(A)):p(A)}function h(A){return A===58?(a.consume(A),i=0,f):(A===43||A===45||A===46||_i(A))&&i++<32?(a.consume(A),h):(i=0,p(A))}function f(A){return A===62?(a.exit("autolinkProtocol"),a.enter("autolinkMarker"),a.consume(A),a.exit("autolinkMarker"),a.exit("autolink"),t):A===null||A===32||A===60||b0(A)?e(A):(a.consume(A),f)}function p(A){return A===64?(a.consume(A),g):TO(A)?(a.consume(A),p):e(A)}function g(A){return _i(A)?b(A):e(A)}function b(A){return A===46?(a.consume(A),i=0,g):A===62?(a.exit("autolinkProtocol").type="autolinkEmail",a.enter("autolinkMarker"),a.consume(A),a.exit("autolinkMarker"),a.exit("autolink"),t):v(A)}function v(A){if((A===45||_i(A))&&i++<63){const E=A===45?v:b;return a.consume(A),E}return e(A)}}const lm={partial:!0,tokenize:BO};function BO(a,t,e){return i;function i(o){return te(o)?ve(a,r,"linePrefix")(o):r(o)}function r(o){return o===null||kt(o)?t(o):e(o)}}const tC={continuation:{tokenize:jO},exit:qO,name:"blockQuote",tokenize:UO};function UO(a,t,e){const i=this;return r;function r(u){if(u===62){const h=i.containerState;return h.open||(a.enter("blockQuote",{_container:!0}),h.open=!0),a.enter("blockQuotePrefix"),a.enter("blockQuoteMarker"),a.consume(u),a.exit("blockQuoteMarker"),o}return e(u)}function o(u){return te(u)?(a.enter("blockQuotePrefixWhitespace"),a.consume(u),a.exit("blockQuotePrefixWhitespace"),a.exit("blockQuotePrefix"),t):(a.exit("blockQuotePrefix"),t(u))}}function jO(a,t,e){const i=this;return r;function r(u){return te(u)?ve(a,o,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return a.attempt(tC,t,e)(u)}}function qO(a){a.exit("blockQuote")}const eC={name:"characterEscape",tokenize:GO};function GO(a,t,e){return i;function i(o){return a.enter("characterEscape"),a.enter("escapeMarker"),a.consume(o),a.exit("escapeMarker"),r}function r(o){return RO(o)?(a.enter("characterEscapeValue"),a.consume(o),a.exit("characterEscapeValue"),a.exit("characterEscape"),t):e(o)}}const nC={name:"characterReference",tokenize:VO};function VO(a,t,e){const i=this;let r=0,o,u;return h;function h(b){return a.enter("characterReference"),a.enter("characterReferenceMarker"),a.consume(b),a.exit("characterReferenceMarker"),f}function f(b){return b===35?(a.enter("characterReferenceMarkerNumeric"),a.consume(b),a.exit("characterReferenceMarkerNumeric"),p):(a.enter("characterReferenceValue"),o=31,u=_i,g(b))}function p(b){return b===88||b===120?(a.enter("characterReferenceMarkerHexadecimal"),a.consume(b),a.exit("characterReferenceMarkerHexadecimal"),a.enter("characterReferenceValue"),o=6,u=CO,g):(a.enter("characterReferenceValue"),o=7,u=v0,g(b))}function g(b){if(b===59&&r){const v=a.exit("characterReferenceValue");return u===_i&&!X0(i.sliceSerialize(v))?e(b):(a.enter("characterReferenceMarker"),a.consume(b),a.exit("characterReferenceMarker"),a.exit("characterReference"),t)}return u(b)&&r++<o?(a.consume(b),g):e(b)}}const Q_={partial:!0,tokenize:YO},W_={concrete:!0,name:"codeFenced",tokenize:XO};function XO(a,t,e){const i=this,r={partial:!0,tokenize:F};let o=0,u=0,h;return f;function f(L){return p(L)}function p(L){const q=i.events[i.events.length-1];return o=q&&q[1].type==="linePrefix"?q[2].sliceSerialize(q[1],!0).length:0,h=L,a.enter("codeFenced"),a.enter("codeFencedFence"),a.enter("codeFencedFenceSequence"),g(L)}function g(L){return L===h?(u++,a.consume(L),g):u<3?e(L):(a.exit("codeFencedFenceSequence"),te(L)?ve(a,b,"whitespace")(L):b(L))}function b(L){return L===null||kt(L)?(a.exit("codeFencedFence"),i.interrupt?t(L):a.check(Q_,T,I)(L)):(a.enter("codeFencedFenceInfo"),a.enter("chunkString",{contentType:"string"}),v(L))}function v(L){return L===null||kt(L)?(a.exit("chunkString"),a.exit("codeFencedFenceInfo"),b(L)):te(L)?(a.exit("chunkString"),a.exit("codeFencedFenceInfo"),ve(a,A,"whitespace")(L)):L===96&&L===h?e(L):(a.consume(L),v)}function A(L){return L===null||kt(L)?b(L):(a.enter("codeFencedFenceMeta"),a.enter("chunkString",{contentType:"string"}),E(L))}function E(L){return L===null||kt(L)?(a.exit("chunkString"),a.exit("codeFencedFenceMeta"),b(L)):L===96&&L===h?e(L):(a.consume(L),E)}function T(L){return a.attempt(r,I,D)(L)}function D(L){return a.enter("lineEnding"),a.consume(L),a.exit("lineEnding"),C}function C(L){return o>0&&te(L)?ve(a,P,"linePrefix",o+1)(L):P(L)}function P(L){return L===null||kt(L)?a.check(Q_,T,I)(L):(a.enter("codeFlowValue"),N(L))}function N(L){return L===null||kt(L)?(a.exit("codeFlowValue"),P(L)):(a.consume(L),N)}function I(L){return a.exit("codeFenced"),t(L)}function F(L,q,K){let tt=0;return ot;function ot(at){return L.enter("lineEnding"),L.consume(at),L.exit("lineEnding"),Q}function Q(at){return L.enter("codeFencedFence"),te(at)?ve(L,it,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(at):it(at)}function it(at){return at===h?(L.enter("codeFencedFenceSequence"),st(at)):K(at)}function st(at){return at===h?(tt++,L.consume(at),st):tt>=u?(L.exit("codeFencedFenceSequence"),te(at)?ve(L,J,"whitespace")(at):J(at)):K(at)}function J(at){return at===null||kt(at)?(L.exit("codeFencedFence"),q(at)):K(at)}}}function YO(a,t,e){const i=this;return r;function r(u){return u===null?e(u):(a.enter("lineEnding"),a.consume(u),a.exit("lineEnding"),o)}function o(u){return i.parser.lazy[i.now().line]?e(u):t(u)}}const Fb={name:"codeIndented",tokenize:QO},KO={partial:!0,tokenize:WO};function QO(a,t,e){const i=this;return r;function r(p){return a.enter("codeIndented"),ve(a,o,"linePrefix",5)(p)}function o(p){const g=i.events[i.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?u(p):e(p)}function u(p){return p===null?f(p):kt(p)?a.attempt(KO,u,f)(p):(a.enter("codeFlowValue"),h(p))}function h(p){return p===null||kt(p)?(a.exit("codeFlowValue"),u(p)):(a.consume(p),h)}function f(p){return a.exit("codeIndented"),t(p)}}function WO(a,t,e){const i=this;return r;function r(u){return i.parser.lazy[i.now().line]?e(u):kt(u)?(a.enter("lineEnding"),a.consume(u),a.exit("lineEnding"),r):ve(a,o,"linePrefix",5)(u)}function o(u){const h=i.events[i.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?t(u):kt(u)?r(u):e(u)}}const $O={name:"codeText",previous:JO,resolve:ZO,tokenize:tN};function ZO(a){let t=a.length-4,e=3,i,r;if((a[e][1].type==="lineEnding"||a[e][1].type==="space")&&(a[t][1].type==="lineEnding"||a[t][1].type==="space")){for(i=e;++i<t;)if(a[i][1].type==="codeTextData"){a[e][1].type="codeTextPadding",a[t][1].type="codeTextPadding",e+=2,t-=2;break}}for(i=e-1,t++;++i<=t;)r===void 0?i!==t&&a[i][1].type!=="lineEnding"&&(r=i):(i===t||a[i][1].type==="lineEnding")&&(a[r][1].type="codeTextData",i!==r+2&&(a[r][1].end=a[i-1][1].end,a.splice(r+2,i-r-2),t-=i-r-2,i=r+2),r=void 0);return a}function JO(a){return a!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tN(a,t,e){let i=0,r,o;return u;function u(b){return a.enter("codeText"),a.enter("codeTextSequence"),h(b)}function h(b){return b===96?(a.consume(b),i++,h):(a.exit("codeTextSequence"),f(b))}function f(b){return b===null?e(b):b===32?(a.enter("space"),a.consume(b),a.exit("space"),f):b===96?(o=a.enter("codeTextSequence"),r=0,g(b)):kt(b)?(a.enter("lineEnding"),a.consume(b),a.exit("lineEnding"),f):(a.enter("codeTextData"),p(b))}function p(b){return b===null||b===32||b===96||kt(b)?(a.exit("codeTextData"),f(b)):(a.consume(b),p)}function g(b){return b===96?(a.consume(b),r++,g):r===i?(a.exit("codeTextSequence"),a.exit("codeText"),t(b)):(o.type="codeTextData",p(b))}}class eN{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,e){const i=e??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,e,i){const r=e||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&Ph(this.left,i),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ph(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ph(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const e=this.left.splice(t,Number.POSITIVE_INFINITY);Ph(this.right,e.reverse())}else{const e=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ph(this.left,e.reverse())}}}function Ph(a,t){let e=0;if(t.length<1e4)a.push(...t);else for(;e<t.length;)a.push(...t.slice(e,e+1e4)),e+=1e4}function iC(a){const t={};let e=-1,i,r,o,u,h,f,p;const g=new eN(a);for(;++e<g.length;){for(;e in t;)e=t[e];if(i=g.get(e),e&&i[1].type==="chunkFlow"&&g.get(e-1)[1].type==="listItemPrefix"&&(f=i[1]._tokenizer.events,o=0,o<f.length&&f[o][1].type==="lineEndingBlank"&&(o+=2),o<f.length&&f[o][1].type==="content"))for(;++o<f.length&&f[o][1].type!=="content";)f[o][1].type==="chunkText"&&(f[o][1]._isInFirstContentOfListItem=!0,o++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,nN(g,e)),e=t[e],p=!0);else if(i[1]._container){for(o=e,r=void 0;o--;)if(u=g.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(r&&(g.get(r)[1].type="lineEndingBlank"),u[1].type="lineEnding",r=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;r&&(i[1].end={...g.get(r)[1].start},h=g.slice(r,e),h.unshift(i),g.splice(r,e-r+1,h))}}return Us(a,0,Number.POSITIVE_INFINITY,g.slice(0)),!p}function nN(a,t){const e=a.get(t)[1],i=a.get(t)[2];let r=t-1;const o=[];let u=e._tokenizer;u||(u=i.parser[e.contentType](e.start),e._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const h=u.events,f=[],p={};let g,b,v=-1,A=e,E=0,T=0;const D=[T];for(;A;){for(;a.get(++r)[1]!==A;);o.push(r),A._tokenizer||(g=i.sliceStream(A),A.next||g.push(null),b&&u.defineSkip(A.start),A._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(g),A._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),b=A,A=A.next}for(A=e;++v<h.length;)h[v][0]==="exit"&&h[v-1][0]==="enter"&&h[v][1].type===h[v-1][1].type&&h[v][1].start.line!==h[v][1].end.line&&(T=v+1,D.push(T),A._tokenizer=void 0,A.previous=void 0,A=A.next);for(u.events=[],A?(A._tokenizer=void 0,A.previous=void 0):D.pop(),v=D.length;v--;){const C=h.slice(D[v],D[v+1]),P=o.pop();f.push([P,P+C.length-1]),a.splice(P,2,C)}for(f.reverse(),v=-1;++v<f.length;)p[E+f[v][0]]=E+f[v][1],E+=f[v][1]-f[v][0]-1;return p}const iN={resolve:aN,tokenize:rN},sN={partial:!0,tokenize:lN};function aN(a){return iC(a),a}function rN(a,t){let e;return i;function i(h){return a.enter("content"),e=a.enter("chunkContent",{contentType:"content"}),r(h)}function r(h){return h===null?o(h):kt(h)?a.check(sN,u,o)(h):(a.consume(h),r)}function o(h){return a.exit("chunkContent"),a.exit("content"),t(h)}function u(h){return a.consume(h),a.exit("chunkContent"),e.next=a.enter("chunkContent",{contentType:"content",previous:e}),e=e.next,r}}function lN(a,t,e){const i=this;return r;function r(u){return a.exit("chunkContent"),a.enter("lineEnding"),a.consume(u),a.exit("lineEnding"),ve(a,o,"linePrefix")}function o(u){if(u===null||kt(u))return e(u);const h=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?t(u):a.interrupt(i.parser.constructs.flow,e,t)(u)}}function sC(a,t,e,i,r,o,u,h,f){const p=f||Number.POSITIVE_INFINITY;let g=0;return b;function b(C){return C===60?(a.enter(i),a.enter(r),a.enter(o),a.consume(C),a.exit(o),v):C===null||C===32||C===41||b0(C)?e(C):(a.enter(i),a.enter(u),a.enter(h),a.enter("chunkString",{contentType:"string"}),T(C))}function v(C){return C===62?(a.enter(o),a.consume(C),a.exit(o),a.exit(r),a.exit(i),t):(a.enter(h),a.enter("chunkString",{contentType:"string"}),A(C))}function A(C){return C===62?(a.exit("chunkString"),a.exit(h),v(C)):C===null||C===60||kt(C)?e(C):(a.consume(C),C===92?E:A)}function E(C){return C===60||C===62||C===92?(a.consume(C),A):A(C)}function T(C){return!g&&(C===null||C===41||ti(C))?(a.exit("chunkString"),a.exit(h),a.exit(u),a.exit(i),t(C)):g<p&&C===40?(a.consume(C),g++,T):C===41?(a.consume(C),g--,T):C===null||C===32||C===40||b0(C)?e(C):(a.consume(C),C===92?D:T)}function D(C){return C===40||C===41||C===92?(a.consume(C),T):T(C)}}function aC(a,t,e,i,r,o){const u=this;let h=0,f;return p;function p(A){return a.enter(i),a.enter(r),a.consume(A),a.exit(r),a.enter(o),g}function g(A){return h>999||A===null||A===91||A===93&&!f||A===94&&!h&&"_hiddenFootnoteSupport"in u.parser.constructs?e(A):A===93?(a.exit(o),a.enter(r),a.consume(A),a.exit(r),a.exit(i),t):kt(A)?(a.enter("lineEnding"),a.consume(A),a.exit("lineEnding"),g):(a.enter("chunkString",{contentType:"string"}),b(A))}function b(A){return A===null||A===91||A===93||kt(A)||h++>999?(a.exit("chunkString"),g(A)):(a.consume(A),f||(f=!te(A)),A===92?v:b)}function v(A){return A===91||A===92||A===93?(a.consume(A),h++,b):b(A)}}function rC(a,t,e,i,r,o){let u;return h;function h(v){return v===34||v===39||v===40?(a.enter(i),a.enter(r),a.consume(v),a.exit(r),u=v===40?41:v,f):e(v)}function f(v){return v===u?(a.enter(r),a.consume(v),a.exit(r),a.exit(i),t):(a.enter(o),p(v))}function p(v){return v===u?(a.exit(o),f(u)):v===null?e(v):kt(v)?(a.enter("lineEnding"),a.consume(v),a.exit("lineEnding"),ve(a,p,"linePrefix")):(a.enter("chunkString",{contentType:"string"}),g(v))}function g(v){return v===u||v===null||kt(v)?(a.exit("chunkString"),p(v)):(a.consume(v),v===92?b:g)}function b(v){return v===u||v===92?(a.consume(v),g):g(v)}}function nd(a,t){let e;return i;function i(r){return kt(r)?(a.enter("lineEnding"),a.consume(r),a.exit("lineEnding"),e=!0,i):te(r)?ve(a,i,e?"linePrefix":"lineSuffix")(r):t(r)}}const oN={name:"definition",tokenize:cN},uN={partial:!0,tokenize:hN};function cN(a,t,e){const i=this;let r;return o;function o(A){return a.enter("definition"),u(A)}function u(A){return aC.call(i,a,h,e,"definitionLabel","definitionLabelMarker","definitionLabelString")(A)}function h(A){return r=Ru(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),A===58?(a.enter("definitionMarker"),a.consume(A),a.exit("definitionMarker"),f):e(A)}function f(A){return ti(A)?nd(a,p)(A):p(A)}function p(A){return sC(a,g,e,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(A)}function g(A){return a.attempt(uN,b,b)(A)}function b(A){return te(A)?ve(a,v,"whitespace")(A):v(A)}function v(A){return A===null||kt(A)?(a.exit("definition"),i.parser.defined.push(r),t(A)):e(A)}}function hN(a,t,e){return i;function i(h){return ti(h)?nd(a,r)(h):e(h)}function r(h){return rC(a,o,e,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function o(h){return te(h)?ve(a,u,"whitespace")(h):u(h)}function u(h){return h===null||kt(h)?t(h):e(h)}}const dN={name:"hardBreakEscape",tokenize:fN};function fN(a,t,e){return i;function i(o){return a.enter("hardBreakEscape"),a.consume(o),r}function r(o){return kt(o)?(a.exit("hardBreakEscape"),t(o)):e(o)}}const pN={name:"headingAtx",resolve:gN,tokenize:mN};function gN(a,t){let e=a.length-2,i=3,r,o;return a[i][1].type==="whitespace"&&(i+=2),e-2>i&&a[e][1].type==="whitespace"&&(e-=2),a[e][1].type==="atxHeadingSequence"&&(i===e-1||e-4>i&&a[e-2][1].type==="whitespace")&&(e-=i+1===e?2:4),e>i&&(r={type:"atxHeadingText",start:a[i][1].start,end:a[e][1].end},o={type:"chunkText",start:a[i][1].start,end:a[e][1].end,contentType:"text"},Us(a,i,e-i+1,[["enter",r,t],["enter",o,t],["exit",o,t],["exit",r,t]])),a}function mN(a,t,e){let i=0;return r;function r(g){return a.enter("atxHeading"),o(g)}function o(g){return a.enter("atxHeadingSequence"),u(g)}function u(g){return g===35&&i++<6?(a.consume(g),u):g===null||ti(g)?(a.exit("atxHeadingSequence"),h(g)):e(g)}function h(g){return g===35?(a.enter("atxHeadingSequence"),f(g)):g===null||kt(g)?(a.exit("atxHeading"),t(g)):te(g)?ve(a,h,"whitespace")(g):(a.enter("atxHeadingText"),p(g))}function f(g){return g===35?(a.consume(g),f):(a.exit("atxHeadingSequence"),h(g))}function p(g){return g===null||g===35||ti(g)?(a.exit("atxHeadingText"),h(g)):(a.consume(g),p)}}const yN=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],$_=["pre","script","style","textarea"],bN={concrete:!0,name:"htmlFlow",resolveTo:SN,tokenize:EN},vN={partial:!0,tokenize:xN},AN={partial:!0,tokenize:_N};function SN(a){let t=a.length;for(;t--&&!(a[t][0]==="enter"&&a[t][1].type==="htmlFlow"););return t>1&&a[t-2][1].type==="linePrefix"&&(a[t][1].start=a[t-2][1].start,a[t+1][1].start=a[t-2][1].start,a.splice(t-2,2)),a}function EN(a,t,e){const i=this;let r,o,u,h,f;return p;function p(M){return g(M)}function g(M){return a.enter("htmlFlow"),a.enter("htmlFlowData"),a.consume(M),b}function b(M){return M===33?(a.consume(M),v):M===47?(a.consume(M),o=!0,T):M===63?(a.consume(M),r=3,i.interrupt?t:_):Bs(M)?(a.consume(M),u=String.fromCharCode(M),D):e(M)}function v(M){return M===45?(a.consume(M),r=2,A):M===91?(a.consume(M),r=5,h=0,E):Bs(M)?(a.consume(M),r=4,i.interrupt?t:_):e(M)}function A(M){return M===45?(a.consume(M),i.interrupt?t:_):e(M)}function E(M){const pt="CDATA[";return M===pt.charCodeAt(h++)?(a.consume(M),h===pt.length?i.interrupt?t:it:E):e(M)}function T(M){return Bs(M)?(a.consume(M),u=String.fromCharCode(M),D):e(M)}function D(M){if(M===null||M===47||M===62||ti(M)){const pt=M===47,xt=u.toLowerCase();return!pt&&!o&&$_.includes(xt)?(r=1,i.interrupt?t(M):it(M)):yN.includes(u.toLowerCase())?(r=6,pt?(a.consume(M),C):i.interrupt?t(M):it(M)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?e(M):o?P(M):N(M))}return M===45||_i(M)?(a.consume(M),u+=String.fromCharCode(M),D):e(M)}function C(M){return M===62?(a.consume(M),i.interrupt?t:it):e(M)}function P(M){return te(M)?(a.consume(M),P):ot(M)}function N(M){return M===47?(a.consume(M),ot):M===58||M===95||Bs(M)?(a.consume(M),I):te(M)?(a.consume(M),N):ot(M)}function I(M){return M===45||M===46||M===58||M===95||_i(M)?(a.consume(M),I):F(M)}function F(M){return M===61?(a.consume(M),L):te(M)?(a.consume(M),F):N(M)}function L(M){return M===null||M===60||M===61||M===62||M===96?e(M):M===34||M===39?(a.consume(M),f=M,q):te(M)?(a.consume(M),L):K(M)}function q(M){return M===f?(a.consume(M),f=null,tt):M===null||kt(M)?e(M):(a.consume(M),q)}function K(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||ti(M)?F(M):(a.consume(M),K)}function tt(M){return M===47||M===62||te(M)?N(M):e(M)}function ot(M){return M===62?(a.consume(M),Q):e(M)}function Q(M){return M===null||kt(M)?it(M):te(M)?(a.consume(M),Q):e(M)}function it(M){return M===45&&r===2?(a.consume(M),H):M===60&&r===1?(a.consume(M),G):M===62&&r===4?(a.consume(M),Y):M===63&&r===3?(a.consume(M),_):M===93&&r===5?(a.consume(M),St):kt(M)&&(r===6||r===7)?(a.exit("htmlFlowData"),a.check(vN,rt,st)(M)):M===null||kt(M)?(a.exit("htmlFlowData"),st(M)):(a.consume(M),it)}function st(M){return a.check(AN,J,rt)(M)}function J(M){return a.enter("lineEnding"),a.consume(M),a.exit("lineEnding"),at}function at(M){return M===null||kt(M)?st(M):(a.enter("htmlFlowData"),it(M))}function H(M){return M===45?(a.consume(M),_):it(M)}function G(M){return M===47?(a.consume(M),u="",et):it(M)}function et(M){if(M===62){const pt=u.toLowerCase();return $_.includes(pt)?(a.consume(M),Y):it(M)}return Bs(M)&&u.length<8?(a.consume(M),u+=String.fromCharCode(M),et):it(M)}function St(M){return M===93?(a.consume(M),_):it(M)}function _(M){return M===62?(a.consume(M),Y):M===45&&r===2?(a.consume(M),_):it(M)}function Y(M){return M===null||kt(M)?(a.exit("htmlFlowData"),rt(M)):(a.consume(M),Y)}function rt(M){return a.exit("htmlFlow"),t(M)}}function _N(a,t,e){const i=this;return r;function r(u){return kt(u)?(a.enter("lineEnding"),a.consume(u),a.exit("lineEnding"),o):e(u)}function o(u){return i.parser.lazy[i.now().line]?e(u):t(u)}}function xN(a,t,e){return i;function i(r){return a.enter("lineEnding"),a.consume(r),a.exit("lineEnding"),a.attempt(lm,t,e)}}const wN={name:"htmlText",tokenize:TN};function TN(a,t,e){const i=this;let r,o,u;return h;function h(_){return a.enter("htmlText"),a.enter("htmlTextData"),a.consume(_),f}function f(_){return _===33?(a.consume(_),p):_===47?(a.consume(_),F):_===63?(a.consume(_),N):Bs(_)?(a.consume(_),K):e(_)}function p(_){return _===45?(a.consume(_),g):_===91?(a.consume(_),o=0,E):Bs(_)?(a.consume(_),P):e(_)}function g(_){return _===45?(a.consume(_),A):e(_)}function b(_){return _===null?e(_):_===45?(a.consume(_),v):kt(_)?(u=b,G(_)):(a.consume(_),b)}function v(_){return _===45?(a.consume(_),A):b(_)}function A(_){return _===62?H(_):_===45?v(_):b(_)}function E(_){const Y="CDATA[";return _===Y.charCodeAt(o++)?(a.consume(_),o===Y.length?T:E):e(_)}function T(_){return _===null?e(_):_===93?(a.consume(_),D):kt(_)?(u=T,G(_)):(a.consume(_),T)}function D(_){return _===93?(a.consume(_),C):T(_)}function C(_){return _===62?H(_):_===93?(a.consume(_),C):T(_)}function P(_){return _===null||_===62?H(_):kt(_)?(u=P,G(_)):(a.consume(_),P)}function N(_){return _===null?e(_):_===63?(a.consume(_),I):kt(_)?(u=N,G(_)):(a.consume(_),N)}function I(_){return _===62?H(_):N(_)}function F(_){return Bs(_)?(a.consume(_),L):e(_)}function L(_){return _===45||_i(_)?(a.consume(_),L):q(_)}function q(_){return kt(_)?(u=q,G(_)):te(_)?(a.consume(_),q):H(_)}function K(_){return _===45||_i(_)?(a.consume(_),K):_===47||_===62||ti(_)?tt(_):e(_)}function tt(_){return _===47?(a.consume(_),H):_===58||_===95||Bs(_)?(a.consume(_),ot):kt(_)?(u=tt,G(_)):te(_)?(a.consume(_),tt):H(_)}function ot(_){return _===45||_===46||_===58||_===95||_i(_)?(a.consume(_),ot):Q(_)}function Q(_){return _===61?(a.consume(_),it):kt(_)?(u=Q,G(_)):te(_)?(a.consume(_),Q):tt(_)}function it(_){return _===null||_===60||_===61||_===62||_===96?e(_):_===34||_===39?(a.consume(_),r=_,st):kt(_)?(u=it,G(_)):te(_)?(a.consume(_),it):(a.consume(_),J)}function st(_){return _===r?(a.consume(_),r=void 0,at):_===null?e(_):kt(_)?(u=st,G(_)):(a.consume(_),st)}function J(_){return _===null||_===34||_===39||_===60||_===61||_===96?e(_):_===47||_===62||ti(_)?tt(_):(a.consume(_),J)}function at(_){return _===47||_===62||ti(_)?tt(_):e(_)}function H(_){return _===62?(a.consume(_),a.exit("htmlTextData"),a.exit("htmlText"),t):e(_)}function G(_){return a.exit("htmlTextData"),a.enter("lineEnding"),a.consume(_),a.exit("lineEnding"),et}function et(_){return te(_)?ve(a,St,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):St(_)}function St(_){return a.enter("htmlTextData"),u(_)}}const K0={name:"labelEnd",resolveAll:MN,resolveTo:DN,tokenize:LN},CN={tokenize:ON},RN={tokenize:NN},kN={tokenize:PN};function MN(a){let t=-1;const e=[];for(;++t<a.length;){const i=a[t][1];if(e.push(a[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",t+=r}}return a.length!==e.length&&Us(a,0,a.length,e),a}function DN(a,t){let e=a.length,i=0,r,o,u,h;for(;e--;)if(r=a[e][1],o){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;a[e][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(u){if(a[e][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(o=e,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(u=e);const f={type:a[o][1].type==="labelLink"?"link":"image",start:{...a[o][1].start},end:{...a[a.length-1][1].end}},p={type:"label",start:{...a[o][1].start},end:{...a[u][1].end}},g={type:"labelText",start:{...a[o+i+2][1].end},end:{...a[u-2][1].start}};return h=[["enter",f,t],["enter",p,t]],h=Ui(h,a.slice(o+1,o+i+3)),h=Ui(h,[["enter",g,t]]),h=Ui(h,Y0(t.parser.constructs.insideSpan.null,a.slice(o+i+4,u-3),t)),h=Ui(h,[["exit",g,t],a[u-2],a[u-1],["exit",p,t]]),h=Ui(h,a.slice(u+1)),h=Ui(h,[["exit",f,t]]),Us(a,o,a.length,h),a}function LN(a,t,e){const i=this;let r=i.events.length,o,u;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){o=i.events[r][1];break}return h;function h(v){return o?o._inactive?b(v):(u=i.parser.defined.includes(Ru(i.sliceSerialize({start:o.end,end:i.now()}))),a.enter("labelEnd"),a.enter("labelMarker"),a.consume(v),a.exit("labelMarker"),a.exit("labelEnd"),f):e(v)}function f(v){return v===40?a.attempt(CN,g,u?g:b)(v):v===91?a.attempt(RN,g,u?p:b)(v):u?g(v):b(v)}function p(v){return a.attempt(kN,g,b)(v)}function g(v){return t(v)}function b(v){return o._balanced=!0,e(v)}}function ON(a,t,e){return i;function i(b){return a.enter("resource"),a.enter("resourceMarker"),a.consume(b),a.exit("resourceMarker"),r}function r(b){return ti(b)?nd(a,o)(b):o(b)}function o(b){return b===41?g(b):sC(a,u,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(b)}function u(b){return ti(b)?nd(a,f)(b):g(b)}function h(b){return e(b)}function f(b){return b===34||b===39||b===40?rC(a,p,e,"resourceTitle","resourceTitleMarker","resourceTitleString")(b):g(b)}function p(b){return ti(b)?nd(a,g)(b):g(b)}function g(b){return b===41?(a.enter("resourceMarker"),a.consume(b),a.exit("resourceMarker"),a.exit("resource"),t):e(b)}}function NN(a,t,e){const i=this;return r;function r(h){return aC.call(i,a,o,u,"reference","referenceMarker","referenceString")(h)}function o(h){return i.parser.defined.includes(Ru(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(h):e(h)}function u(h){return e(h)}}function PN(a,t,e){return i;function i(o){return a.enter("reference"),a.enter("referenceMarker"),a.consume(o),a.exit("referenceMarker"),r}function r(o){return o===93?(a.enter("referenceMarker"),a.consume(o),a.exit("referenceMarker"),a.exit("reference"),t):e(o)}}const zN={name:"labelStartImage",resolveAll:K0.resolveAll,tokenize:IN};function IN(a,t,e){const i=this;return r;function r(h){return a.enter("labelImage"),a.enter("labelImageMarker"),a.consume(h),a.exit("labelImageMarker"),o}function o(h){return h===91?(a.enter("labelMarker"),a.consume(h),a.exit("labelMarker"),a.exit("labelImage"),u):e(h)}function u(h){return h===94&&"_hiddenFootnoteSupport"in i.parser.constructs?e(h):t(h)}}const FN={name:"labelStartLink",resolveAll:K0.resolveAll,tokenize:HN};function HN(a,t,e){const i=this;return r;function r(u){return a.enter("labelLink"),a.enter("labelMarker"),a.consume(u),a.exit("labelMarker"),a.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?e(u):t(u)}}const Hb={name:"lineEnding",tokenize:BN};function BN(a,t){return e;function e(i){return a.enter("lineEnding"),a.consume(i),a.exit("lineEnding"),ve(a,t,"linePrefix")}}const xg={name:"thematicBreak",tokenize:UN};function UN(a,t,e){let i=0,r;return o;function o(p){return a.enter("thematicBreak"),u(p)}function u(p){return r=p,h(p)}function h(p){return p===r?(a.enter("thematicBreakSequence"),f(p)):i>=3&&(p===null||kt(p))?(a.exit("thematicBreak"),t(p)):e(p)}function f(p){return p===r?(a.consume(p),i++,f):(a.exit("thematicBreakSequence"),te(p)?ve(a,h,"whitespace")(p):h(p))}}const Yn={continuation:{tokenize:VN},exit:YN,name:"list",tokenize:GN},jN={partial:!0,tokenize:KN},qN={partial:!0,tokenize:XN};function GN(a,t,e){const i=this,r=i.events[i.events.length-1];let o=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,u=0;return h;function h(A){const E=i.containerState.type||(A===42||A===43||A===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!i.containerState.marker||A===i.containerState.marker:v0(A)){if(i.containerState.type||(i.containerState.type=E,a.enter(E,{_container:!0})),E==="listUnordered")return a.enter("listItemPrefix"),A===42||A===45?a.check(xg,e,p)(A):p(A);if(!i.interrupt||A===49)return a.enter("listItemPrefix"),a.enter("listItemValue"),f(A)}return e(A)}function f(A){return v0(A)&&++u<10?(a.consume(A),f):(!i.interrupt||u<2)&&(i.containerState.marker?A===i.containerState.marker:A===41||A===46)?(a.exit("listItemValue"),p(A)):e(A)}function p(A){return a.enter("listItemMarker"),a.consume(A),a.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||A,a.check(lm,i.interrupt?e:g,a.attempt(jN,v,b))}function g(A){return i.containerState.initialBlankLine=!0,o++,v(A)}function b(A){return te(A)?(a.enter("listItemPrefixWhitespace"),a.consume(A),a.exit("listItemPrefixWhitespace"),v):e(A)}function v(A){return i.containerState.size=o+i.sliceSerialize(a.exit("listItemPrefix"),!0).length,t(A)}}function VN(a,t,e){const i=this;return i.containerState._closeFlow=void 0,a.check(lm,r,o);function r(h){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,ve(a,t,"listItemIndent",i.containerState.size+1)(h)}function o(h){return i.containerState.furtherBlankLines||!te(h)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,u(h)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,a.attempt(qN,t,u)(h))}function u(h){return i.containerState._closeFlow=!0,i.interrupt=void 0,ve(a,a.attempt(Yn,t,e),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function XN(a,t,e){const i=this;return ve(a,r,"listItemIndent",i.containerState.size+1);function r(o){const u=i.events[i.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===i.containerState.size?t(o):e(o)}}function YN(a){a.exit(this.containerState.type)}function KN(a,t,e){const i=this;return ve(a,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(o){const u=i.events[i.events.length-1];return!te(o)&&u&&u[1].type==="listItemPrefixWhitespace"?t(o):e(o)}}const Z_={name:"setextUnderline",resolveTo:QN,tokenize:WN};function QN(a,t){let e=a.length,i,r,o;for(;e--;)if(a[e][0]==="enter"){if(a[e][1].type==="content"){i=e;break}a[e][1].type==="paragraph"&&(r=e)}else a[e][1].type==="content"&&a.splice(e,1),!o&&a[e][1].type==="definition"&&(o=e);const u={type:"setextHeading",start:{...a[i][1].start},end:{...a[a.length-1][1].end}};return a[r][1].type="setextHeadingText",o?(a.splice(r,0,["enter",u,t]),a.splice(o+1,0,["exit",a[i][1],t]),a[i][1].end={...a[o][1].end}):a[i][1]=u,a.push(["exit",u,t]),a}function WN(a,t,e){const i=this;let r;return o;function o(p){let g=i.events.length,b;for(;g--;)if(i.events[g][1].type!=="lineEnding"&&i.events[g][1].type!=="linePrefix"&&i.events[g][1].type!=="content"){b=i.events[g][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||b)?(a.enter("setextHeadingLine"),r=p,u(p)):e(p)}function u(p){return a.enter("setextHeadingLineSequence"),h(p)}function h(p){return p===r?(a.consume(p),h):(a.exit("setextHeadingLineSequence"),te(p)?ve(a,f,"lineSuffix")(p):f(p))}function f(p){return p===null||kt(p)?(a.exit("setextHeadingLine"),t(p)):e(p)}}const $N={tokenize:ZN};function ZN(a){const t=this,e=a.attempt(lm,i,a.attempt(this.parser.constructs.flowInitial,r,ve(a,a.attempt(this.parser.constructs.flow,r,a.attempt(iN,r)),"linePrefix")));return e;function i(o){if(o===null){a.consume(o);return}return a.enter("lineEndingBlank"),a.consume(o),a.exit("lineEndingBlank"),t.currentConstruct=void 0,e}function r(o){if(o===null){a.consume(o);return}return a.enter("lineEnding"),a.consume(o),a.exit("lineEnding"),t.currentConstruct=void 0,e}}const JN={resolveAll:oC()},tP=lC("string"),eP=lC("text");function lC(a){return{resolveAll:oC(a==="text"?nP:void 0),tokenize:t};function t(e){const i=this,r=this.parser.constructs[a],o=e.attempt(r,u,h);return u;function u(g){return p(g)?o(g):h(g)}function h(g){if(g===null){e.consume(g);return}return e.enter("data"),e.consume(g),f}function f(g){return p(g)?(e.exit("data"),o(g)):(e.consume(g),f)}function p(g){if(g===null)return!0;const b=r[g];let v=-1;if(b)for(;++v<b.length;){const A=b[v];if(!A.previous||A.previous.call(i,i.previous))return!0}return!1}}}function oC(a){return t;function t(e,i){let r=-1,o;for(;++r<=e.length;)o===void 0?e[r]&&e[r][1].type==="data"&&(o=r,r++):(!e[r]||e[r][1].type!=="data")&&(r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),r=o+2),o=void 0);return a?a(e,i):e}}function nP(a,t){let e=0;for(;++e<=a.length;)if((e===a.length||a[e][1].type==="lineEnding")&&a[e-1][1].type==="data"){const i=a[e-1][1],r=t.sliceStream(i);let o=r.length,u=-1,h=0,f;for(;o--;){const p=r[o];if(typeof p=="string"){for(u=p.length;p.charCodeAt(u-1)===32;)h++,u--;if(u)break;u=-1}else if(p===-2)f=!0,h++;else if(p!==-1){o++;break}}if(t._contentTypeTextTrailing&&e===a.length&&(h=0),h){const p={type:e===a.length||f||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:i.start._bufferIndex+u,_index:i.start._index+o,line:i.end.line,column:i.end.column-h,offset:i.end.offset-h},end:{...i.end}};i.end={...p.start},i.start.offset===i.end.offset?Object.assign(i,p):(a.splice(e,0,["enter",p,t],["exit",p,t]),e+=2)}e++}return a}const iP={42:Yn,43:Yn,45:Yn,48:Yn,49:Yn,50:Yn,51:Yn,52:Yn,53:Yn,54:Yn,55:Yn,56:Yn,57:Yn,62:tC},sP={91:oN},aP={[-2]:Fb,[-1]:Fb,32:Fb},rP={35:pN,42:xg,45:[Z_,xg],60:bN,61:Z_,95:xg,96:W_,126:W_},lP={38:nC,92:eC},oP={[-5]:Hb,[-4]:Hb,[-3]:Hb,33:zN,38:nC,42:A0,60:[FO,wN],91:FN,92:[dN,eC],93:K0,95:A0,96:$O},uP={null:[A0,JN]},cP={null:[42,95]},hP={null:[]},dP=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:cP,contentInitial:sP,disable:hP,document:iP,flow:rP,flowInitial:aP,insideSpan:uP,string:lP,text:oP},Symbol.toStringTag,{value:"Module"}));function fP(a,t,e){let i={_bufferIndex:-1,_index:0,line:e&&e.line||1,column:e&&e.column||1,offset:e&&e.offset||0};const r={},o=[];let u=[],h=[];const f={attempt:q(F),check:q(L),consume:P,enter:N,exit:I,interrupt:q(L,{interrupt:!0})},p={code:null,containerState:{},defineSkip:T,events:[],now:E,parser:a,previous:null,sliceSerialize:v,sliceStream:A,write:b};let g=t.tokenize.call(p,f);return t.resolveAll&&o.push(t),p;function b(Q){return u=Ui(u,Q),D(),u[u.length-1]!==null?[]:(K(t,0),p.events=Y0(o,p.events,p),p.events)}function v(Q,it){return gP(A(Q),it)}function A(Q){return pP(u,Q)}function E(){const{_bufferIndex:Q,_index:it,line:st,column:J,offset:at}=i;return{_bufferIndex:Q,_index:it,line:st,column:J,offset:at}}function T(Q){r[Q.line]=Q.column,ot()}function D(){let Q;for(;i._index<u.length;){const it=u[i._index];if(typeof it=="string")for(Q=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===Q&&i._bufferIndex<it.length;)C(it.charCodeAt(i._bufferIndex));else C(it)}}function C(Q){g=g(Q)}function P(Q){kt(Q)?(i.line++,i.column=1,i.offset+=Q===-3?2:1,ot()):Q!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===u[i._index].length&&(i._bufferIndex=-1,i._index++)),p.previous=Q}function N(Q,it){const st=it||{};return st.type=Q,st.start=E(),p.events.push(["enter",st,p]),h.push(st),st}function I(Q){const it=h.pop();return it.end=E(),p.events.push(["exit",it,p]),it}function F(Q,it){K(Q,it.from)}function L(Q,it){it.restore()}function q(Q,it){return st;function st(J,at,H){let G,et,St,_;return Array.isArray(J)?rt(J):"tokenize"in J?rt([J]):Y(J);function Y(ht){return Tt;function Tt(Lt){const de=Lt!==null&&ht[Lt],Xt=Lt!==null&&ht.null,Dn=[...Array.isArray(de)?de:de?[de]:[],...Array.isArray(Xt)?Xt:Xt?[Xt]:[]];return rt(Dn)(Lt)}}function rt(ht){return G=ht,et=0,ht.length===0?H:M(ht[et])}function M(ht){return Tt;function Tt(Lt){return _=tt(),St=ht,ht.partial||(p.currentConstruct=ht),ht.name&&p.parser.constructs.disable.null.includes(ht.name)?xt():ht.tokenize.call(it?Object.assign(Object.create(p),it):p,f,pt,xt)(Lt)}}function pt(ht){return Q(St,_),at}function xt(ht){return _.restore(),++et<G.length?M(G[et]):H}}}function K(Q,it){Q.resolveAll&&!o.includes(Q)&&o.push(Q),Q.resolve&&Us(p.events,it,p.events.length-it,Q.resolve(p.events.slice(it),p)),Q.resolveTo&&(p.events=Q.resolveTo(p.events,p))}function tt(){const Q=E(),it=p.previous,st=p.currentConstruct,J=p.events.length,at=Array.from(h);return{from:J,restore:H};function H(){i=Q,p.previous=it,p.currentConstruct=st,p.events.length=J,h=at,ot()}}function ot(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function pP(a,t){const e=t.start._index,i=t.start._bufferIndex,r=t.end._index,o=t.end._bufferIndex;let u;if(e===r)u=[a[e].slice(i,o)];else{if(u=a.slice(e,r),i>-1){const h=u[0];typeof h=="string"?u[0]=h.slice(i):u.shift()}o>0&&u.push(a[r].slice(0,o))}return u}function gP(a,t){let e=-1;const i=[];let r;for(;++e<a.length;){const o=a[e];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=t?" ":"	";break}case-1:{if(!t&&r)continue;u=" ";break}default:u=String.fromCharCode(o)}r=o===-2,i.push(u)}return i.join("")}function mP(a){const i={constructs:_O([dP,...(a||{}).extensions||[]]),content:r(DO),defined:[],document:r(OO),flow:r($N),lazy:{},string:r(tP),text:r(eP)};return i;function r(o){return u;function u(h){return fP(i,o,h)}}}function yP(a){for(;!iC(a););return a}const J_=/[\0\t\n\r]/g;function bP(){let a=1,t="",e=!0,i;return r;function r(o,u,h){const f=[];let p,g,b,v,A;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),b=0,t="",e&&(o.charCodeAt(0)===65279&&b++,e=void 0);b<o.length;){if(J_.lastIndex=b,p=J_.exec(o),v=p&&p.index!==void 0?p.index:o.length,A=o.charCodeAt(v),!p){t=o.slice(b);break}if(A===10&&b===v&&i)f.push(-3),i=void 0;else switch(i&&(f.push(-5),i=void 0),b<v&&(f.push(o.slice(b,v)),a+=v-b),A){case 0:{f.push(65533),a++;break}case 9:{for(g=Math.ceil(a/4)*4,f.push(-2);a++<g;)f.push(-1);break}case 10:{f.push(-4),a=1;break}default:i=!0,a=1}b=v+1}return h&&(i&&f.push(-5),t&&f.push(t),f.push(null)),f}}const vP=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function AP(a){return a.replace(vP,SP)}function SP(a,t,e){if(t)return t;if(e.charCodeAt(0)===35){const r=e.charCodeAt(1),o=r===120||r===88;return JT(e.slice(o?2:1),o?16:10)}return X0(e)||a}const uC={}.hasOwnProperty;function EP(a,t,e){return typeof t!="string"&&(e=t,t=void 0),_P(e)(yP(mP(e).document().write(bP()(a,t,!0))))}function _P(a){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Xr),autolinkProtocol:tt,autolinkEmail:tt,atxHeading:o(Oe),blockQuote:o(Xt),characterEscape:tt,characterReference:tt,codeFenced:o(Dn),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(Dn,u),codeText:o(Xi,u),codeTextData:tt,data:tt,codeFlowValue:tt,definition:o(Wt),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(ge),hardBreakEscape:o(_e),hardBreakTrailing:o(_e),htmlFlow:o(Fe,u),htmlFlowData:tt,htmlText:o(Fe,u),htmlTextData:tt,image:o(js),label:u,link:o(Xr),listItem:o(Yi),listItemValue:v,listOrdered:o(Yr,b),listUnordered:o(Yr),paragraph:o(Mc),reference:M,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o(Oe),strong:o(wo),thematicBreak:o(Lc)},exit:{atxHeading:f(),atxHeadingSequence:F,autolink:f(),autolinkEmail:de,autolinkProtocol:Lt,blockQuote:f(),characterEscapeValue:ot,characterReferenceMarkerHexadecimal:xt,characterReferenceMarkerNumeric:xt,characterReferenceValue:ht,characterReference:Tt,codeFenced:f(D),codeFencedFence:T,codeFencedFenceInfo:A,codeFencedFenceMeta:E,codeFlowValue:ot,codeIndented:f(C),codeText:f(at),codeTextData:ot,data:ot,definition:f(),definitionDestinationString:I,definitionLabelString:P,definitionTitleString:N,emphasis:f(),hardBreakEscape:f(it),hardBreakTrailing:f(it),htmlFlow:f(st),htmlFlowData:ot,htmlText:f(J),htmlTextData:ot,image:f(G),label:St,labelText:et,lineEnding:Q,link:f(H),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:pt,resourceDestinationString:_,resourceTitleString:Y,resource:rt,setextHeading:f(K),setextHeadingLineSequence:q,setextHeadingText:L,strong:f(),thematicBreak:f()}};cC(t,(a||{}).mdastExtensions||[]);const e={};return i;function i(W){let lt={type:"root",children:[]};const vt={stack:[lt],tokenStack:[],config:t,enter:h,exit:p,buffer:u,resume:g,data:e},Et=[];let Qt=-1;for(;++Qt<W.length;)if(W[Qt][1].type==="listOrdered"||W[Qt][1].type==="listUnordered")if(W[Qt][0]==="enter")Et.push(Qt);else{const ni=Et.pop();Qt=r(W,ni,Qt)}for(Qt=-1;++Qt<W.length;){const ni=t[W[Qt][0]];uC.call(ni,W[Qt][1].type)&&ni[W[Qt][1].type].call(Object.assign({sliceSerialize:W[Qt][2].sliceSerialize},vt),W[Qt][1])}if(vt.tokenStack.length>0){const ni=vt.tokenStack[vt.tokenStack.length-1];(ni[1]||tx).call(vt,void 0,ni[0])}for(lt.position={start:ur(W.length>0?W[0][1].start:{line:1,column:1,offset:0}),end:ur(W.length>0?W[W.length-2][1].end:{line:1,column:1,offset:0})},Qt=-1;++Qt<t.transforms.length;)lt=t.transforms[Qt](lt)||lt;return lt}function r(W,lt,vt){let Et=lt-1,Qt=-1,ni=!1,qs,Bn,ps,ii;for(;++Et<=vt;){const Je=W[Et];switch(Je[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Je[0]==="enter"?Qt++:Qt--,ii=void 0;break}case"lineEndingBlank":{Je[0]==="enter"&&(qs&&!ii&&!Qt&&!ps&&(ps=Et),ii=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ii=void 0}if(!Qt&&Je[0]==="enter"&&Je[1].type==="listItemPrefix"||Qt===-1&&Je[0]==="exit"&&(Je[1].type==="listUnordered"||Je[1].type==="listOrdered")){if(qs){let wi=Et;for(Bn=void 0;wi--;){const Ki=W[wi];if(Ki[1].type==="lineEnding"||Ki[1].type==="lineEndingBlank"){if(Ki[0]==="exit")continue;Bn&&(W[Bn][1].type="lineEndingBlank",ni=!0),Ki[1].type="lineEnding",Bn=wi}else if(!(Ki[1].type==="linePrefix"||Ki[1].type==="blockQuotePrefix"||Ki[1].type==="blockQuotePrefixWhitespace"||Ki[1].type==="blockQuoteMarker"||Ki[1].type==="listItemIndent"))break}ps&&(!Bn||ps<Bn)&&(qs._spread=!0),qs.end=Object.assign({},Bn?W[Bn][1].start:Je[1].end),W.splice(Bn||Et,0,["exit",qs,Je[2]]),Et++,vt++}if(Je[1].type==="listItemPrefix"){const wi={type:"listItem",_spread:!1,start:Object.assign({},Je[1].start),end:void 0};qs=wi,W.splice(Et,0,["enter",wi,Je[2]]),Et++,vt++,ps=void 0,ii=!0}}}return W[lt][1]._spread=ni,vt}function o(W,lt){return vt;function vt(Et){h.call(this,W(Et),Et),lt&&lt.call(this,Et)}}function u(){this.stack.push({type:"fragment",children:[]})}function h(W,lt,vt){this.stack[this.stack.length-1].children.push(W),this.stack.push(W),this.tokenStack.push([lt,vt||void 0]),W.position={start:ur(lt.start),end:void 0}}function f(W){return lt;function lt(vt){W&&W.call(this,vt),p.call(this,vt)}}function p(W,lt){const vt=this.stack.pop(),Et=this.tokenStack.pop();if(Et)Et[0].type!==W.type&&(lt?lt.call(this,W,Et[0]):(Et[1]||tx).call(this,W,Et[0]));else throw new Error("Cannot close `"+W.type+"` ("+ed({start:W.start,end:W.end})+"): its not open");vt.position.end=ur(W.end)}function g(){return SO(this.stack.pop())}function b(){this.data.expectingFirstListItemValue=!0}function v(W){if(this.data.expectingFirstListItemValue){const lt=this.stack[this.stack.length-2];lt.start=Number.parseInt(this.sliceSerialize(W),10),this.data.expectingFirstListItemValue=void 0}}function A(){const W=this.resume(),lt=this.stack[this.stack.length-1];lt.lang=W}function E(){const W=this.resume(),lt=this.stack[this.stack.length-1];lt.meta=W}function T(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function D(){const W=this.resume(),lt=this.stack[this.stack.length-1];lt.value=W.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){const W=this.resume(),lt=this.stack[this.stack.length-1];lt.value=W.replace(/(\r?\n|\r)$/g,"")}function P(W){const lt=this.resume(),vt=this.stack[this.stack.length-1];vt.label=lt,vt.identifier=Ru(this.sliceSerialize(W)).toLowerCase()}function N(){const W=this.resume(),lt=this.stack[this.stack.length-1];lt.title=W}function I(){const W=this.resume(),lt=this.stack[this.stack.length-1];lt.url=W}function F(W){const lt=this.stack[this.stack.length-1];if(!lt.depth){const vt=this.sliceSerialize(W).length;lt.depth=vt}}function L(){this.data.setextHeadingSlurpLineEnding=!0}function q(W){const lt=this.stack[this.stack.length-1];lt.depth=this.sliceSerialize(W).codePointAt(0)===61?1:2}function K(){this.data.setextHeadingSlurpLineEnding=void 0}function tt(W){const vt=this.stack[this.stack.length-1].children;let Et=vt[vt.length-1];(!Et||Et.type!=="text")&&(Et=Dc(),Et.position={start:ur(W.start),end:void 0},vt.push(Et)),this.stack.push(Et)}function ot(W){const lt=this.stack.pop();lt.value+=this.sliceSerialize(W),lt.position.end=ur(W.end)}function Q(W){const lt=this.stack[this.stack.length-1];if(this.data.atHardBreak){const vt=lt.children[lt.children.length-1];vt.position.end=ur(W.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(lt.type)&&(tt.call(this,W),ot.call(this,W))}function it(){this.data.atHardBreak=!0}function st(){const W=this.resume(),lt=this.stack[this.stack.length-1];lt.value=W}function J(){const W=this.resume(),lt=this.stack[this.stack.length-1];lt.value=W}function at(){const W=this.resume(),lt=this.stack[this.stack.length-1];lt.value=W}function H(){const W=this.stack[this.stack.length-1];if(this.data.inReference){const lt=this.data.referenceType||"shortcut";W.type+="Reference",W.referenceType=lt,delete W.url,delete W.title}else delete W.identifier,delete W.label;this.data.referenceType=void 0}function G(){const W=this.stack[this.stack.length-1];if(this.data.inReference){const lt=this.data.referenceType||"shortcut";W.type+="Reference",W.referenceType=lt,delete W.url,delete W.title}else delete W.identifier,delete W.label;this.data.referenceType=void 0}function et(W){const lt=this.sliceSerialize(W),vt=this.stack[this.stack.length-2];vt.label=AP(lt),vt.identifier=Ru(lt).toLowerCase()}function St(){const W=this.stack[this.stack.length-1],lt=this.resume(),vt=this.stack[this.stack.length-1];if(this.data.inReference=!0,vt.type==="link"){const Et=W.children;vt.children=Et}else vt.alt=lt}function _(){const W=this.resume(),lt=this.stack[this.stack.length-1];lt.url=W}function Y(){const W=this.resume(),lt=this.stack[this.stack.length-1];lt.title=W}function rt(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function pt(W){const lt=this.resume(),vt=this.stack[this.stack.length-1];vt.label=lt,vt.identifier=Ru(this.sliceSerialize(W)).toLowerCase(),this.data.referenceType="full"}function xt(W){this.data.characterReferenceType=W.type}function ht(W){const lt=this.sliceSerialize(W),vt=this.data.characterReferenceType;let Et;vt?(Et=JT(lt,vt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Et=X0(lt);const Qt=this.stack[this.stack.length-1];Qt.value+=Et}function Tt(W){const lt=this.stack.pop();lt.position.end=ur(W.end)}function Lt(W){ot.call(this,W);const lt=this.stack[this.stack.length-1];lt.url=this.sliceSerialize(W)}function de(W){ot.call(this,W);const lt=this.stack[this.stack.length-1];lt.url="mailto:"+this.sliceSerialize(W)}function Xt(){return{type:"blockquote",children:[]}}function Dn(){return{type:"code",lang:null,meta:null,value:""}}function Xi(){return{type:"inlineCode",value:""}}function Wt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ge(){return{type:"emphasis",children:[]}}function Oe(){return{type:"heading",depth:0,children:[]}}function _e(){return{type:"break"}}function Fe(){return{type:"html",value:""}}function js(){return{type:"image",title:null,url:"",alt:null}}function Xr(){return{type:"link",title:null,url:"",children:[]}}function Yr(W){return{type:"list",ordered:W.type==="listOrdered",start:null,spread:W._spread,children:[]}}function Yi(W){return{type:"listItem",spread:W._spread,checked:null,children:[]}}function Mc(){return{type:"paragraph",children:[]}}function wo(){return{type:"strong",children:[]}}function Dc(){return{type:"text",value:""}}function Lc(){return{type:"thematicBreak"}}}function ur(a){return{line:a.line,column:a.column,offset:a.offset}}function cC(a,t){let e=-1;for(;++e<t.length;){const i=t[e];Array.isArray(i)?cC(a,i):xP(a,i)}}function xP(a,t){let e;for(e in t)if(uC.call(t,e))switch(e){case"canContainEols":{const i=t[e];i&&a[e].push(...i);break}case"transforms":{const i=t[e];i&&a[e].push(...i);break}case"enter":case"exit":{const i=t[e];i&&Object.assign(a[e],i);break}}}function tx(a,t){throw a?new Error("Cannot close `"+a.type+"` ("+ed({start:a.start,end:a.end})+"): a different token (`"+t.type+"`, "+ed({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ed({start:t.start,end:t.end})+") is still open")}function wP(a){const t=this;t.parser=e;function e(i){return EP(i,{...t.data("settings"),...a,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function TP(a,t){const e={type:"element",tagName:"blockquote",properties:{},children:a.wrap(a.all(t),!0)};return a.patch(t,e),a.applyData(t,e)}function CP(a,t){const e={type:"element",tagName:"br",properties:{},children:[]};return a.patch(t,e),[a.applyData(t,e),{type:"text",value:`
`}]}function RP(a,t){const e=t.value?t.value+`
`:"",i={};t.lang&&(i.className=["language-"+t.lang]);let r={type:"element",tagName:"code",properties:i,children:[{type:"text",value:e}]};return t.meta&&(r.data={meta:t.meta}),a.patch(t,r),r=a.applyData(t,r),r={type:"element",tagName:"pre",properties:{},children:[r]},a.patch(t,r),r}function kP(a,t){const e={type:"element",tagName:"del",properties:{},children:a.all(t)};return a.patch(t,e),a.applyData(t,e)}function MP(a,t){const e={type:"element",tagName:"em",properties:{},children:a.all(t)};return a.patch(t,e),a.applyData(t,e)}function DP(a,t){const e=typeof a.options.clobberPrefix=="string"?a.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),r=kc(i.toLowerCase()),o=a.footnoteOrder.indexOf(i);let u,h=a.footnoteCounts.get(i);h===void 0?(h=0,a.footnoteOrder.push(i),u=a.footnoteOrder.length):u=o+1,h+=1,a.footnoteCounts.set(i,h);const f={type:"element",tagName:"a",properties:{href:"#"+e+"fn-"+r,id:e+"fnref-"+r+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};a.patch(t,f);const p={type:"element",tagName:"sup",properties:{},children:[f]};return a.patch(t,p),a.applyData(t,p)}function LP(a,t){const e={type:"element",tagName:"h"+t.depth,properties:{},children:a.all(t)};return a.patch(t,e),a.applyData(t,e)}function OP(a,t){if(a.options.allowDangerousHtml){const e={type:"raw",value:t.value};return a.patch(t,e),a.applyData(t,e)}}function hC(a,t){const e=t.referenceType;let i="]";if(e==="collapsed"?i+="[]":e==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const r=a.all(t),o=r[0];o&&o.type==="text"?o.value="["+o.value:r.unshift({type:"text",value:"["});const u=r[r.length-1];return u&&u.type==="text"?u.value+=i:r.push({type:"text",value:i}),r}function NP(a,t){const e=String(t.identifier).toUpperCase(),i=a.definitionById.get(e);if(!i)return hC(a,t);const r={src:kc(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const o={type:"element",tagName:"img",properties:r,children:[]};return a.patch(t,o),a.applyData(t,o)}function PP(a,t){const e={src:kc(t.url)};t.alt!==null&&t.alt!==void 0&&(e.alt=t.alt),t.title!==null&&t.title!==void 0&&(e.title=t.title);const i={type:"element",tagName:"img",properties:e,children:[]};return a.patch(t,i),a.applyData(t,i)}function zP(a,t){const e={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};a.patch(t,e);const i={type:"element",tagName:"code",properties:{},children:[e]};return a.patch(t,i),a.applyData(t,i)}function IP(a,t){const e=String(t.identifier).toUpperCase(),i=a.definitionById.get(e);if(!i)return hC(a,t);const r={href:kc(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const o={type:"element",tagName:"a",properties:r,children:a.all(t)};return a.patch(t,o),a.applyData(t,o)}function FP(a,t){const e={href:kc(t.url)};t.title!==null&&t.title!==void 0&&(e.title=t.title);const i={type:"element",tagName:"a",properties:e,children:a.all(t)};return a.patch(t,i),a.applyData(t,i)}function HP(a,t,e){const i=a.all(t),r=e?BP(e):dC(t),o={},u=[];if(typeof t.checked=="boolean"){const g=i[0];let b;g&&g.type==="element"&&g.tagName==="p"?b=g:(b={type:"element",tagName:"p",properties:{},children:[]},i.unshift(b)),b.children.length>0&&b.children.unshift({type:"text",value:" "}),b.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let h=-1;for(;++h<i.length;){const g=i[h];(r||h!==0||g.type!=="element"||g.tagName!=="p")&&u.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!r?u.push(...g.children):u.push(g)}const f=i[i.length-1];f&&(r||f.type!=="element"||f.tagName!=="p")&&u.push({type:"text",value:`
`});const p={type:"element",tagName:"li",properties:o,children:u};return a.patch(t,p),a.applyData(t,p)}function BP(a){let t=!1;if(a.type==="list"){t=a.spread||!1;const e=a.children;let i=-1;for(;!t&&++i<e.length;)t=dC(e[i])}return t}function dC(a){const t=a.spread;return t??a.children.length>1}function UP(a,t){const e={},i=a.all(t);let r=-1;for(typeof t.start=="number"&&t.start!==1&&(e.start=t.start);++r<i.length;){const u=i[r];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){e.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:e,children:a.wrap(i,!0)};return a.patch(t,o),a.applyData(t,o)}function jP(a,t){const e={type:"element",tagName:"p",properties:{},children:a.all(t)};return a.patch(t,e),a.applyData(t,e)}function qP(a,t){const e={type:"root",children:a.wrap(a.all(t))};return a.patch(t,e),a.applyData(t,e)}function GP(a,t){const e={type:"element",tagName:"strong",properties:{},children:a.all(t)};return a.patch(t,e),a.applyData(t,e)}function VP(a,t){const e=a.all(t),i=e.shift(),r=[];if(i){const u={type:"element",tagName:"thead",properties:{},children:a.wrap([i],!0)};a.patch(t.children[0],u),r.push(u)}if(e.length>0){const u={type:"element",tagName:"tbody",properties:{},children:a.wrap(e,!0)},h=j0(t.children[1]),f=XT(t.children[t.children.length-1]);h&&f&&(u.position={start:h,end:f}),r.push(u)}const o={type:"element",tagName:"table",properties:{},children:a.wrap(r,!0)};return a.patch(t,o),a.applyData(t,o)}function XP(a,t,e){const i=e?e.children:void 0,o=(i?i.indexOf(t):1)===0?"th":"td",u=e&&e.type==="table"?e.align:void 0,h=u?u.length:t.children.length;let f=-1;const p=[];for(;++f<h;){const b=t.children[f],v={},A=u?u[f]:void 0;A&&(v.align=A);let E={type:"element",tagName:o,properties:v,children:[]};b&&(E.children=a.all(b),a.patch(b,E),E=a.applyData(b,E)),p.push(E)}const g={type:"element",tagName:"tr",properties:{},children:a.wrap(p,!0)};return a.patch(t,g),a.applyData(t,g)}function YP(a,t){const e={type:"element",tagName:"td",properties:{},children:a.all(t)};return a.patch(t,e),a.applyData(t,e)}const ex=9,nx=32;function KP(a){const t=String(a),e=/\r?\n|\r/g;let i=e.exec(t),r=0;const o=[];for(;i;)o.push(ix(t.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=e.exec(t);return o.push(ix(t.slice(r),r>0,!1)),o.join("")}function ix(a,t,e){let i=0,r=a.length;if(t){let o=a.codePointAt(i);for(;o===ex||o===nx;)i++,o=a.codePointAt(i)}if(e){let o=a.codePointAt(r-1);for(;o===ex||o===nx;)r--,o=a.codePointAt(r-1)}return r>i?a.slice(i,r):""}function QP(a,t){const e={type:"text",value:KP(String(t.value))};return a.patch(t,e),a.applyData(t,e)}function WP(a,t){const e={type:"element",tagName:"hr",properties:{},children:[]};return a.patch(t,e),a.applyData(t,e)}const $P={blockquote:TP,break:CP,code:RP,delete:kP,emphasis:MP,footnoteReference:DP,heading:LP,html:OP,imageReference:NP,image:PP,inlineCode:zP,linkReference:IP,link:FP,listItem:HP,list:UP,paragraph:jP,root:qP,strong:GP,table:VP,tableCell:YP,tableRow:XP,text:QP,thematicBreak:WP,toml:Vp,yaml:Vp,definition:Vp,footnoteDefinition:Vp};function Vp(){}const fC=-1,om=0,id=1,Mg=2,Q0=3,W0=4,$0=5,Z0=6,pC=7,gC=8,sx=typeof self=="object"?self:globalThis,ZP=(a,t)=>{const e=(r,o)=>(a.set(o,r),r),i=r=>{if(a.has(r))return a.get(r);const[o,u]=t[r];switch(o){case om:case fC:return e(u,r);case id:{const h=e([],r);for(const f of u)h.push(i(f));return h}case Mg:{const h=e({},r);for(const[f,p]of u)h[i(f)]=i(p);return h}case Q0:return e(new Date(u),r);case W0:{const{source:h,flags:f}=u;return e(new RegExp(h,f),r)}case $0:{const h=e(new Map,r);for(const[f,p]of u)h.set(i(f),i(p));return h}case Z0:{const h=e(new Set,r);for(const f of u)h.add(i(f));return h}case pC:{const{name:h,message:f}=u;return e(new sx[h](f),r)}case gC:return e(BigInt(u),r);case"BigInt":return e(Object(BigInt(u)),r);case"ArrayBuffer":return e(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:h}=new Uint8Array(u);return e(new DataView(h),u)}}return e(new sx[o](u),r)};return i},ax=a=>ZP(new Map,a)(0),fu="",{toString:JP}={},{keys:tz}=Object,zh=a=>{const t=typeof a;if(t!=="object"||!a)return[om,t];const e=JP.call(a).slice(8,-1);switch(e){case"Array":return[id,fu];case"Object":return[Mg,fu];case"Date":return[Q0,fu];case"RegExp":return[W0,fu];case"Map":return[$0,fu];case"Set":return[Z0,fu];case"DataView":return[id,e]}return e.includes("Array")?[id,e]:e.includes("Error")?[pC,e]:[Mg,e]},Xp=([a,t])=>a===om&&(t==="function"||t==="symbol"),ez=(a,t,e,i)=>{const r=(u,h)=>{const f=i.push(u)-1;return e.set(h,f),f},o=u=>{if(e.has(u))return e.get(u);let[h,f]=zh(u);switch(h){case om:{let g=u;switch(f){case"bigint":h=gC,g=u.toString();break;case"function":case"symbol":if(a)throw new TypeError("unable to serialize "+f);g=null;break;case"undefined":return r([fC],u)}return r([h,g],u)}case id:{if(f){let v=u;return f==="DataView"?v=new Uint8Array(u.buffer):f==="ArrayBuffer"&&(v=new Uint8Array(u)),r([f,[...v]],u)}const g=[],b=r([h,g],u);for(const v of u)g.push(o(v));return b}case Mg:{if(f)switch(f){case"BigInt":return r([f,u.toString()],u);case"Boolean":case"Number":case"String":return r([f,u.valueOf()],u)}if(t&&"toJSON"in u)return o(u.toJSON());const g=[],b=r([h,g],u);for(const v of tz(u))(a||!Xp(zh(u[v])))&&g.push([o(v),o(u[v])]);return b}case Q0:return r([h,u.toISOString()],u);case W0:{const{source:g,flags:b}=u;return r([h,{source:g,flags:b}],u)}case $0:{const g=[],b=r([h,g],u);for(const[v,A]of u)(a||!(Xp(zh(v))||Xp(zh(A))))&&g.push([o(v),o(A)]);return b}case Z0:{const g=[],b=r([h,g],u);for(const v of u)(a||!Xp(zh(v)))&&g.push(o(v));return b}}const{message:p}=u;return r([h,{name:f,message:p}],u)};return o},rx=(a,{json:t,lossy:e}={})=>{const i=[];return ez(!(t||e),!!t,new Map,i)(a),i},Dg=typeof structuredClone=="function"?(a,t)=>t&&("json"in t||"lossy"in t)?ax(rx(a,t)):structuredClone(a):(a,t)=>ax(rx(a,t));function nz(a,t){const e=[{type:"text",value:""}];return t>1&&e.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),e}function iz(a,t){return"Back to reference "+(a+1)+(t>1?"-"+t:"")}function sz(a){const t=typeof a.options.clobberPrefix=="string"?a.options.clobberPrefix:"user-content-",e=a.options.footnoteBackContent||nz,i=a.options.footnoteBackLabel||iz,r=a.options.footnoteLabel||"Footnotes",o=a.options.footnoteLabelTagName||"h2",u=a.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let f=-1;for(;++f<a.footnoteOrder.length;){const p=a.footnoteById.get(a.footnoteOrder[f]);if(!p)continue;const g=a.all(p),b=String(p.identifier).toUpperCase(),v=kc(b.toLowerCase());let A=0;const E=[],T=a.footnoteCounts.get(b);for(;T!==void 0&&++A<=T;){E.length>0&&E.push({type:"text",value:" "});let P=typeof e=="string"?e:e(f,A);typeof P=="string"&&(P={type:"text",value:P}),E.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(A>1?"-"+A:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(f,A),className:["data-footnote-backref"]},children:Array.isArray(P)?P:[P]})}const D=g[g.length-1];if(D&&D.type==="element"&&D.tagName==="p"){const P=D.children[D.children.length-1];P&&P.type==="text"?P.value+=" ":D.children.push({type:"text",value:" "}),D.children.push(...E)}else g.push(...E);const C={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:a.wrap(g,!0)};a.patch(p,C),h.push(C)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Dg(u),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:a.wrap(h,!0)},{type:"text",value:`
`}]}}const mC=function(a){if(a==null)return oz;if(typeof a=="function")return um(a);if(typeof a=="object")return Array.isArray(a)?az(a):rz(a);if(typeof a=="string")return lz(a);throw new Error("Expected function, string, or object as test")};function az(a){const t=[];let e=-1;for(;++e<a.length;)t[e]=mC(a[e]);return um(i);function i(...r){let o=-1;for(;++o<t.length;)if(t[o].apply(this,r))return!0;return!1}}function rz(a){const t=a;return um(e);function e(i){const r=i;let o;for(o in a)if(r[o]!==t[o])return!1;return!0}}function lz(a){return um(t);function t(e){return e&&e.type===a}}function um(a){return t;function t(e,i,r){return!!(uz(e)&&a.call(this,e,typeof i=="number"?i:void 0,r||void 0))}}function oz(){return!0}function uz(a){return a!==null&&typeof a=="object"&&"type"in a}const yC=[],cz=!0,lx=!1,hz="skip";function dz(a,t,e,i){let r;typeof t=="function"&&typeof e!="function"?(i=e,e=t):r=t;const o=mC(r),u=i?-1:1;h(a,void 0,[])();function h(f,p,g){const b=f&&typeof f=="object"?f:{};if(typeof b.type=="string"){const A=typeof b.tagName=="string"?b.tagName:typeof b.name=="string"?b.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(f.type+(A?"<"+A+">":""))+")"})}return v;function v(){let A=yC,E,T,D;if((!t||o(f,p,g[g.length-1]||void 0))&&(A=fz(e(f,g)),A[0]===lx))return A;if("children"in f&&f.children){const C=f;if(C.children&&A[0]!==hz)for(T=(i?C.children.length:-1)+u,D=g.concat(C);T>-1&&T<C.children.length;){const P=C.children[T];if(E=h(P,T,D)(),E[0]===lx)return E;T=typeof E[1]=="number"?E[1]:T+u}}return A}}}function fz(a){return Array.isArray(a)?a:typeof a=="number"?[cz,a]:a==null?yC:[a]}function bC(a,t,e,i){let r,o,u;typeof t=="function"?(o=void 0,u=t,r=e):(o=t,u=e,r=i),dz(a,o,h,r);function h(f,p){const g=p[p.length-1],b=g?g.children.indexOf(f):void 0;return u(f,b,g)}}const S0={}.hasOwnProperty,pz={};function gz(a,t){const e=t||pz,i=new Map,r=new Map,o=new Map,u={...$P,...e.handlers},h={all:p,applyData:yz,definitionById:i,footnoteById:r,footnoteCounts:o,footnoteOrder:[],handlers:u,one:f,options:e,patch:mz,wrap:vz};return bC(a,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const b=g.type==="definition"?i:r,v=String(g.identifier).toUpperCase();b.has(v)||b.set(v,g)}}),h;function f(g,b){const v=g.type,A=h.handlers[v];if(S0.call(h.handlers,v)&&A)return A(h,g,b);if(h.options.passThrough&&h.options.passThrough.includes(v)){if("children"in g){const{children:T,...D}=g,C=Dg(D);return C.children=h.all(g),C}return Dg(g)}return(h.options.unknownHandler||bz)(h,g,b)}function p(g){const b=[];if("children"in g){const v=g.children;let A=-1;for(;++A<v.length;){const E=h.one(v[A],g);if(E){if(A&&v[A-1].type==="break"&&(!Array.isArray(E)&&E.type==="text"&&(E.value=ox(E.value)),!Array.isArray(E)&&E.type==="element")){const T=E.children[0];T&&T.type==="text"&&(T.value=ox(T.value))}Array.isArray(E)?b.push(...E):b.push(E)}}}return b}}function mz(a,t){a.position&&(t.position=J2(a))}function yz(a,t){let e=t;if(a&&a.data){const i=a.data.hName,r=a.data.hChildren,o=a.data.hProperties;if(typeof i=="string")if(e.type==="element")e.tagName=i;else{const u="children"in e?e.children:[e];e={type:"element",tagName:i,properties:{},children:u}}e.type==="element"&&o&&Object.assign(e.properties,Dg(o)),"children"in e&&e.children&&r!==null&&r!==void 0&&(e.children=r)}return e}function bz(a,t){const e=t.data||{},i="value"in t&&!(S0.call(e,"hProperties")||S0.call(e,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:a.all(t)};return a.patch(t,i),a.applyData(t,i)}function vz(a,t){const e=[];let i=-1;for(t&&e.push({type:"text",value:`
`});++i<a.length;)i&&e.push({type:"text",value:`
`}),e.push(a[i]);return t&&a.length>0&&e.push({type:"text",value:`
`}),e}function ox(a){let t=0,e=a.charCodeAt(t);for(;e===9||e===32;)t++,e=a.charCodeAt(t);return a.slice(t)}function ux(a,t){const e=gz(a,t),i=e.one(a,void 0),r=sz(e),o=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&o.children.push({type:"text",value:`
`},r),o}function Az(a,t){return a&&"run"in a?async function(e,i){const r=ux(e,{file:i,...t});await a.run(r,i)}:function(e,i){return ux(e,{file:i,...a||t})}}function cx(a){if(a)throw a}var Bb,hx;function Sz(){if(hx)return Bb;hx=1;var a=Object.prototype.hasOwnProperty,t=Object.prototype.toString,e=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(p){return typeof Array.isArray=="function"?Array.isArray(p):t.call(p)==="[object Array]"},o=function(p){if(!p||t.call(p)!=="[object Object]")return!1;var g=a.call(p,"constructor"),b=p.constructor&&p.constructor.prototype&&a.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!g&&!b)return!1;var v;for(v in p);return typeof v>"u"||a.call(p,v)},u=function(p,g){e&&g.name==="__proto__"?e(p,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):p[g.name]=g.newValue},h=function(p,g){if(g==="__proto__")if(a.call(p,g)){if(i)return i(p,g).value}else return;return p[g]};return Bb=function f(){var p,g,b,v,A,E,T=arguments[0],D=1,C=arguments.length,P=!1;for(typeof T=="boolean"&&(P=T,T=arguments[1]||{},D=2),(T==null||typeof T!="object"&&typeof T!="function")&&(T={});D<C;++D)if(p=arguments[D],p!=null)for(g in p)b=h(T,g),v=h(p,g),T!==v&&(P&&v&&(o(v)||(A=r(v)))?(A?(A=!1,E=b&&r(b)?b:[]):E=b&&o(b)?b:{},u(T,{name:g,newValue:f(P,E,v)})):typeof v<"u"&&u(T,{name:g,newValue:v}));return T},Bb}var Ez=Sz();const Ub=x0(Ez);function E0(a){if(typeof a!="object"||a===null)return!1;const t=Object.getPrototypeOf(a);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)}function _z(){const a=[],t={run:e,use:i};return t;function e(...r){let o=-1;const u=r.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);h(null,...r);function h(f,...p){const g=a[++o];let b=-1;if(f){u(f);return}for(;++b<r.length;)(p[b]===null||p[b]===void 0)&&(p[b]=r[b]);r=p,g?xz(g,h)(...p):u(null,...p)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return a.push(r),t}}function xz(a,t){let e;return i;function i(...u){const h=a.length>u.length;let f;h&&u.push(r);try{f=a.apply(this,u)}catch(p){const g=p;if(h&&e)throw g;return r(g)}h||(f&&f.then&&typeof f.then=="function"?f.then(o,r):f instanceof Error?r(f):o(f))}function r(u,...h){e||(e=!0,t(u,...h))}function o(u){r(null,u)}}const Ss={basename:wz,dirname:Tz,extname:Cz,join:Rz,sep:"/"};function wz(a,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Rf(a);let e=0,i=-1,r=a.length,o;if(t===void 0||t.length===0||t.length>a.length){for(;r--;)if(a.codePointAt(r)===47){if(o){e=r+1;break}}else i<0&&(o=!0,i=r+1);return i<0?"":a.slice(e,i)}if(t===a)return"";let u=-1,h=t.length-1;for(;r--;)if(a.codePointAt(r)===47){if(o){e=r+1;break}}else u<0&&(o=!0,u=r+1),h>-1&&(a.codePointAt(r)===t.codePointAt(h--)?h<0&&(i=r):(h=-1,i=u));return e===i?i=u:i<0&&(i=a.length),a.slice(e,i)}function Tz(a){if(Rf(a),a.length===0)return".";let t=-1,e=a.length,i;for(;--e;)if(a.codePointAt(e)===47){if(i){t=e;break}}else i||(i=!0);return t<0?a.codePointAt(0)===47?"/":".":t===1&&a.codePointAt(0)===47?"//":a.slice(0,t)}function Cz(a){Rf(a);let t=a.length,e=-1,i=0,r=-1,o=0,u;for(;t--;){const h=a.codePointAt(t);if(h===47){if(u){i=t+1;break}continue}e<0&&(u=!0,e=t+1),h===46?r<0?r=t:o!==1&&(o=1):r>-1&&(o=-1)}return r<0||e<0||o===0||o===1&&r===e-1&&r===i+1?"":a.slice(r,e)}function Rz(...a){let t=-1,e;for(;++t<a.length;)Rf(a[t]),a[t]&&(e=e===void 0?a[t]:e+"/"+a[t]);return e===void 0?".":kz(e)}function kz(a){Rf(a);const t=a.codePointAt(0)===47;let e=Mz(a,!t);return e.length===0&&!t&&(e="."),e.length>0&&a.codePointAt(a.length-1)===47&&(e+="/"),t?"/"+e:e}function Mz(a,t){let e="",i=0,r=-1,o=0,u=-1,h,f;for(;++u<=a.length;){if(u<a.length)h=a.codePointAt(u);else{if(h===47)break;h=47}if(h===47){if(!(r===u-1||o===1))if(r!==u-1&&o===2){if(e.length<2||i!==2||e.codePointAt(e.length-1)!==46||e.codePointAt(e.length-2)!==46){if(e.length>2){if(f=e.lastIndexOf("/"),f!==e.length-1){f<0?(e="",i=0):(e=e.slice(0,f),i=e.length-1-e.lastIndexOf("/")),r=u,o=0;continue}}else if(e.length>0){e="",i=0,r=u,o=0;continue}}t&&(e=e.length>0?e+"/..":"..",i=2)}else e.length>0?e+="/"+a.slice(r+1,u):e=a.slice(r+1,u),i=u-r-1;r=u,o=0}else h===46&&o>-1?o++:o=-1}return e}function Rf(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}const Dz={cwd:Lz};function Lz(){return"/"}function _0(a){return!!(a!==null&&typeof a=="object"&&"href"in a&&a.href&&"protocol"in a&&a.protocol&&a.auth===void 0)}function Oz(a){if(typeof a=="string")a=new URL(a);else if(!_0(a)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+a+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(a.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Nz(a)}function Nz(a){if(a.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=a.pathname;let e=-1;for(;++e<t.length;)if(t.codePointAt(e)===37&&t.codePointAt(e+1)===50){const i=t.codePointAt(e+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(t)}const jb=["history","path","basename","stem","extname","dirname"];class vC{constructor(t){let e;t?_0(t)?e={path:t}:typeof t=="string"||Pz(t)?e={value:t}:e=t:e={},this.cwd="cwd"in e?"":Dz.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<jb.length;){const o=jb[i];o in e&&e[o]!==void 0&&e[o]!==null&&(this[o]=o==="history"?[...e[o]]:e[o])}let r;for(r in e)jb.includes(r)||(this[r]=e[r])}get basename(){return typeof this.path=="string"?Ss.basename(this.path):void 0}set basename(t){Gb(t,"basename"),qb(t,"basename"),this.path=Ss.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ss.dirname(this.path):void 0}set dirname(t){dx(this.basename,"dirname"),this.path=Ss.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ss.extname(this.path):void 0}set extname(t){if(qb(t,"extname"),dx(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ss.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){_0(t)&&(t=Oz(t)),Gb(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ss.basename(this.path,this.extname):void 0}set stem(t){Gb(t,"stem"),qb(t,"stem"),this.path=Ss.join(this.dirname||"",t+(this.extname||""))}fail(t,e,i){const r=this.message(t,e,i);throw r.fatal=!0,r}info(t,e,i){const r=this.message(t,e,i);return r.fatal=void 0,r}message(t,e,i){const r=new Mn(t,e,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function qb(a,t){if(a&&a.includes(Ss.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ss.sep+"`")}function Gb(a,t){if(!a)throw new Error("`"+t+"` cannot be empty")}function dx(a,t){if(!a)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Pz(a){return!!(a&&typeof a=="object"&&"byteLength"in a&&"byteOffset"in a)}const zz=function(a){const i=this.constructor.prototype,r=i[a],o=function(){return r.apply(o,arguments)};return Object.setPrototypeOf(o,i),o},Iz={}.hasOwnProperty;class J0 extends zz{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=_z()}copy(){const t=new J0;let e=-1;for(;++e<this.attachers.length;){const i=this.attachers[e];t.use(...i)}return t.data(Ub(!0,{},this.namespace)),t}data(t,e){return typeof t=="string"?arguments.length===2?(Yb("data",this.frozen),this.namespace[t]=e,this):Iz.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Yb("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[e,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=e.call(t,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const e=Yp(t),i=this.parser||this.Parser;return Vb("parse",i),i(String(e),e)}process(t,e){const i=this;return this.freeze(),Vb("process",this.parser||this.Parser),Xb("process",this.compiler||this.Compiler),e?r(void 0,e):new Promise(r);function r(o,u){const h=Yp(t),f=i.parse(h);i.run(f,h,function(g,b,v){if(g||!b||!v)return p(g);const A=b,E=i.stringify(A,v);Bz(E)?v.value=E:v.result=E,p(g,v)});function p(g,b){g||!b?u(g):o?o(b):e(void 0,b)}}}processSync(t){let e=!1,i;return this.freeze(),Vb("processSync",this.parser||this.Parser),Xb("processSync",this.compiler||this.Compiler),this.process(t,r),px("processSync","process",e),i;function r(o,u){e=!0,cx(o),i=u}}run(t,e,i){fx(t),this.freeze();const r=this.transformers;return!i&&typeof e=="function"&&(i=e,e=void 0),i?o(void 0,i):new Promise(o);function o(u,h){const f=Yp(e);r.run(t,f,p);function p(g,b,v){const A=b||t;g?h(g):u?u(A):i(void 0,A,v)}}}runSync(t,e){let i=!1,r;return this.run(t,e,o),px("runSync","run",i),r;function o(u,h){cx(u),r=h,i=!0}}stringify(t,e){this.freeze();const i=Yp(e),r=this.compiler||this.Compiler;return Xb("stringify",r),fx(t),r(t,i)}use(t,...e){const i=this.attachers,r=this.namespace;if(Yb("use",this.frozen),t!=null)if(typeof t=="function")f(t,e);else if(typeof t=="object")Array.isArray(t)?h(t):u(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(p){if(typeof p=="function")f(p,[]);else if(typeof p=="object")if(Array.isArray(p)){const[g,...b]=p;f(g,b)}else u(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function u(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(p.plugins),p.settings&&(r.settings=Ub(!0,r.settings,p.settings))}function h(p){let g=-1;if(p!=null)if(Array.isArray(p))for(;++g<p.length;){const b=p[g];o(b)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function f(p,g){let b=-1,v=-1;for(;++b<i.length;)if(i[b][0]===p){v=b;break}if(v===-1)i.push([p,...g]);else if(g.length>0){let[A,...E]=g;const T=i[v][1];E0(T)&&E0(A)&&(A=Ub(!0,T,A)),i[v]=[p,A,...E]}}}}const Fz=new J0().freeze();function Vb(a,t){if(typeof t!="function")throw new TypeError("Cannot `"+a+"` without `parser`")}function Xb(a,t){if(typeof t!="function")throw new TypeError("Cannot `"+a+"` without `compiler`")}function Yb(a,t){if(t)throw new Error("Cannot call `"+a+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function fx(a){if(!E0(a)||typeof a.type!="string")throw new TypeError("Expected node, got `"+a+"`")}function px(a,t,e){if(!e)throw new Error("`"+a+"` finished async. Use `"+t+"` instead")}function Yp(a){return Hz(a)?a:new vC(a)}function Hz(a){return!!(a&&typeof a=="object"&&"message"in a&&"messages"in a)}function Bz(a){return typeof a=="string"||Uz(a)}function Uz(a){return!!(a&&typeof a=="object"&&"byteLength"in a&&"byteOffset"in a)}const jz="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",gx=[],mx={allowDangerousHtml:!0},qz=/^(https?|ircs?|mailto|xmpp)$/i,Gz=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Vz(a){const t=Xz(a),e=Yz(a);return Kz(t.runSync(t.parse(e),e),a)}function Xz(a){const t=a.rehypePlugins||gx,e=a.remarkPlugins||gx,i=a.remarkRehypeOptions?{...a.remarkRehypeOptions,...mx}:mx;return Fz().use(wP).use(e).use(Az,i).use(t)}function Yz(a){const t=a.children||"",e=new vC;return typeof t=="string"&&(e.value=t),e}function Kz(a,t){const e=t.allowedElements,i=t.allowElement,r=t.components,o=t.disallowedElements,u=t.skipHtml,h=t.unwrapDisallowed,f=t.urlTransform||Qz;for(const g of Gz)Object.hasOwn(t,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+jz+g.id,void 0);return bC(a,p),sO(a,{Fragment:ct.Fragment,components:r,ignoreInvalidStyle:!0,jsx:ct.jsx,jsxs:ct.jsxs,passKeys:!0,passNode:!0});function p(g,b,v){if(g.type==="raw"&&v&&typeof b=="number")return u?v.children.splice(b,1):v.children[b]={type:"text",value:g.value},b;if(g.type==="element"){let A;for(A in Ib)if(Object.hasOwn(Ib,A)&&Object.hasOwn(g.properties,A)){const E=g.properties[A],T=Ib[A];(T===null||T.includes(g.tagName))&&(g.properties[A]=f(String(E||""),A,g))}}if(g.type==="element"){let A=e?!e.includes(g.tagName):o?o.includes(g.tagName):!1;if(!A&&i&&typeof b=="number"&&(A=!i(g,b,v)),A&&v&&typeof b=="number")return h&&g.children?v.children.splice(b,1,...g.children):v.children.splice(b,1),b}}}function Qz(a){const t=a.indexOf(":"),e=a.indexOf("?"),i=a.indexOf("#"),r=a.indexOf("/");return t===-1||r!==-1&&t>r||e!==-1&&t>e||i!==-1&&t>i||qz.test(a.slice(0,t))?a:""}function Wz({llmResponse:a,setPage:t}){const e=a.references.map((i,r)=>ct.jsxs("li",{children:[" ",i.section," (pages ",i.pages.map((o,u)=>ct.jsxs("a",{className:"d-inline",onClick:()=>t(o),children:[o," "]},u)),")"]},r));return ct.jsxs("div",{className:"card-inn",children:[ct.jsx("h5",{children:"Answer"}),ct.jsx("div",{className:"answer",children:ct.jsx(Vz,{children:a.answer})}),ct.jsx("h5",{children:"Sources: "}),ct.jsx("ul",{className:"cited-pages",children:e}),ct.jsx("div",{className:"card small disclaimer",children:"Click on a page to navigate to it on the right panel"})]})}function $z(){const[a,t]=dt.useState(1),[e,i]=dt.useState(0),[r,o]=dt.useState(hu[0].text),[u,h]=dt.useState(""),[f,p]=dt.useState(""),[g,b]=dt.useState(hu[0]),[v,A]=dt.useState(""),E=dt.useRef();dt.useEffect(()=>{o(hu[e].text)},[e]),dt.useEffect(()=>{g.references.length>0&&t(g.references[0].pages[1])},[g]),dt.useEffect(()=>{if(b(hu[0]),f==""){h("Please provide a question.");return}E.current.start(),h("Recollecting relevant documents..."),setTimeout(function(){h("Qerying the LLM with relevant documents..."),setTimeout(function(){E.current.stop(),h("Answer successfully retrieved."),b(hu[e])},1500)},1e3)},[f]);const T=hu.map(C=>ct.jsxs("option",{value:C.id,children:[" ",C.text," "]},C.id)),D=ct.jsxs("div",{className:"card-inn",children:["Select a predefined question:",ct.jsx("select",{onChange:C=>i(C.target.value),children:T})]});return ct.jsxs(ct.Fragment,{children:[ct.jsx("div",{className:"card disclaimer",children:"On this demo you might choose a predefined question on a specific book, on the real app of course you can choose/provide the book and ask your own question, the result will look like this:"}),ct.jsxs("div",{className:"row",children:[ct.jsxs("div",{className:"chat-column card",children:[D,ct.jsx(k2,{selectedQuestionText:r,demo:!0,setAskedQuestion:p}),ct.jsxs("div",{className:"disclaimer card small",children:[ct.jsx(R2,{ref:E}),"",u]}),ct.jsx(Wz,{llmResponse:g,setPage:t})]}),ct.jsx("div",{className:"pdf-column",children:ct.jsx(C2,{page:a,setPage:t,llmResponse:g,searchText:v,setSearchText:A})})]})]})}function Zz(){return ct.jsxs(ct.Fragment,{children:[ct.jsx("div",{children:ct.jsx("img",{src:Gk,className:"logo",alt:"Vite logo"})}),ct.jsx("h1",{children:"Ollama book assistant."}),ct.jsxs("div",{className:"card",children:["The server is currently unavailable, please see the ",ct.jsx("a",{href:"#demo",children:"demo"}),"."]}),ct.jsxs("div",{className:"disclaimer card",children:["I host this app on a local machine so both the Embeddings and LLM servers might not always be up and running or they could be locked from another process.",ct.jsx("br",{}),"If you want to check the online app with real inference (not simulated like the demo), feel free to contact me at",ct.jsx("a",{target:"_blank",href:"mailto:juancantor.all@gmail.com",children:"juancantor.all@gmail.com"}),"and I'll get back to you with a user and a password as well as information about when the servers will be running. If you want to try the app locally feel free to clone it from github, you can clone only the",ct.jsx("a",{target:"_blank",href:"https://github.com/juancantor12/ollama-rag-book-assistant",children:"backend"})," part and use either the CLI or the API, or you can clone also this",ct.jsx("a",{target:"_blank",href:"https://github.com/juancantor12/ollama-rag-book-assistant-ui",children:"React UI"})," and set it up to point at your local API."]}),ct.jsx("h3",{children:"What is this app about."}),ct.jsxs("div",{className:"card",children:["This application allows the user to provide a large book in PDF (text based) and to query the contents of the book using natural language and a local LLM, the generated responses will feature precise, sourced and cited information from the book, including the relation from the retrieved parts of the book with the question and reference to chapters, sections and pages used to generate the answer.",ct.jsx("br",{}),"This is achieved by construction a embeddings vector database with the book information and then enhancing the LLM context with related documents fromt he book using RAG."]}),ct.jsx("h3",{children:" Demo"}),ct.jsx("div",{className:"card",id:"demo",children:ct.jsx($z,{})})]})}qk.createRoot(document.getElementById("root")).render(ct.jsx(dt.StrictMode,{children:ct.jsx(Zz,{})}));
